(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(u){if(u.ep)return;u.ep=!0;const o=r(u);fetch(u.href,o)}})();function Nc(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ic={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function Qv(){if(op)return pl;op=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(l,u,o){var d=null;if(o!==void 0&&(d=""+o),u.key!==void 0&&(d=""+u.key),"key"in u){o={};for(var p in u)p!=="key"&&(o[p]=u[p])}else o=u;return u=o.ref,{$$typeof:a,type:l,key:d,ref:u!==void 0?u:null,props:o}}return pl.Fragment=t,pl.jsx=r,pl.jsxs=r,pl}var cp;function Kv(){return cp||(cp=1,ic.exports=Qv()),ic.exports}var b=Kv(),lc={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Wv(){if(fp)return Ue;fp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,w={};function F(T,z,$){this.props=T,this.context=z,this.refs=w,this.updater=$||A}F.prototype.isReactComponent={},F.prototype.setState=function(T,z){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,z,"setState")},F.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function U(){}U.prototype=F.prototype;function Q(T,z,$){this.props=T,this.context=z,this.refs=w,this.updater=$||A}var V=Q.prototype=new U;V.constructor=Q,D(V,F.prototype),V.isPureReactComponent=!0;var te=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function xe(T,z,$,ae,se,be){return $=be.ref,{$$typeof:a,type:T,key:z,ref:$!==void 0?$:null,props:be}}function Ee(T,z){return xe(T.type,z,void 0,void 0,void 0,T.props)}function ge(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function we(T){var z={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function($){return z[$]})}var je=/\/+/g;function ve(T,z){return typeof T=="object"&&T!==null&&T.key!=null?we(""+T.key):z.toString(36)}function P(){}function le(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(P,P):(T.status="pending",T.then(function(z){T.status==="pending"&&(T.status="fulfilled",T.value=z)},function(z){T.status==="pending"&&(T.status="rejected",T.reason=z)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ne(T,z,$,ae,se){var be=typeof T;(be==="undefined"||be==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(be){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case a:case t:fe=!0;break;case g:return fe=T._init,ne(fe(T._payload),z,$,ae,se)}}if(fe)return se=se(T),fe=ae===""?"."+ve(T,0):ae,te(se)?($="",fe!=null&&($=fe.replace(je,"$&/")+"/"),ne(se,z,$,"",function(qt){return qt})):se!=null&&(ge(se)&&(se=Ee(se,$+(se.key==null||T&&T.key===se.key?"":(""+se.key).replace(je,"$&/")+"/")+fe)),z.push(se)),1;fe=0;var qe=ae===""?".":ae+":";if(te(T))for(var Pe=0;Pe<T.length;Pe++)ae=T[Pe],be=qe+ve(ae,Pe),fe+=ne(ae,z,$,be,se);else if(Pe=S(T),typeof Pe=="function")for(T=Pe.call(T),Pe=0;!(ae=T.next()).done;)ae=ae.value,be=qe+ve(ae,Pe++),fe+=ne(ae,z,$,be,se);else if(be==="object"){if(typeof T.then=="function")return ne(le(T),z,$,ae,se);throw z=String(T),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return fe}function C(T,z,$){if(T==null)return T;var ae=[],se=0;return ne(T,ae,"","",function(be){return z.call($,be,se++)}),ae}function X(T){if(T._status===-1){var z=T._result;z=z(),z.then(function($){(T._status===0||T._status===-1)&&(T._status=1,T._result=$)},function($){(T._status===0||T._status===-1)&&(T._status=2,T._result=$)}),T._status===-1&&(T._status=0,T._result=z)}if(T._status===1)return T._result.default;throw T._result}var ie=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Te(){}return Ue.Children={map:C,forEach:function(T,z,$){C(T,function(){z.apply(this,arguments)},$)},count:function(T){var z=0;return C(T,function(){z++}),z},toArray:function(T){return C(T,function(z){return z})||[]},only:function(T){if(!ge(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Ue.Component=F,Ue.Fragment=r,Ue.Profiler=u,Ue.PureComponent=Q,Ue.StrictMode=l,Ue.Suspense=h,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(T){return W.H.useMemoCache(T)}},Ue.cache=function(T){return function(){return T.apply(null,arguments)}},Ue.cloneElement=function(T,z,$){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ae=D({},T.props),se=T.key,be=void 0;if(z!=null)for(fe in z.ref!==void 0&&(be=void 0),z.key!==void 0&&(se=""+z.key),z)!oe.call(z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&z.ref===void 0||(ae[fe]=z[fe]);var fe=arguments.length-2;if(fe===1)ae.children=$;else if(1<fe){for(var qe=Array(fe),Pe=0;Pe<fe;Pe++)qe[Pe]=arguments[Pe+2];ae.children=qe}return xe(T.type,se,void 0,void 0,be,ae)},Ue.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:o,_context:T},T},Ue.createElement=function(T,z,$){var ae,se={},be=null;if(z!=null)for(ae in z.key!==void 0&&(be=""+z.key),z)oe.call(z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(se[ae]=z[ae]);var fe=arguments.length-2;if(fe===1)se.children=$;else if(1<fe){for(var qe=Array(fe),Pe=0;Pe<fe;Pe++)qe[Pe]=arguments[Pe+2];se.children=qe}if(T&&T.defaultProps)for(ae in fe=T.defaultProps,fe)se[ae]===void 0&&(se[ae]=fe[ae]);return xe(T,be,void 0,void 0,null,se)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(T){return{$$typeof:p,render:T}},Ue.isValidElement=ge,Ue.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:X}},Ue.memo=function(T,z){return{$$typeof:m,type:T,compare:z===void 0?null:z}},Ue.startTransition=function(T){var z=W.T,$={};W.T=$;try{var ae=T(),se=W.S;se!==null&&se($,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Te,ie)}catch(be){ie(be)}finally{W.T=z}},Ue.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ue.use=function(T){return W.H.use(T)},Ue.useActionState=function(T,z,$){return W.H.useActionState(T,z,$)},Ue.useCallback=function(T,z){return W.H.useCallback(T,z)},Ue.useContext=function(T){return W.H.useContext(T)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(T,z){return W.H.useDeferredValue(T,z)},Ue.useEffect=function(T,z,$){var ae=W.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(T,z)},Ue.useId=function(){return W.H.useId()},Ue.useImperativeHandle=function(T,z,$){return W.H.useImperativeHandle(T,z,$)},Ue.useInsertionEffect=function(T,z){return W.H.useInsertionEffect(T,z)},Ue.useLayoutEffect=function(T,z){return W.H.useLayoutEffect(T,z)},Ue.useMemo=function(T,z){return W.H.useMemo(T,z)},Ue.useOptimistic=function(T,z){return W.H.useOptimistic(T,z)},Ue.useReducer=function(T,z,$){return W.H.useReducer(T,z,$)},Ue.useRef=function(T){return W.H.useRef(T)},Ue.useState=function(T){return W.H.useState(T)},Ue.useSyncExternalStore=function(T,z,$){return W.H.useSyncExternalStore(T,z,$)},Ue.useTransition=function(){return W.H.useTransition()},Ue.version="19.1.1",Ue}var dp;function Rc(){return dp||(dp=1,lc.exports=Wv()),lc.exports}var L=Rc();const Za=Nc(L);var sc={exports:{}},ml={},uc={exports:{}},oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Jv(){return hp||(hp=1,(function(a){function t(C,X){var ie=C.length;C.push(X);e:for(;0<ie;){var Te=ie-1>>>1,T=C[Te];if(0<u(T,X))C[Te]=X,C[ie]=T,ie=Te;else break e}}function r(C){return C.length===0?null:C[0]}function l(C){if(C.length===0)return null;var X=C[0],ie=C.pop();if(ie!==X){C[0]=ie;e:for(var Te=0,T=C.length,z=T>>>1;Te<z;){var $=2*(Te+1)-1,ae=C[$],se=$+1,be=C[se];if(0>u(ae,ie))se<T&&0>u(be,ae)?(C[Te]=be,C[se]=ie,Te=se):(C[Te]=ae,C[$]=ie,Te=$);else if(se<T&&0>u(be,ie))C[Te]=be,C[se]=ie,Te=se;else break e}}return X}function u(C,X){var ie=C.sortIndex-X.sortIndex;return ie!==0?ie:C.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var h=[],m=[],g=1,x=null,S=3,A=!1,D=!1,w=!1,F=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function te(C){for(var X=r(m);X!==null;){if(X.callback===null)l(m);else if(X.startTime<=C)l(m),X.sortIndex=X.expirationTime,t(h,X);else break;X=r(m)}}function W(C){if(w=!1,te(C),!D)if(r(h)!==null)D=!0,oe||(oe=!0,ve());else{var X=r(m);X!==null&&ne(W,X.startTime-C)}}var oe=!1,xe=-1,Ee=5,ge=-1;function we(){return F?!0:!(a.unstable_now()-ge<Ee)}function je(){if(F=!1,oe){var C=a.unstable_now();ge=C;var X=!0;try{e:{D=!1,w&&(w=!1,Q(xe),xe=-1),A=!0;var ie=S;try{t:{for(te(C),x=r(h);x!==null&&!(x.expirationTime>C&&we());){var Te=x.callback;if(typeof Te=="function"){x.callback=null,S=x.priorityLevel;var T=Te(x.expirationTime<=C);if(C=a.unstable_now(),typeof T=="function"){x.callback=T,te(C),X=!0;break t}x===r(h)&&l(h),te(C)}else l(h);x=r(h)}if(x!==null)X=!0;else{var z=r(m);z!==null&&ne(W,z.startTime-C),X=!1}}break e}finally{x=null,S=ie,A=!1}X=void 0}}finally{X?ve():oe=!1}}}var ve;if(typeof V=="function")ve=function(){V(je)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,le=P.port2;P.port1.onmessage=je,ve=function(){le.postMessage(null)}}else ve=function(){U(je,0)};function ne(C,X){xe=U(function(){C(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(C){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var ie=S;S=X;try{return C()}finally{S=ie}},a.unstable_requestPaint=function(){F=!0},a.unstable_runWithPriority=function(C,X){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ie=S;S=C;try{return X()}finally{S=ie}},a.unstable_scheduleCallback=function(C,X,ie){var Te=a.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Te+ie:Te):ie=Te,C){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ie+T,C={id:g++,callback:X,priorityLevel:C,startTime:ie,expirationTime:T,sortIndex:-1},ie>Te?(C.sortIndex=ie,t(m,C),r(h)===null&&C===r(m)&&(w?(Q(xe),xe=-1):w=!0,ne(W,ie-Te))):(C.sortIndex=T,t(h,C),D||A||(D=!0,oe||(oe=!0,ve()))),C},a.unstable_shouldYield=we,a.unstable_wrapCallback=function(C){var X=S;return function(){var ie=S;S=X;try{return C.apply(this,arguments)}finally{S=ie}}}})(oc)),oc}var pp;function $v(){return pp||(pp=1,uc.exports=Jv()),uc.exports}var cc={exports:{}},jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function eg(){if(mp)return jt;mp=1;var a=Rc();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,jt.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},jt.flushSync=function(h){var m=d.T,g=l.p;try{if(d.T=null,l.p=2,h)return h()}finally{d.T=m,l.p=g,l.d.f()}},jt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(h,m))},jt.prefetchDNS=function(h){typeof h=="string"&&l.d.D(h)},jt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=p(g,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?l.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:A}):g==="script"&&l.d.X(h,{crossOrigin:x,integrity:S,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=p(m.as,m.crossOrigin);l.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(h)},jt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=p(g,m.crossOrigin);l.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jt.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=p(m.as,m.crossOrigin);l.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(h)},jt.requestFormReset=function(h){l.d.r(h)},jt.unstable_batchedUpdates=function(h,m){return h(m)},jt.useFormState=function(h,m,g){return d.H.useFormState(h,m,g)},jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},jt.version="19.1.1",jt}var vp;function l0(){if(vp)return cc.exports;vp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),cc.exports=eg(),cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function tg(){if(gp)return ml;gp=1;var a=$v(),t=Rc(),r=l0();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(o(e)!==e)throw Error(l(188))}function h(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(l(188));return n!==e?null:e}for(var i=e,s=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return p(c),e;if(f===s)return p(c),n;f=f.sibling}throw Error(l(188))}if(i.return!==s.return)i=c,s=f;else{for(var v=!1,y=c.child;y;){if(y===i){v=!0,i=c,s=f;break}if(y===s){v=!0,s=c,i=f;break}y=y.sibling}if(!v){for(y=f.child;y;){if(y===i){v=!0,i=f,s=c;break}if(y===s){v=!0,s=f,i=c;break}y=y.sibling}if(!v)throw Error(l(189))}}if(i.alternate!==s)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),V=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case F:return"Profiler";case w:return"StrictMode";case W:return"Suspense";case oe:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case V:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case Ee:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var ne=Array.isArray,C=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Te=[],T=-1;function z(e){return{current:e}}function $(e){0>T||(e.current=Te[T],Te[T]=null,T--)}function ae(e,n){T++,Te[T]=e.current,e.current=n}var se=z(null),be=z(null),fe=z(null),qe=z(null);function Pe(e,n){switch(ae(fe,n),ae(be,e),ae(se,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ih(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ih(n),e=Fh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(se),ae(se,e)}function qt(){$(se),$(be),$(fe)}function Ml(e){e.memoizedState!==null&&ae(qe,e);var n=se.current,i=Fh(n,e.type);n!==i&&(ae(be,e),ae(se,i))}function Vt(e){be.current===e&&($(se),$(be)),qe.current===e&&($(qe),ol._currentValue=ie)}var Tr=Object.prototype.hasOwnProperty,Ar=a.unstable_scheduleCallback,Cr=a.unstable_cancelCallback,Nl=a.unstable_shouldYield,Zn=a.unstable_requestPaint,en=a.unstable_now,Rl=a.unstable_getCurrentPriorityLevel,tn=a.unstable_ImmediatePriority,nn=a.unstable_UserBlockingPriority,Nn=a.unstable_NormalPriority,Ic=a.unstable_LowPriority,eu=a.unstable_IdlePriority,pi=a.log,Mr=a.unstable_setDisableYieldValue,ma=null,It=null;function Rn(e){if(typeof pi=="function"&&Mr(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(ma,e)}catch{}}var Ut=Math.clz32?Math.clz32:Fn,wl=Math.log,mi=Math.LN2;function Fn(e){return e>>>=0,e===0?32:31-(wl(e)/mi|0)|0}var Xt=256,Nr=4194304;function Gn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rr(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var c=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~f,s!==0?c=Gn(s):(v&=y,v!==0?c=Gn(v):i||(i=y&~e,i!==0&&(c=Gn(i))))):(y=s&~f,y!==0?c=Gn(y):v!==0?c=Gn(v):i||(i=s&~e,i!==0&&(c=Gn(i)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:c}function Ja(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function tu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function va(){var e=Xt;return Xt<<=1,(Xt&4194048)===0&&(Xt=256),e}function wn(){var e=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),e}function $a(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Qn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vi(e,n,i,s,c,f){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,E=e.expirationTimes,_=e.hiddenUpdates;for(i=v&~i;0<i;){var j=31-Ut(i),Z=1<<j;y[j]=0,E[j]=-1;var k=_[j];if(k!==null)for(_[j]=null,j=0;j<k.length;j++){var I=k[j];I!==null&&(I.lane&=-536870913)}i&=~Z}s!==0&&wr(e,s,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function wr(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Ut(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&4194090}function er(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Ut(i),c=1<<s;c&n|e[s]&n&&(e[s]|=n),i&=~c}}function gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tr(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:ap(e.type))}function nu(e,n){var i=X.p;try{return X.p=e,n()}finally{X.p=i}}var zn=Math.random().toString(36).slice(2),yt="__reactFiber$"+zn,Ft="__reactProps$"+zn,ga="__reactContainer$"+zn,bi="__reactEvents$"+zn,Ol="__reactListeners$"+zn,Dl="__reactHandles$"+zn,au="__reactResources$"+zn,mn="__reactMarker$"+zn;function Si(e){delete e[yt],delete e[Ft],delete e[bi],delete e[Ol],delete e[Dl]}function ya(e){var n=e[yt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[ga]||i[yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=jh(e);e!==null;){if(i=e[yt])return i;e=jh(e)}return n}e=i,i=e.parentNode}return null}function ba(e){if(e=e[yt]||e[ga]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Sa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function B(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function N(e){e[mn]=!0}var K=new Set,G={};function J(e,n){de(e,n),de(e+"Capture",n)}function de(e,n){for(G[e]=n,e=0;e<n.length;e++)K.add(n[e])}var Se=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),We={},Qe={};function Zt(e){return Tr.call(Qe,e)?!0:Tr.call(We,e)?!1:Se.test(e)?Qe[e]=!0:(We[e]=!0,!1)}function vn(e,n,i){if(Zt(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function nr(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function gn(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}var Or,xi;function Me(e){if(Or===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Or=n&&n[1]||"",xi=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+e+xi}var Je=!1;function ce(e,n){if(!e||Je)return"";Je=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(I){var k=I}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(I){k=I}e.call(Z.prototype)}}else{try{throw Error()}catch(I){k=I}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),v=f[0],y=f[1];if(v&&y){var E=v.split(`
`),_=y.split(`
`);for(c=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;c<_.length&&!_[c].includes("DetermineComponentFrameRoot");)c++;if(s===E.length||c===_.length)for(s=E.length-1,c=_.length-1;1<=s&&0<=c&&E[s]!==_[c];)c--;for(;1<=s&&0<=c;s--,c--)if(E[s]!==_[c]){if(s!==1||c!==1)do if(s--,c--,0>c||E[s]!==_[c]){var j=`
`+E[s].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=s&&0<=c);break}}}finally{Je=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Me(i):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return ce(e.type,!1);case 11:return ce(e.type.render,!1);case 1:return ce(e.type,!0);case 31:return Me("Activity");default:return""}}function it(e){try{var n="";do n+=tt(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Oe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ve(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(e){var n=Ve(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ke(e){e._valueTracker||(e._valueTracker=ct(e))}function Ge(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=Ve(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Fe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mt=/[\n"\\]/g;function Xe(e){return e.replace(Mt,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Nt(e,n,i,s,c,f,v,y){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Oe(n)):e.value!==""+Oe(n)&&(e.value=""+Oe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?xt(e,v,Oe(n)):i!=null?xt(e,v,Oe(i)):s!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Oe(y):e.removeAttribute("name")}function Pt(e,n,i,s,c,f,v,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+Oe(i):"",n=n!=null?""+Oe(n):i,y||n===e.value||(e.value=n),e.defaultValue=n}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function xt(e,n,i){n==="number"&&Fe(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gt(e,n,i,s){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Oe(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Kn(e,n,i){if(n!=null&&(n=""+Oe(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Oe(i):""}function ze(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(l(92));if(ne(s)){if(1<s.length)throw Error(l(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Oe(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s)}function Rt(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var an=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dt(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||an.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function ar(e,n,i){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in n)s=n[c],n.hasOwnProperty(c)&&i[c]!==s&&dt(e,c,s)}else for(var f in n)n.hasOwnProperty(f)&&dt(e,f,n[f])}function rn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ru=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qt(e){return ru.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zt=null;function iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dr=null,_r=null;function Fc(e){var n=ba(e);if(n&&(e=n.stateNode)){var i=e[Ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(Nt(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Xe(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var c=s[Ft]||null;if(!c)throw Error(l(90));Nt(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&Ge(s)}break e;case"textarea":Kn(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Gt(e,!!i.multiple,n,!1)}}}var lu=!1;function Gc(e,n,i){if(lu)return e(n,i);lu=!0;try{var s=e(n);return s}finally{if(lu=!1,(Dr!==null||_r!==null)&&(vs(),Dr&&(n=Dr,e=_r,_r=Dr=null,Fc(n),e)))for(n=0;n<e.length;n++)Fc(e[n])}}function Ei(e,n){var i=e.stateNode;if(i===null)return null;var s=i[Ft]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,n,typeof i));return i}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(Jn)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){su=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{su=!1}var xa=null,uu=null,_l=null;function zc(){if(_l)return _l;var e,n=uu,i=n.length,s,c="value"in xa?xa.value:xa.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var v=i-e;for(s=1;s<=v&&n[i-s]===c[f-s];s++);return _l=c.slice(e,1<s?1-s:void 0)}function Ul(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function Hc(){return!1}function Kt(e){function n(i,s,c,f,v){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ll:Hc,this.isPropagationStopped=Hc,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),n}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Kt(rr),Ai=g({},rr,{view:0,detail:0}),Q0=Kt(Ai),ou,cu,Ci,Bl=g({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ci&&(Ci&&e.type==="mousemove"?(ou=e.screenX-Ci.screenX,cu=e.screenY-Ci.screenY):cu=ou=0,Ci=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:cu}}),jc=Kt(Bl),K0=g({},Bl,{dataTransfer:0}),W0=Kt(K0),J0=g({},Ai,{relatedTarget:0}),fu=Kt(J0),$0=g({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),em=Kt($0),tm=g({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nm=Kt(tm),am=g({},rr,{data:0}),Pc=Kt(am),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lm[e])?!!n[e]:!1}function du(){return sm}var um=g({},Ai,{key:function(e){if(e.key){var n=rm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),om=Kt(um),cm=g({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=Kt(cm),fm=g({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),dm=Kt(fm),hm=g({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pm=Kt(hm),mm=g({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=Kt(mm),gm=g({},rr,{newState:0,oldState:0}),ym=Kt(gm),bm=[9,13,27,32],hu=Jn&&"CompositionEvent"in window,Mi=null;Jn&&"documentMode"in document&&(Mi=document.documentMode);var Sm=Jn&&"TextEvent"in window&&!Mi,qc=Jn&&(!hu||Mi&&8<Mi&&11>=Mi),Vc=" ",Xc=!1;function Zc(e,n){switch(e){case"keyup":return bm.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function xm(e,n){switch(e){case"compositionend":return Qc(n);case"keypress":return n.which!==32?null:(Xc=!0,Vc);case"textInput":return e=n.data,e===Vc&&Xc?null:e;default:return null}}function Em(e,n){if(Ur)return e==="compositionend"||!hu&&Zc(e,n)?(e=zc(),_l=uu=xa=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qc&&n.locale!=="ko"?null:n.data;default:return null}}var Tm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tm[e.type]:n==="textarea"}function Wc(e,n,i,s){Dr?_r?_r.push(s):_r=[s]:Dr=s,n=Es(n,"onChange"),0<n.length&&(i=new kl("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Ni=null,Ri=null;function Am(e){_h(e,0)}function Il(e){var n=Sa(e);if(Ge(n))return e}function Jc(e,n){if(e==="change")return n}var $c=!1;if(Jn){var pu;if(Jn){var mu="oninput"in document;if(!mu){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),mu=typeof ef.oninput=="function"}pu=mu}else pu=!1;$c=pu&&(!document.documentMode||9<document.documentMode)}function tf(){Ni&&(Ni.detachEvent("onpropertychange",nf),Ri=Ni=null)}function nf(e){if(e.propertyName==="value"&&Il(Ri)){var n=[];Wc(n,Ri,e,iu(e)),Gc(Am,n)}}function Cm(e,n,i){e==="focusin"?(tf(),Ni=n,Ri=i,Ni.attachEvent("onpropertychange",nf)):e==="focusout"&&tf()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Ri)}function Nm(e,n){if(e==="click")return Il(n)}function Rm(e,n){if(e==="input"||e==="change")return Il(n)}function wm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:wm;function wi(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!Tr.call(n,c)||!ln(e[c],n[c]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rf(e,n){var i=af(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=af(i)}}function lf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Fe(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Fe(e.document)}return n}function vu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Om=Jn&&"documentMode"in document&&11>=document.documentMode,Lr=null,gu=null,Oi=null,yu=!1;function uf(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yu||Lr==null||Lr!==Fe(s)||(s=Lr,"selectionStart"in s&&vu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oi&&wi(Oi,s)||(Oi=s,s=Es(gu,"onSelect"),0<s.length&&(n=new kl("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Lr)))}function ir(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var kr={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},bu={},of={};Jn&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function lr(e){if(bu[e])return bu[e];if(!kr[e])return e;var n=kr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in of)return bu[e]=n[i];return e}var cf=lr("animationend"),ff=lr("animationiteration"),df=lr("animationstart"),Dm=lr("transitionrun"),_m=lr("transitionstart"),Um=lr("transitioncancel"),hf=lr("transitionend"),pf=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function On(e,n){pf.set(e,n),J(n,[e])}var mf=new WeakMap;function yn(e,n){if(typeof e=="object"&&e!==null){var i=mf.get(e);return i!==void 0?i:(n={value:e,source:n,stack:it(n)},mf.set(e,n),n)}return{value:e,source:n,stack:it(n)}}var bn=[],Br=0,xu=0;function Fl(){for(var e=Br,n=xu=Br=0;n<e;){var i=bn[n];bn[n++]=null;var s=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,s!==null&&c!==null){var v=s.pending;v===null?c.next=c:(c.next=v.next,v.next=c),s.pending=c}f!==0&&vf(i,c,f)}}function Gl(e,n,i,s){bn[Br++]=e,bn[Br++]=n,bn[Br++]=i,bn[Br++]=s,xu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Eu(e,n,i,s){return Gl(e,n,i,s),zl(e)}function Ir(e,n){return Gl(e,null,null,n),zl(e)}function vf(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,s=f.alternate,s!==null&&(s.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Ut(i),e=f.hiddenUpdates,s=e[c],s===null?e[c]=[n]:s.push(n),n.lane=i|536870912),f):null}function zl(e){if(50<tl)throw tl=0,wo=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Fr={};function Lm(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,n,i,s){return new Lm(e,n,i,s)}function Tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $n(e,n){var i=e.alternate;return i===null?(i=sn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function gf(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hl(e,n,i,s,c,f){var v=0;if(s=e,typeof e=="function")Tu(e)&&(v=1);else if(typeof e=="string")v=Bv(e,i,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=sn(31,i,n,c),e.elementType=ge,e.lanes=f,e;case D:return sr(i.children,c,f,n);case w:v=8,c|=24;break;case F:return e=sn(12,i,n,c|2),e.elementType=F,e.lanes=f,e;case W:return e=sn(13,i,n,c),e.elementType=W,e.lanes=f,e;case oe:return e=sn(19,i,n,c),e.elementType=oe,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case V:v=10;break e;case Q:v=9;break e;case te:v=11;break e;case xe:v=14;break e;case Ee:v=16,s=null;break e}v=29,i=Error(l(130,e===null?"null":typeof e,"")),s=null}return n=sn(v,i,n,c),n.elementType=e,n.type=s,n.lanes=f,n}function sr(e,n,i,s){return e=sn(7,e,s,n),e.lanes=i,e}function Au(e,n,i){return e=sn(6,e,null,n),e.lanes=i,e}function Cu(e,n,i){return n=sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gr=[],zr=0,jl=null,Pl=0,Sn=[],xn=0,ur=null,ea=1,ta="";function or(e,n){Gr[zr++]=Pl,Gr[zr++]=jl,jl=e,Pl=n}function yf(e,n,i){Sn[xn++]=ea,Sn[xn++]=ta,Sn[xn++]=ur,ur=e;var s=ea;e=ta;var c=32-Ut(s)-1;s&=~(1<<c),i+=1;var f=32-Ut(n)+c;if(30<f){var v=c-c%5;f=(s&(1<<v)-1).toString(32),s>>=v,c-=v,ea=1<<32-Ut(n)+c|i<<c|s,ta=f+e}else ea=1<<f|i<<c|s,ta=e}function Mu(e){e.return!==null&&(or(e,1),yf(e,1,0))}function Nu(e){for(;e===jl;)jl=Gr[--zr],Gr[zr]=null,Pl=Gr[--zr],Gr[zr]=null;for(;e===ur;)ur=Sn[--xn],Sn[xn]=null,ta=Sn[--xn],Sn[xn]=null,ea=Sn[--xn],Sn[xn]=null}var Yt=null,ht=null,Ze=!1,cr=null,Hn=!1,Ru=Error(l(519));function fr(e){var n=Error(l(418,""));throw Ui(yn(n,e)),Ru}function bf(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[yt]=e,n[Ft]=s,i){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(i=0;i<al.length;i++)Ie(al[i],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),Pt(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Ke(n);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),ze(n,s.value,s.defaultValue,s.children),Ke(n)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||Bh(n.textContent,i)?(s.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),s.onScroll!=null&&Ie("scroll",n),s.onScrollEnd!=null&&Ie("scrollend",n),s.onClick!=null&&(n.onclick=Ts),n=!0):n=!1,n||fr(e)}function Sf(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Yt=Yt.return}}function Di(e){if(e!==Yt)return!1;if(!Ze)return Sf(e),Ze=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||qo(e.type,e.memoizedProps)),i=!i),i&&ht&&fr(e),Sf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){ht=_n(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}ht=null}}else n===27?(n=ht,Ia(e.type)?(e=Qo,Qo=null,ht=e):ht=n):ht=Yt?_n(e.stateNode.nextSibling):null;return!0}function _i(){ht=Yt=null,Ze=!1}function xf(){var e=cr;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),cr=null),e}function Ui(e){cr===null?cr=[e]:cr.push(e)}var wu=z(null),dr=null,na=null;function Ea(e,n,i){ae(wu,n._currentValue),n._currentValue=i}function aa(e){e._currentValue=wu.current,$(wu)}function Ou(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Du(e,n,i,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=c;for(var E=0;E<n.length;E++)if(y.context===n[E]){f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),Ou(f.return,i,e),s||(v=null);break e}f=y.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(l(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),Ou(v,i,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Li(e,n,i,s){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var y=c.type;ln(c.pendingProps.value,v.value)||(e!==null?e.push(y):e=[y])}}else if(c===qe.current){if(v=c.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}c=c.return}e!==null&&Du(n,e,i,s),n.flags|=262144}function Yl(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){dr=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Ef(dr,e)}function ql(e,n){return dr===null&&hr(e),Ef(e,n)}function Ef(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},na===null){if(e===null)throw Error(l(308));na=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else na=na.next=n;return i}var km=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Bm=a.unstable_scheduleCallback,Im=a.unstable_NormalPriority,Et={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _u(){return{controller:new km,data:new Map,refCount:0}}function ki(e){e.refCount--,e.refCount===0&&Bm(Im,function(){e.controller.abort()})}var Bi=null,Uu=0,Hr=0,jr=null;function Fm(e,n){if(Bi===null){var i=Bi=[];Uu=0,Hr=Bo(),jr={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Uu++,n.then(Tf,Tf),n}function Tf(){if(--Uu===0&&Bi!==null){jr!==null&&(jr.status="fulfilled");var e=Bi;Bi=null,Hr=0,jr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Gm(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(s.status="rejected",s.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),s}var Af=C.S;C.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Fm(e,n),Af!==null&&Af(e,n)};var pr=z(null);function Lu(){var e=pr.current;return e!==null?e:st.pooledCache}function Vl(e,n){n===null?ae(pr,pr.current):ae(pr,n.pool)}function Cf(){var e=Lu();return e===null?null:{parent:Et._currentValue,pool:e}}var Ii=Error(l(460)),Mf=Error(l(474)),Xl=Error(l(542)),ku={then:function(){}};function Nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zl(){}function Rf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Zl,Zl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Of(e),e;default:if(typeof n.status=="string")n.then(Zl,Zl);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=s}},function(s){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Of(e),e}throw Fi=n,Ii}}var Fi=null;function wf(){if(Fi===null)throw Error(l(459));var e=Fi;return Fi=null,e}function Of(e){if(e===Ii||e===Xl)throw Error(l(483))}var Ta=!1;function Bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,($e&2)!==0){var c=s.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),s.pending=n,n=zl(e),vf(e,null,i),n}return Gl(e,s,n,i),zl(e)}function Gi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,er(e,i)}}function Fu(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Gu=!1;function zi(){if(Gu){var e=jr;if(e!==null)throw e}}function Hi(e,n,i,s){Gu=!1;var c=e.updateQueue;Ta=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var E=y,_=E.next;E.next=null,v===null?f=_:v.next=_,v=E;var j=e.alternate;j!==null&&(j=j.updateQueue,y=j.lastBaseUpdate,y!==v&&(y===null?j.firstBaseUpdate=_:y.next=_,j.lastBaseUpdate=E))}if(f!==null){var Z=c.baseState;v=0,j=_=E=null,y=f;do{var k=y.lane&-536870913,I=k!==y.lane;if(I?(He&k)===k:(s&k)===k){k!==0&&k===Hr&&(Gu=!0),j!==null&&(j=j.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Ne=e,Ae=y;k=n;var rt=i;switch(Ae.tag){case 1:if(Ne=Ae.payload,typeof Ne=="function"){Z=Ne.call(rt,Z,k);break e}Z=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ae.payload,k=typeof Ne=="function"?Ne.call(rt,Z,k):Ne,k==null)break e;Z=g({},Z,k);break e;case 2:Ta=!0}}k=y.callback,k!==null&&(e.flags|=64,I&&(e.flags|=8192),I=c.callbacks,I===null?c.callbacks=[k]:I.push(k))}else I={lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},j===null?(_=j=I,E=Z):j=j.next=I,v|=k;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;I=y,y=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);j===null&&(E=Z),c.baseState=E,c.firstBaseUpdate=_,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),Ua|=v,e.lanes=v,e.memoizedState=Z}}function Df(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function _f(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Df(i[e],n)}var Pr=z(null),Ql=z(0);function Uf(e,n){e=ca,ae(Ql,e),ae(Pr,n),ca=e|n.baseLanes}function zu(){ae(Ql,ca),ae(Pr,Pr.current)}function Hu(){ca=Ql.current,$(Pr),$(Ql)}var Ma=0,Le=null,nt=null,bt=null,Kl=!1,Yr=!1,mr=!1,Wl=0,ji=0,qr=null,zm=0;function vt(){throw Error(l(321))}function ju(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!ln(e[i],n[i]))return!1;return!0}function Pu(e,n,i,s,c,f){return Ma=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,C.H=e===null||e.memoizedState===null?vd:gd,mr=!1,f=i(s,c),mr=!1,Yr&&(f=kf(n,i,s,c)),Lf(e),f}function Lf(e){C.H=as;var n=nt!==null&&nt.next!==null;if(Ma=0,bt=nt=Le=null,Kl=!1,ji=0,qr=null,n)throw Error(l(300));e===null||wt||(e=e.dependencies,e!==null&&Yl(e)&&(wt=!0))}function kf(e,n,i,s){Le=e;var c=0;do{if(Yr&&(qr=null),ji=0,Yr=!1,25<=c)throw Error(l(301));if(c+=1,bt=nt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}C.H=Xm,f=n(i,s)}while(Yr);return f}function Hm(){var e=C.H,n=e.useState()[0];return n=typeof n.then=="function"?Pi(n):n,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Le.flags|=1024),n}function Yu(){var e=Wl!==0;return Wl=0,e}function qu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Vu(e){if(Kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kl=!1}Ma=0,bt=nt=Le=null,Yr=!1,ji=Wl=0,qr=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Le.memoizedState=bt=e:bt=bt.next=e,bt}function St(){if(nt===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var n=bt===null?Le.memoizedState:bt.next;if(n!==null)bt=n,nt=e;else{if(e===null)throw Le.alternate===null?Error(l(467)):Error(l(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},bt===null?Le.memoizedState=bt=e:bt=bt.next=e}return bt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pi(e){var n=ji;return ji+=1,qr===null&&(qr=[]),e=Rf(qr,e,n),n=Le,(bt===null?n.memoizedState:bt.next)===null&&(n=n.alternate,C.H=n===null||n.memoizedState===null?vd:gd),e}function Jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pi(e);if(e.$$typeof===V)return Ht(e)}throw Error(l(438,String(e)))}function Zu(e){var n=null,i=Le.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=Le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Xu(),Le.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=we;return n.index++,i}function ra(e,n){return typeof n=="function"?n(e):n}function $l(e){var n=St();return Qu(n,nt,e)}function Qu(e,n,i){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=i;var c=e.baseQueue,f=s.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,s.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var y=v=null,E=null,_=n,j=!1;do{var Z=_.lane&-536870913;if(Z!==_.lane?(He&Z)===Z:(Ma&Z)===Z){var k=_.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),Z===Hr&&(j=!0);else if((Ma&k)===k){_=_.next,k===Hr&&(j=!0);continue}else Z={lane:0,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},E===null?(y=E=Z,v=f):E=E.next=Z,Le.lanes|=k,Ua|=k;Z=_.action,mr&&i(f,Z),f=_.hasEagerState?_.eagerState:i(f,Z)}else k={lane:Z,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},E===null?(y=E=k,v=f):E=E.next=k,Le.lanes|=Z,Ua|=Z;_=_.next}while(_!==null&&_!==n);if(E===null?v=f:E.next=y,!ln(f,e.memoizedState)&&(wt=!0,j&&(i=jr,i!==null)))throw i;e.memoizedState=f,e.baseState=v,e.baseQueue=E,s.lastRenderedState=f}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ku(e){var n=St(),i=n.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var s=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,s]}function Bf(e,n,i){var s=Le,c=St(),f=Ze;if(f){if(i===void 0)throw Error(l(407));i=i()}else i=n();var v=!ln((nt||c).memoizedState,i);v&&(c.memoizedState=i,wt=!0),c=c.queue;var y=Gf.bind(null,s,c,e);if(Yi(2048,8,y,[e]),c.getSnapshot!==n||v||bt!==null&&bt.memoizedState.tag&1){if(s.flags|=2048,Vr(9,es(),Ff.bind(null,s,c,i,n),null),st===null)throw Error(l(349));f||(Ma&124)!==0||If(s,n,i)}return i}function If(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Le.updateQueue,n===null?(n=Xu(),Le.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Ff(e,n,i,s){n.value=i,n.getSnapshot=s,zf(n)&&Hf(e)}function Gf(e,n,i){return i(function(){zf(n)&&Hf(e)})}function zf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!ln(e,i)}catch{return!0}}function Hf(e){var n=Ir(e,2);n!==null&&dn(n,e,2)}function Wu(e){var n=Wt();if(typeof e=="function"){var i=e;if(e=i(),mr){Rn(!0);try{i()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},n}function jf(e,n,i,s){return e.baseState=i,Qu(e,nt,typeof s=="function"?s:ra)}function jm(e,n,i,s,c){if(ns(e))throw Error(l(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};C.T!==null?i(!0):f.isTransition=!1,s(f),i=n.pending,i===null?(f.next=n.pending=f,Pf(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Pf(e,n){var i=n.action,s=n.payload,c=e.state;if(n.isTransition){var f=C.T,v={};C.T=v;try{var y=i(c,s),E=C.S;E!==null&&E(v,y),Yf(e,n,y)}catch(_){Ju(e,n,_)}finally{C.T=f}}else try{f=i(c,s),Yf(e,n,f)}catch(_){Ju(e,n,_)}}function Yf(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){qf(e,n,s)},function(s){return Ju(e,n,s)}):qf(e,n,i)}function qf(e,n,i){n.status="fulfilled",n.value=i,Vf(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Pf(e,i)))}function Ju(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,Vf(n),n=n.next;while(n!==s)}e.action=null}function Vf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xf(e,n){return n}function Zf(e,n){if(Ze){var i=st.formState;if(i!==null){e:{var s=Le;if(Ze){if(ht){t:{for(var c=ht,f=Hn;c.nodeType!==8;){if(!f){c=null;break t}if(c=_n(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ht=_n(c.nextSibling),s=c.data==="F!";break e}}fr(s)}s=!1}s&&(n=i[0])}}return i=Wt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:n},i.queue=s,i=hd.bind(null,Le,s),s.dispatch=i,s=Wu(!1),f=ao.bind(null,Le,!1,s.queue),s=Wt(),c={state:n,dispatch:null,action:e,pending:null},s.queue=c,i=jm.bind(null,Le,c,f,i),c.dispatch=i,s.memoizedState=e,[n,i,!1]}function Qf(e){var n=St();return Kf(n,nt,e)}function Kf(e,n,i){if(n=Qu(e,n,Xf)[0],e=$l(ra)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Pi(n)}catch(v){throw v===Ii?Xl:v}else s=n;n=St();var c=n.queue,f=c.dispatch;return i!==n.memoizedState&&(Le.flags|=2048,Vr(9,es(),Pm.bind(null,c,i),null)),[s,f,e]}function Pm(e,n){e.action=n}function Wf(e){var n=St(),i=nt;if(i!==null)return Kf(n,i,e);St(),n=n.memoizedState,i=St();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Vr(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Xu(),Le.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function es(){return{destroy:void 0,resource:void 0}}function Jf(){return St().memoizedState}function ts(e,n,i,s){var c=Wt();s=s===void 0?null:s,Le.flags|=e,c.memoizedState=Vr(1|n,es(),i,s)}function Yi(e,n,i,s){var c=St();s=s===void 0?null:s;var f=c.memoizedState.inst;nt!==null&&s!==null&&ju(s,nt.memoizedState.deps)?c.memoizedState=Vr(n,f,i,s):(Le.flags|=e,c.memoizedState=Vr(1|n,f,i,s))}function $f(e,n){ts(8390656,8,e,n)}function ed(e,n){Yi(2048,8,e,n)}function td(e,n){return Yi(4,2,e,n)}function nd(e,n){return Yi(4,4,e,n)}function ad(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rd(e,n,i){i=i!=null?i.concat([e]):null,Yi(4,4,ad.bind(null,n,e),i)}function $u(){}function id(e,n){var i=St();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&ju(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function ld(e,n){var i=St();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&ju(n,s[1]))return s[0];if(s=e(),mr){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[s,n],s}function eo(e,n,i){return i===void 0||(Ma&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=oh(),Le.lanes|=e,Ua|=e,i)}function sd(e,n,i,s){return ln(i,n)?i:Pr.current!==null?(e=eo(e,i,s),ln(e,n)||(wt=!0),e):(Ma&42)===0?(wt=!0,e.memoizedState=i):(e=oh(),Le.lanes|=e,Ua|=e,n)}function ud(e,n,i,s,c){var f=X.p;X.p=f!==0&&8>f?f:8;var v=C.T,y={};C.T=y,ao(e,!1,n,i);try{var E=c(),_=C.S;if(_!==null&&_(y,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var j=Gm(E,s);qi(e,n,j,fn(e))}else qi(e,n,s,fn(e))}catch(Z){qi(e,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{X.p=f,C.T=v}}function Ym(){}function to(e,n,i,s){if(e.tag!==5)throw Error(l(476));var c=od(e).queue;ud(e,c,n,ie,i===null?Ym:function(){return cd(e),i(s)})}function od(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:ie},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cd(e){var n=od(e).next.queue;qi(e,n,{},fn())}function no(){return Ht(ol)}function fd(){return St().memoizedState}function dd(){return St().memoizedState}function qm(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=fn();e=Aa(i);var s=Ca(n,e,i);s!==null&&(dn(s,n,i),Gi(s,n,i)),n={cache:_u()},e.payload=n;return}n=n.return}}function Vm(e,n,i){var s=fn();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ns(e)?pd(n,i):(i=Eu(e,n,i,s),i!==null&&(dn(i,e,s),md(i,n,s)))}function hd(e,n,i){var s=fn();qi(e,n,i,s)}function qi(e,n,i,s){var c={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ns(e))pd(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,y=f(v,i);if(c.hasEagerState=!0,c.eagerState=y,ln(y,v))return Gl(e,n,c,0),st===null&&Fl(),!1}catch{}finally{}if(i=Eu(e,n,c,s),i!==null)return dn(i,e,s),md(i,n,s),!0}return!1}function ao(e,n,i,s){if(s={lane:2,revertLane:Bo(),action:s,hasEagerState:!1,eagerState:null,next:null},ns(e)){if(n)throw Error(l(479))}else n=Eu(e,i,s,2),n!==null&&dn(n,e,2)}function ns(e){var n=e.alternate;return e===Le||n!==null&&n===Le}function pd(e,n){Yr=Kl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function md(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,er(e,i)}}var as={readContext:Ht,use:Jl,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},vd={readContext:Ht,use:Jl,useCallback:function(e,n){return Wt().memoizedState=[e,n===void 0?null:n],e},useContext:Ht,useEffect:$f,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ts(4194308,4,ad.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ts(4194308,4,e,n)},useInsertionEffect:function(e,n){ts(4,2,e,n)},useMemo:function(e,n){var i=Wt();n=n===void 0?null:n;var s=e();if(mr){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=Wt();if(i!==void 0){var c=i(n);if(mr){Rn(!0);try{i(n)}finally{Rn(!1)}}}else c=n;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=Vm.bind(null,Le,e),[s.memoizedState,e]},useRef:function(e){var n=Wt();return e={current:e},n.memoizedState=e},useState:function(e){e=Wu(e);var n=e.queue,i=hd.bind(null,Le,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:$u,useDeferredValue:function(e,n){var i=Wt();return eo(i,e,n)},useTransition:function(){var e=Wu(!1);return e=ud.bind(null,Le,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=Le,c=Wt();if(Ze){if(i===void 0)throw Error(l(407));i=i()}else{if(i=n(),st===null)throw Error(l(349));(He&124)!==0||If(s,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,$f(Gf.bind(null,s,f,e),[e]),s.flags|=2048,Vr(9,es(),Ff.bind(null,s,f,i,n),null),i},useId:function(){var e=Wt(),n=st.identifierPrefix;if(Ze){var i=ta,s=ea;i=(s&~(1<<32-Ut(s)-1)).toString(32)+i,n=""+n+"R"+i,i=Wl++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=zm++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:no,useFormState:Zf,useActionState:Zf,useOptimistic:function(e){var n=Wt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ao.bind(null,Le,!0,i),i.dispatch=n,[e,n]},useMemoCache:Zu,useCacheRefresh:function(){return Wt().memoizedState=qm.bind(null,Le)}},gd={readContext:Ht,use:Jl,useCallback:id,useContext:Ht,useEffect:ed,useImperativeHandle:rd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ld,useReducer:$l,useRef:Jf,useState:function(){return $l(ra)},useDebugValue:$u,useDeferredValue:function(e,n){var i=St();return sd(i,nt.memoizedState,e,n)},useTransition:function(){var e=$l(ra)[0],n=St().memoizedState;return[typeof e=="boolean"?e:Pi(e),n]},useSyncExternalStore:Bf,useId:fd,useHostTransitionStatus:no,useFormState:Qf,useActionState:Qf,useOptimistic:function(e,n){var i=St();return jf(i,nt,e,n)},useMemoCache:Zu,useCacheRefresh:dd},Xm={readContext:Ht,use:Jl,useCallback:id,useContext:Ht,useEffect:ed,useImperativeHandle:rd,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ld,useReducer:Ku,useRef:Jf,useState:function(){return Ku(ra)},useDebugValue:$u,useDeferredValue:function(e,n){var i=St();return nt===null?eo(i,e,n):sd(i,nt.memoizedState,e,n)},useTransition:function(){var e=Ku(ra)[0],n=St().memoizedState;return[typeof e=="boolean"?e:Pi(e),n]},useSyncExternalStore:Bf,useId:fd,useHostTransitionStatus:no,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,n){var i=St();return nt!==null?jf(i,nt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Zu,useCacheRefresh:dd},Xr=null,Vi=0;function rs(e){var n=Vi;return Vi+=1,Xr===null&&(Xr=[]),Rf(Xr,e,n)}function Xi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function is(e,n){throw n.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function yd(e){var n=e._init;return n(e._payload)}function bd(e){function n(R,M){if(e){var O=R.deletions;O===null?(R.deletions=[M],R.flags|=16):O.push(M)}}function i(R,M){if(!e)return null;for(;M!==null;)n(R,M),M=M.sibling;return null}function s(R){for(var M=new Map;R!==null;)R.key!==null?M.set(R.key,R):M.set(R.index,R),R=R.sibling;return M}function c(R,M){return R=$n(R,M),R.index=0,R.sibling=null,R}function f(R,M,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<M?(R.flags|=67108866,M):O):(R.flags|=67108866,M)):(R.flags|=1048576,M)}function v(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function y(R,M,O,Y){return M===null||M.tag!==6?(M=Au(O,R.mode,Y),M.return=R,M):(M=c(M,O),M.return=R,M)}function E(R,M,O,Y){var he=O.type;return he===D?j(R,M,O.props.children,Y,O.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Ee&&yd(he)===M.type)?(M=c(M,O.props),Xi(M,O),M.return=R,M):(M=Hl(O.type,O.key,O.props,null,R.mode,Y),Xi(M,O),M.return=R,M)}function _(R,M,O,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Cu(O,R.mode,Y),M.return=R,M):(M=c(M,O.children||[]),M.return=R,M)}function j(R,M,O,Y,he){return M===null||M.tag!==7?(M=sr(O,R.mode,Y,he),M.return=R,M):(M=c(M,O),M.return=R,M)}function Z(R,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Au(""+M,R.mode,O),M.return=R,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return O=Hl(M.type,M.key,M.props,null,R.mode,O),Xi(O,M),O.return=R,O;case A:return M=Cu(M,R.mode,O),M.return=R,M;case Ee:var Y=M._init;return M=Y(M._payload),Z(R,M,O)}if(ne(M)||ve(M))return M=sr(M,R.mode,O,null),M.return=R,M;if(typeof M.then=="function")return Z(R,rs(M),O);if(M.$$typeof===V)return Z(R,ql(R,M),O);is(R,M)}return null}function k(R,M,O,Y){var he=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return he!==null?null:y(R,M,""+O,Y);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return O.key===he?E(R,M,O,Y):null;case A:return O.key===he?_(R,M,O,Y):null;case Ee:return he=O._init,O=he(O._payload),k(R,M,O,Y)}if(ne(O)||ve(O))return he!==null?null:j(R,M,O,Y,null);if(typeof O.then=="function")return k(R,M,rs(O),Y);if(O.$$typeof===V)return k(R,M,ql(R,O),Y);is(R,O)}return null}function I(R,M,O,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return R=R.get(O)||null,y(M,R,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return R=R.get(Y.key===null?O:Y.key)||null,E(M,R,Y,he);case A:return R=R.get(Y.key===null?O:Y.key)||null,_(M,R,Y,he);case Ee:var ke=Y._init;return Y=ke(Y._payload),I(R,M,O,Y,he)}if(ne(Y)||ve(Y))return R=R.get(O)||null,j(M,R,Y,he,null);if(typeof Y.then=="function")return I(R,M,O,rs(Y),he);if(Y.$$typeof===V)return I(R,M,O,ql(M,Y),he);is(M,Y)}return null}function Ne(R,M,O,Y){for(var he=null,ke=null,ye=M,Ce=M=0,Dt=null;ye!==null&&Ce<O.length;Ce++){ye.index>Ce?(Dt=ye,ye=null):Dt=ye.sibling;var Ye=k(R,ye,O[Ce],Y);if(Ye===null){ye===null&&(ye=Dt);break}e&&ye&&Ye.alternate===null&&n(R,ye),M=f(Ye,M,Ce),ke===null?he=Ye:ke.sibling=Ye,ke=Ye,ye=Dt}if(Ce===O.length)return i(R,ye),Ze&&or(R,Ce),he;if(ye===null){for(;Ce<O.length;Ce++)ye=Z(R,O[Ce],Y),ye!==null&&(M=f(ye,M,Ce),ke===null?he=ye:ke.sibling=ye,ke=ye);return Ze&&or(R,Ce),he}for(ye=s(ye);Ce<O.length;Ce++)Dt=I(ye,R,Ce,O[Ce],Y),Dt!==null&&(e&&Dt.alternate!==null&&ye.delete(Dt.key===null?Ce:Dt.key),M=f(Dt,M,Ce),ke===null?he=Dt:ke.sibling=Dt,ke=Dt);return e&&ye.forEach(function(ja){return n(R,ja)}),Ze&&or(R,Ce),he}function Ae(R,M,O,Y){if(O==null)throw Error(l(151));for(var he=null,ke=null,ye=M,Ce=M=0,Dt=null,Ye=O.next();ye!==null&&!Ye.done;Ce++,Ye=O.next()){ye.index>Ce?(Dt=ye,ye=null):Dt=ye.sibling;var ja=k(R,ye,Ye.value,Y);if(ja===null){ye===null&&(ye=Dt);break}e&&ye&&ja.alternate===null&&n(R,ye),M=f(ja,M,Ce),ke===null?he=ja:ke.sibling=ja,ke=ja,ye=Dt}if(Ye.done)return i(R,ye),Ze&&or(R,Ce),he;if(ye===null){for(;!Ye.done;Ce++,Ye=O.next())Ye=Z(R,Ye.value,Y),Ye!==null&&(M=f(Ye,M,Ce),ke===null?he=Ye:ke.sibling=Ye,ke=Ye);return Ze&&or(R,Ce),he}for(ye=s(ye);!Ye.done;Ce++,Ye=O.next())Ye=I(ye,R,Ce,Ye.value,Y),Ye!==null&&(e&&Ye.alternate!==null&&ye.delete(Ye.key===null?Ce:Ye.key),M=f(Ye,M,Ce),ke===null?he=Ye:ke.sibling=Ye,ke=Ye);return e&&ye.forEach(function(Zv){return n(R,Zv)}),Ze&&or(R,Ce),he}function rt(R,M,O,Y){if(typeof O=="object"&&O!==null&&O.type===D&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case S:e:{for(var he=O.key;M!==null;){if(M.key===he){if(he=O.type,he===D){if(M.tag===7){i(R,M.sibling),Y=c(M,O.props.children),Y.return=R,R=Y;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Ee&&yd(he)===M.type){i(R,M.sibling),Y=c(M,O.props),Xi(Y,O),Y.return=R,R=Y;break e}i(R,M);break}else n(R,M);M=M.sibling}O.type===D?(Y=sr(O.props.children,R.mode,Y,O.key),Y.return=R,R=Y):(Y=Hl(O.type,O.key,O.props,null,R.mode,Y),Xi(Y,O),Y.return=R,R=Y)}return v(R);case A:e:{for(he=O.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){i(R,M.sibling),Y=c(M,O.children||[]),Y.return=R,R=Y;break e}else{i(R,M);break}else n(R,M);M=M.sibling}Y=Cu(O,R.mode,Y),Y.return=R,R=Y}return v(R);case Ee:return he=O._init,O=he(O._payload),rt(R,M,O,Y)}if(ne(O))return Ne(R,M,O,Y);if(ve(O)){if(he=ve(O),typeof he!="function")throw Error(l(150));return O=he.call(O),Ae(R,M,O,Y)}if(typeof O.then=="function")return rt(R,M,rs(O),Y);if(O.$$typeof===V)return rt(R,M,ql(R,O),Y);is(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(i(R,M.sibling),Y=c(M,O),Y.return=R,R=Y):(i(R,M),Y=Au(O,R.mode,Y),Y.return=R,R=Y),v(R)):i(R,M)}return function(R,M,O,Y){try{Vi=0;var he=rt(R,M,O,Y);return Xr=null,he}catch(ye){if(ye===Ii||ye===Xl)throw ye;var ke=sn(29,ye,null,R.mode);return ke.lanes=Y,ke.return=R,ke}finally{}}}var Zr=bd(!0),Sd=bd(!1),En=z(null),jn=null;function Na(e){var n=e.alternate;ae(Tt,Tt.current&1),ae(En,e),jn===null&&(n===null||Pr.current!==null||n.memoizedState!==null)&&(jn=e)}function xd(e){if(e.tag===22){if(ae(Tt,Tt.current),ae(En,e),jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(jn=e)}}else Ra()}function Ra(){ae(Tt,Tt.current),ae(En,En.current)}function ia(e){$(En),jn===e&&(jn=null),$(Tt)}var Tt=z(0);function ls(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Zo(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ro(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:g({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var io={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=fn(),c=Aa(s);c.payload=n,i!=null&&(c.callback=i),n=Ca(e,c,s),n!==null&&(dn(n,e,s),Gi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=fn(),c=Aa(s);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Ca(e,c,s),n!==null&&(dn(n,e,s),Gi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=fn(),s=Aa(i);s.tag=2,n!=null&&(s.callback=n),n=Ca(e,s,i),n!==null&&(dn(n,e,i),Gi(n,e,i))}};function Ed(e,n,i,s,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,v):n.prototype&&n.prototype.isPureReactComponent?!wi(i,s)||!wi(c,f):!0}function Td(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&io.enqueueReplaceState(n,n.state,null)}function vr(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=g({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var ss=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ad(e){ss(e)}function Cd(e){console.error(e)}function Md(e){ss(e)}function us(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Nd(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function lo(e,n,i){return i=Aa(i),i.tag=3,i.payload={element:null},i.callback=function(){us(e,n)},i}function Rd(e){return e=Aa(e),e.tag=3,e}function wd(e,n,i,s){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;e.payload=function(){return c(f)},e.callback=function(){Nd(n,i,s)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Nd(n,i,s),typeof c!="function"&&(La===null?La=new Set([this]):La.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function Zm(e,n,i,s,c){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Li(n,i,c,!0),i=En.current,i!==null){switch(i.tag){case 13:return jn===null?Do():i.alternate===null&&pt===0&&(pt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,s===ku?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Uo(e,s,c)),!1;case 22:return i.flags|=65536,s===ku?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Uo(e,s,c)),!1}throw Error(l(435,i.tag))}return Uo(e,s,c),Do(),!1}if(Ze)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,s!==Ru&&(e=Error(l(422),{cause:s}),Ui(yn(e,i)))):(s!==Ru&&(n=Error(l(423),{cause:s}),Ui(yn(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=yn(s,i),c=lo(e.stateNode,s,c),Fu(e,c),pt!==4&&(pt=2)),!1;var f=Error(l(520),{cause:s});if(f=yn(f,i),el===null?el=[f]:el.push(f),pt!==4&&(pt=2),n===null)return!0;s=yn(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=lo(i.stateNode,s,e),Fu(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(La===null||!La.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Rd(c),wd(c,e,i,s),Fu(i,c),!1}i=i.return}while(i!==null);return!1}var Od=Error(l(461)),wt=!1;function Lt(e,n,i,s){n.child=e===null?Sd(n,null,i,s):Zr(n,e.child,i,s)}function Dd(e,n,i,s,c){i=i.render;var f=n.ref;if("ref"in s){var v={};for(var y in s)y!=="ref"&&(v[y]=s[y])}else v=s;return hr(n),s=Pu(e,n,i,v,f,c),y=Yu(),e!==null&&!wt?(qu(e,n,c),la(e,n,c)):(Ze&&y&&Mu(n),n.flags|=1,Lt(e,n,s,c),n.child)}function _d(e,n,i,s,c){if(e===null){var f=i.type;return typeof f=="function"&&!Tu(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Ud(e,n,f,s,c)):(e=Hl(i.type,null,s,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mo(e,c)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:wi,i(v,s)&&e.ref===n.ref)return la(e,n,c)}return n.flags|=1,e=$n(f,s),e.ref=n.ref,e.return=n,n.child=e}function Ud(e,n,i,s,c){if(e!==null){var f=e.memoizedProps;if(wi(f,s)&&e.ref===n.ref)if(wt=!1,n.pendingProps=s=f,mo(e,c))(e.flags&131072)!==0&&(wt=!0);else return n.lanes=e.lanes,la(e,n,c)}return so(e,n,i,s,c)}function Ld(e,n,i){var s=n.pendingProps,c=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((n.flags&128)!==0){if(s=f!==null?f.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~s}else n.childLanes=0,n.child=null;return kd(e,n,s,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vl(n,f!==null?f.cachePool:null),f!==null?Uf(n,f):zu(),xd(n);else return n.lanes=n.childLanes=536870912,kd(e,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(Vl(n,f.cachePool),Uf(n,f),Ra(),n.memoizedState=null):(e!==null&&Vl(n,null),zu(),Ra());return Lt(e,n,c,i),n.child}function kd(e,n,i,s){var c=Lu();return c=c===null?null:{parent:Et._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&Vl(n,null),zu(),xd(n),e!==null&&Li(e,n,s,!0),null}function os(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function so(e,n,i,s,c){return hr(n),i=Pu(e,n,i,s,void 0,c),s=Yu(),e!==null&&!wt?(qu(e,n,c),la(e,n,c)):(Ze&&s&&Mu(n),n.flags|=1,Lt(e,n,i,c),n.child)}function Bd(e,n,i,s,c,f){return hr(n),n.updateQueue=null,i=kf(n,s,i,c),Lf(e),s=Yu(),e!==null&&!wt?(qu(e,n,f),la(e,n,f)):(Ze&&s&&Mu(n),n.flags|=1,Lt(e,n,i,f),n.child)}function Id(e,n,i,s,c){if(hr(n),n.stateNode===null){var f=Fr,v=i.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new i(s,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=io,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=s,f.state=n.memoizedState,f.refs={},Bu(n),v=i.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):Fr,f.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ro(n,i,v,s),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&io.enqueueReplaceState(f,f.state,null),Hi(n,s,f,c),zi(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){f=n.stateNode;var y=n.memoizedProps,E=vr(i,y);f.props=E;var _=f.context,j=i.contextType;v=Fr,typeof j=="object"&&j!==null&&(v=Ht(j));var Z=i.getDerivedStateFromProps;j=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||_!==v)&&Td(n,f,s,v),Ta=!1;var k=n.memoizedState;f.state=k,Hi(n,s,f,c),zi(),_=n.memoizedState,y||k!==_||Ta?(typeof Z=="function"&&(ro(n,i,Z,s),_=n.memoizedState),(E=Ta||Ed(n,i,E,s,k,_,v))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=_),f.props=s,f.state=_,f.context=v,s=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{f=n.stateNode,Iu(e,n),v=n.memoizedProps,j=vr(i,v),f.props=j,Z=n.pendingProps,k=f.context,_=i.contextType,E=Fr,typeof _=="object"&&_!==null&&(E=Ht(_)),y=i.getDerivedStateFromProps,(_=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||k!==E)&&Td(n,f,s,E),Ta=!1,k=n.memoizedState,f.state=k,Hi(n,s,f,c),zi();var I=n.memoizedState;v!==Z||k!==I||Ta||e!==null&&e.dependencies!==null&&Yl(e.dependencies)?(typeof y=="function"&&(ro(n,i,y,s),I=n.memoizedState),(j=Ta||Ed(n,i,j,s,k,I,E)||e!==null&&e.dependencies!==null&&Yl(e.dependencies))?(_||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,I,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,I,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=I),f.props=s,f.state=I,f.context=E,s=j):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),s=!1)}return f=s,os(e,n),s=(n.flags&128)!==0,f||s?(f=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&s?(n.child=Zr(n,e.child,null,c),n.child=Zr(n,null,i,c)):Lt(e,n,i,c),n.memoizedState=f.state,e=n.child):e=la(e,n,c),e}function Fd(e,n,i,s){return _i(),n.flags|=256,Lt(e,n,i,s),n.child}var uo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oo(e){return{baseLanes:e,cachePool:Cf()}}function co(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Tn),e}function Gd(e,n,i){var s=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ze){if(c?Na(n):Ra(),Ze){var y=ht,E;if(E=y){e:{for(E=y,y=Hn;E.nodeType!==8;){if(!y){y=null;break e}if(E=_n(E.nextSibling),E===null){y=null;break e}}y=E}y!==null?(n.memoizedState={dehydrated:y,treeContext:ur!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},E=sn(18,null,null,0),E.stateNode=y,E.return=n,n.child=E,Yt=n,ht=null,E=!0):E=!1}E||fr(n)}if(y=n.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Zo(y)?n.lanes=32:n.lanes=536870912,null;ia(n)}return y=s.children,s=s.fallback,c?(Ra(),c=n.mode,y=cs({mode:"hidden",children:y},c),s=sr(s,c,i,null),y.return=n,s.return=n,y.sibling=s,n.child=y,c=n.child,c.memoizedState=oo(i),c.childLanes=co(e,v,i),n.memoizedState=uo,s):(Na(n),fo(n,y))}if(E=e.memoizedState,E!==null&&(y=E.dehydrated,y!==null)){if(f)n.flags&256?(Na(n),n.flags&=-257,n=ho(e,n,i)):n.memoizedState!==null?(Ra(),n.child=e.child,n.flags|=128,n=null):(Ra(),c=s.fallback,y=n.mode,s=cs({mode:"visible",children:s.children},y),c=sr(c,y,i,null),c.flags|=2,s.return=n,c.return=n,s.sibling=c,n.child=s,Zr(n,e.child,null,i),s=n.child,s.memoizedState=oo(i),s.childLanes=co(e,v,i),n.memoizedState=uo,n=c);else if(Na(n),Zo(y)){if(v=y.nextSibling&&y.nextSibling.dataset,v)var _=v.dgst;v=_,s=Error(l(419)),s.stack="",s.digest=v,Ui({value:s,source:null,stack:null}),n=ho(e,n,i)}else if(wt||Li(e,n,i,!1),v=(i&e.childLanes)!==0,wt||v){if(v=st,v!==null&&(s=i&-i,s=(s&42)!==0?1:gi(s),s=(s&(v.suspendedLanes|i))!==0?0:s,s!==0&&s!==E.retryLane))throw E.retryLane=s,Ir(e,s),dn(v,e,s),Od;y.data==="$?"||Do(),n=ho(e,n,i)}else y.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,ht=_n(y.nextSibling),Yt=n,Ze=!0,cr=null,Hn=!1,e!==null&&(Sn[xn++]=ea,Sn[xn++]=ta,Sn[xn++]=ur,ea=e.id,ta=e.overflow,ur=n),n=fo(n,s.children),n.flags|=4096);return n}return c?(Ra(),c=s.fallback,y=n.mode,E=e.child,_=E.sibling,s=$n(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,_!==null?c=$n(_,c):(c=sr(c,y,i,null),c.flags|=2),c.return=n,s.return=n,s.sibling=c,n.child=s,s=c,c=n.child,y=e.child.memoizedState,y===null?y=oo(i):(E=y.cachePool,E!==null?(_=Et._currentValue,E=E.parent!==_?{parent:_,pool:_}:E):E=Cf(),y={baseLanes:y.baseLanes|i,cachePool:E}),c.memoizedState=y,c.childLanes=co(e,v,i),n.memoizedState=uo,s):(Na(n),i=e.child,e=i.sibling,i=$n(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function fo(e,n){return n=cs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cs(e,n){return e=sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ho(e,n,i){return Zr(n,e.child,null,i),e=fo(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zd(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ou(e.return,n,i)}function po(e,n,i,s,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=i,f.tailMode=c)}function Hd(e,n,i){var s=n.pendingProps,c=s.revealOrder,f=s.tail;if(Lt(e,n,s.children,i),s=Tt.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zd(e,i,n);else if(e.tag===19)zd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(ae(Tt,s),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&ls(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),po(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ls(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}po(n,!0,i,null,f);break;case"together":po(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function la(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Ua|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Li(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,i=$n(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=$n(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function mo(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Yl(e)))}function Qm(e,n,i){switch(n.tag){case 3:Pe(n,n.stateNode.containerInfo),Ea(n,Et,e.memoizedState.cache),_i();break;case 27:case 5:Ml(n);break;case 4:Pe(n,n.stateNode.containerInfo);break;case 10:Ea(n,n.type,n.memoizedProps.value);break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Na(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Gd(e,n,i):(Na(n),e=la(e,n,i),e!==null?e.sibling:null);Na(n);break;case 19:var c=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Li(e,n,i,!1),s=(i&n.childLanes)!==0),c){if(s)return Hd(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ae(Tt,Tt.current),s)break;return null;case 22:case 23:return n.lanes=0,Ld(e,n,i);case 24:Ea(n,Et,e.memoizedState.cache)}return la(e,n,i)}function jd(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)wt=!0;else{if(!mo(e,i)&&(n.flags&128)===0)return wt=!1,Qm(e,n,i);wt=(e.flags&131072)!==0}else wt=!1,Ze&&(n.flags&1048576)!==0&&yf(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var s=n.elementType,c=s._init;if(s=c(s._payload),n.type=s,typeof s=="function")Tu(s)?(e=vr(s,e),n.tag=1,n=Id(null,n,s,e,i)):(n.tag=0,n=so(null,n,s,e,i));else{if(s!=null){if(c=s.$$typeof,c===te){n.tag=11,n=Dd(null,n,s,e,i);break e}else if(c===xe){n.tag=14,n=_d(null,n,s,e,i);break e}}throw n=le(s)||s,Error(l(306,n,""))}}return n;case 0:return so(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,c=vr(s,n.pendingProps),Id(e,n,s,c,i);case 3:e:{if(Pe(n,n.stateNode.containerInfo),e===null)throw Error(l(387));s=n.pendingProps;var f=n.memoizedState;c=f.element,Iu(e,n),Hi(n,s,null,i);var v=n.memoizedState;if(s=v.cache,Ea(n,Et,s),s!==f.cache&&Du(n,[Et],i,!0),zi(),s=v.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fd(e,n,s,i);break e}else if(s!==c){c=yn(Error(l(424)),n),Ui(c),n=Fd(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=_n(e.firstChild),Yt=n,Ze=!0,cr=null,Hn=!0,i=Sd(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(_i(),s===c){n=la(e,n,i);break e}Lt(e,n,s,i)}n=n.child}return n;case 26:return os(e,n),e===null?(i=Vh(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ze||(i=n.type,e=n.pendingProps,s=As(fe.current).createElement(i),s[yt]=n,s[Ft]=e,Bt(s,i,e),N(s),n.stateNode=s):n.memoizedState=Vh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ml(n),e===null&&Ze&&(s=n.stateNode=Ph(n.type,n.pendingProps,fe.current),Yt=n,Hn=!0,c=ht,Ia(n.type)?(Qo=c,ht=_n(s.firstChild)):ht=c),Lt(e,n,n.pendingProps.children,i),os(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ze&&((c=s=ht)&&(s=Tv(s,n.type,n.pendingProps,Hn),s!==null?(n.stateNode=s,Yt=n,ht=_n(s.firstChild),Hn=!1,c=!0):c=!1),c||fr(n)),Ml(n),c=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,s=f.children,qo(c,f)?s=null:v!==null&&qo(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Pu(e,n,Hm,null,null,i),ol._currentValue=c),os(e,n),Lt(e,n,s,i),n.child;case 6:return e===null&&Ze&&((e=i=ht)&&(i=Av(i,n.pendingProps,Hn),i!==null?(n.stateNode=i,Yt=n,ht=null,e=!0):e=!1),e||fr(n)),null;case 13:return Gd(e,n,i);case 4:return Pe(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Zr(n,null,s,i):Lt(e,n,s,i),n.child;case 11:return Dd(e,n,n.type,n.pendingProps,i);case 7:return Lt(e,n,n.pendingProps,i),n.child;case 8:return Lt(e,n,n.pendingProps.children,i),n.child;case 12:return Lt(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,Ea(n,n.type,s.value),Lt(e,n,s.children,i),n.child;case 9:return c=n.type._context,s=n.pendingProps.children,hr(n),c=Ht(c),s=s(c),n.flags|=1,Lt(e,n,s,i),n.child;case 14:return _d(e,n,n.type,n.pendingProps,i);case 15:return Ud(e,n,n.type,n.pendingProps,i);case 19:return Hd(e,n,i);case 31:return s=n.pendingProps,i=n.mode,s={mode:s.mode,children:s.children},e===null?(i=cs(s,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=$n(e.child,s),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Ld(e,n,i);case 24:return hr(n),s=Ht(Et),e===null?(c=Lu(),c===null&&(c=st,f=_u(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),n.memoizedState={parent:s,cache:c},Bu(n),Ea(n,Et,c)):((e.lanes&i)!==0&&(Iu(e,n),Hi(n,null,null,i),zi()),c=e.memoizedState,f=n.memoizedState,c.parent!==s?(c={parent:s,cache:s},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ea(n,Et,s)):(s=f.cache,Ea(n,Et,s),s!==c.cache&&Du(n,[Et],i,!0))),Lt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function sa(e){e.flags|=4}function Pd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wh(n)){if(n=En.current,n!==null&&((He&4194048)===He?jn!==null:(He&62914560)!==He&&(He&536870912)===0||n!==jn))throw Fi=ku,Mf;e.flags|=8192}}function fs(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?wn():536870912,e.lanes|=n,Jr|=n)}function Zi(e,n){if(!Ze)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ft(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function Km(e,n,i){var s=n.pendingProps;switch(Nu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),aa(Et),qt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Di(n)?sa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xf())),ft(n),null;case 26:return i=n.memoizedState,e===null?(sa(n),i!==null?(ft(n),Pd(n,i)):(ft(n),n.flags&=-16777217)):i?i!==e.memoizedState?(sa(n),ft(n),Pd(n,i)):(ft(n),n.flags&=-16777217):(e.memoizedProps!==s&&sa(n),ft(n),n.flags&=-16777217),null;case 27:Vt(n),i=fe.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sa(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return ft(n),null}e=se.current,Di(n)?bf(n):(e=Ph(c,s,i),n.stateNode=e,sa(n))}return ft(n),null;case 5:if(Vt(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sa(n);else{if(!s){if(n.stateNode===null)throw Error(l(166));return ft(n),null}if(e=se.current,Di(n))bf(n);else{switch(c=As(fe.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?c.createElement(i,{is:s.is}):c.createElement(i)}}e[yt]=n,e[Ft]=s;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(Bt(e,i,s),i){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&sa(n)}}return ft(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sa(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(l(166));if(e=fe.current,Di(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,c=Yt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[yt]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Bh(e.nodeValue,i)),e||fr(n)}else e=As(e).createTextNode(s),e[yt]=n,n.stateNode=e}return ft(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Di(n),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[yt]=n}else _i(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),c=!1}else c=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(ia(n),n):(ia(n),null)}if(ia(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=s!==null,e=e!==null&&e.memoizedState!==null,i){s=n.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),fs(n,n.updateQueue),ft(n),null;case 4:return qt(),e===null&&zo(n.stateNode.containerInfo),ft(n),null;case 10:return aa(n.type),ft(n),null;case 19:if($(Tt),c=n.memoizedState,c===null)return ft(n),null;if(s=(n.flags&128)!==0,f=c.rendering,f===null)if(s)Zi(c,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ls(e),f!==null){for(n.flags|=128,Zi(c,!1),e=f.updateQueue,n.updateQueue=e,fs(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)gf(i,e),i=i.sibling;return ae(Tt,Tt.current&1|2),n.child}e=e.sibling}c.tail!==null&&en()>ps&&(n.flags|=128,s=!0,Zi(c,!1),n.lanes=4194304)}else{if(!s)if(e=ls(f),e!==null){if(n.flags|=128,s=!0,e=e.updateQueue,n.updateQueue=e,fs(n,e),Zi(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ze)return ft(n),null}else 2*en()-c.renderingStartTime>ps&&i!==536870912&&(n.flags|=128,s=!0,Zi(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=en(),n.sibling=null,e=Tt.current,ae(Tt,s?e&1|2:e&1),n):(ft(n),null);case 22:case 23:return ia(n),Hu(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),i=n.updateQueue,i!==null&&fs(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&$(pr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),aa(Et),ft(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function Wm(e,n){switch(Nu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return aa(Et),qt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Vt(n),null;case 13:if(ia(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));_i()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(Tt),null;case 4:return qt(),null;case 10:return aa(n.type),null;case 22:case 23:return ia(n),Hu(),e!==null&&$(pr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return aa(Et),null;case 25:return null;default:return null}}function Yd(e,n){switch(Nu(n),n.tag){case 3:aa(Et),qt();break;case 26:case 27:case 5:Vt(n);break;case 4:qt();break;case 13:ia(n);break;case 19:$(Tt);break;case 10:aa(n.type);break;case 22:case 23:ia(n),Hu(),e!==null&&$(pr);break;case 24:aa(Et)}}function Qi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var c=s.next;i=c;do{if((i.tag&e)===e){s=void 0;var f=i.create,v=i.inst;s=f(),v.destroy=s}i=i.next}while(i!==c)}}catch(y){lt(n,n.return,y)}}function wa(e,n,i){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&e)===e){var v=s.inst,y=v.destroy;if(y!==void 0){v.destroy=void 0,c=n;var E=i,_=y;try{_()}catch(j){lt(c,E,j)}}}s=s.next}while(s!==f)}}catch(j){lt(n,n.return,j)}}function qd(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{_f(n,i)}catch(s){lt(e,e.return,s)}}}function Vd(e,n,i){i.props=vr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){lt(e,n,s)}}function Ki(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(c){lt(e,n,c)}}function Pn(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(c){lt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){lt(e,n,c)}else i.current=null}function Xd(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(c){lt(e,e.return,c)}}function vo(e,n,i){try{var s=e.stateNode;yv(s,e.type,i,n),s[Ft]=n}catch(c){lt(e,e.return,c)}}function Zd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ts));else if(s!==4&&(s===27&&Ia(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(yo(e,n,i),e=e.sibling;e!==null;)yo(e,n,i),e=e.sibling}function ds(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Ia(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ds(e,n,i),e=e.sibling;e!==null;)ds(e,n,i),e=e.sibling}function Qd(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Bt(n,s,i),n[yt]=e,n[Ft]=i}catch(f){lt(e,e.return,f)}}var ua=!1,gt=!1,bo=!1,Kd=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Jm(e,n){if(e=e.containerInfo,Po=Os,e=sf(e),vu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,y=-1,E=-1,_=0,j=0,Z=e,k=null;t:for(;;){for(var I;Z!==i||c!==0&&Z.nodeType!==3||(y=v+c),Z!==f||s!==0&&Z.nodeType!==3||(E=v+s),Z.nodeType===3&&(v+=Z.nodeValue.length),(I=Z.firstChild)!==null;)k=Z,Z=I;for(;;){if(Z===e)break t;if(k===i&&++_===c&&(y=v),k===f&&++j===s&&(E=v),(I=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=I}i=y===-1||E===-1?null:{start:y,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yo={focusedElem:e,selectionRange:i},Os=!1,Ot=n;Ot!==null;)if(n=Ot,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ot=e;else for(;Ot!==null;){switch(n=Ot,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,c=f.memoizedProps,f=f.memoizedState,s=i.stateNode;try{var Ne=vr(i.type,c,i.elementType===i.type);e=s.getSnapshotBeforeUpdate(Ne,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){lt(i,i.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Xo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,Ot=e;break}Ot=n.return}}function Wd(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Oa(e,i),s&4&&Qi(5,i);break;case 1:if(Oa(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){lt(i,i.return,v)}else{var c=vr(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){lt(i,i.return,v)}}s&64&&qd(i),s&512&&Ki(i,i.return);break;case 3:if(Oa(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{_f(e,n)}catch(v){lt(i,i.return,v)}}break;case 27:n===null&&s&4&&Qd(i);case 26:case 5:Oa(e,i),n===null&&s&4&&Xd(i),s&512&&Ki(i,i.return);break;case 12:Oa(e,i);break;case 13:Oa(e,i),s&4&&eh(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=sv.bind(null,i),Cv(e,i))));break;case 22:if(s=i.memoizedState!==null||ua,!s){n=n!==null&&n.memoizedState!==null||gt,c=ua;var f=gt;ua=s,(gt=n)&&!f?Da(e,i,(i.subtreeFlags&8772)!==0):Oa(e,i),ua=c,gt=f}break;case 30:break;default:Oa(e,i)}}function Jd(e){var n=e.alternate;n!==null&&(e.alternate=null,Jd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Si(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ot=null,Jt=!1;function oa(e,n,i){for(i=i.child;i!==null;)$d(e,n,i),i=i.sibling}function $d(e,n,i){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ma,i)}catch{}switch(i.tag){case 26:gt||Pn(i,n),oa(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:gt||Pn(i,n);var s=ot,c=Jt;Ia(i.type)&&(ot=i.stateNode,Jt=!1),oa(e,n,i),il(i.stateNode),ot=s,Jt=c;break;case 5:gt||Pn(i,n);case 6:if(s=ot,c=Jt,ot=null,oa(e,n,i),ot=s,Jt=c,ot!==null)if(Jt)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(i.stateNode)}catch(f){lt(i,n,f)}else try{ot.removeChild(i.stateNode)}catch(f){lt(i,n,f)}break;case 18:ot!==null&&(Jt?(e=ot,Hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),hl(e)):Hh(ot,i.stateNode));break;case 4:s=ot,c=Jt,ot=i.stateNode.containerInfo,Jt=!0,oa(e,n,i),ot=s,Jt=c;break;case 0:case 11:case 14:case 15:gt||wa(2,i,n),gt||wa(4,i,n),oa(e,n,i);break;case 1:gt||(Pn(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Vd(i,n,s)),oa(e,n,i);break;case 21:oa(e,n,i);break;case 22:gt=(s=gt)||i.memoizedState!==null,oa(e,n,i),gt=s;break;default:oa(e,n,i)}}function eh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(i){lt(n,n.return,i)}}function $m(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kd),n;default:throw Error(l(435,e.tag))}}function So(e,n){var i=$m(e);n.forEach(function(s){var c=uv.bind(null,e,s);i.has(s)||(i.add(s),s.then(c,c))})}function un(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s],f=e,v=n,y=v;e:for(;y!==null;){switch(y.tag){case 27:if(Ia(y.type)){ot=y.stateNode,Jt=!1;break e}break;case 5:ot=y.stateNode,Jt=!1;break e;case 3:case 4:ot=y.stateNode.containerInfo,Jt=!0;break e}y=y.return}if(ot===null)throw Error(l(160));$d(f,v,c),ot=null,Jt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)th(n,e),n=n.sibling}var Dn=null;function th(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),on(e),s&4&&(wa(3,e,e.return),Qi(3,e),wa(5,e,e.return));break;case 1:un(n,e),on(e),s&512&&(gt||i===null||Pn(i,i.return)),s&64&&ua&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var c=Dn;if(un(n,e),on(e),s&512&&(gt||i===null||Pn(i,i.return)),s&4){var f=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[mn]||f[yt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),Bt(f,s,i),f[yt]=e,N(f),s=f;break e;case"link":var v=Qh("link","href",c).get(s+(i.href||""));if(v){for(var y=0;y<v.length;y++)if(f=v[y],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(y,1);break t}}f=c.createElement(s),Bt(f,s,i),c.head.appendChild(f);break;case"meta":if(v=Qh("meta","content",c).get(s+(i.content||""))){for(y=0;y<v.length;y++)if(f=v[y],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(y,1);break t}}f=c.createElement(s),Bt(f,s,i),c.head.appendChild(f);break;default:throw Error(l(468,s))}f[yt]=e,N(f),s=f}e.stateNode=s}else Kh(c,e.type,e.stateNode);else e.stateNode=Zh(c,s,e.memoizedProps);else f!==s?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,s===null?Kh(c,e.type,e.stateNode):Zh(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&vo(e,e.memoizedProps,i.memoizedProps)}break;case 27:un(n,e),on(e),s&512&&(gt||i===null||Pn(i,i.return)),i!==null&&s&4&&vo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(un(n,e),on(e),s&512&&(gt||i===null||Pn(i,i.return)),e.flags&32){c=e.stateNode;try{Rt(c,"")}catch(I){lt(e,e.return,I)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,vo(e,c,i!==null?i.memoizedProps:c)),s&1024&&(bo=!0);break;case 6:if(un(n,e),on(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(I){lt(e,e.return,I)}}break;case 3:if(Ns=null,c=Dn,Dn=Cs(n.containerInfo),un(n,e),Dn=c,on(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{hl(n.containerInfo)}catch(I){lt(e,e.return,I)}bo&&(bo=!1,nh(e));break;case 4:s=Dn,Dn=Cs(e.stateNode.containerInfo),un(n,e),on(e),Dn=s;break;case 12:un(n,e),on(e);break;case 13:un(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Mo=en()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,So(e,s)));break;case 22:c=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,_=ua,j=gt;if(ua=_||c,gt=j||E,un(n,e),gt=j,ua=_,on(e),s&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||E||ua||gt||gr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){E=i=n;try{if(f=E.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{y=E.stateNode;var Z=E.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(I){lt(E,E.return,I)}}}else if(n.tag===6){if(i===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(I){lt(E,E.return,I)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,So(e,i))));break;case 19:un(n,e),on(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,So(e,s)));break;case 30:break;case 21:break;default:un(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(Zd(s)){i=s;break}s=s.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,f=go(e);ds(e,f,c);break;case 5:var v=i.stateNode;i.flags&32&&(Rt(v,""),i.flags&=-33);var y=go(e);ds(e,y,v);break;case 3:case 4:var E=i.stateNode.containerInfo,_=go(e);yo(e,_,E);break;default:throw Error(l(161))}}catch(j){lt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function nh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;nh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Oa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wd(e,n.alternate,n),n=n.sibling}function gr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wa(4,n,n.return),gr(n);break;case 1:Pn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Vd(n,n.return,i),gr(n);break;case 27:il(n.stateNode);case 26:case 5:Pn(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}e=e.sibling}}function Da(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,c=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Da(c,f,i),Qi(4,f);break;case 1:if(Da(c,f,i),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(_){lt(s,s.return,_)}if(s=f,c=s.updateQueue,c!==null){var y=s.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)Df(E[c],y)}catch(_){lt(s,s.return,_)}}i&&v&64&&qd(f),Ki(f,f.return);break;case 27:Qd(f);case 26:case 5:Da(c,f,i),i&&s===null&&v&4&&Xd(f),Ki(f,f.return);break;case 12:Da(c,f,i);break;case 13:Da(c,f,i),i&&v&4&&eh(c,f);break;case 22:f.memoizedState===null&&Da(c,f,i),Ki(f,f.return);break;case 30:break;default:Da(c,f,i)}n=n.sibling}}function xo(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ki(i))}function Eo(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ki(e))}function Yn(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ah(e,n,i,s),n=n.sibling}function ah(e,n,i,s){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,i,s),c&2048&&Qi(9,n);break;case 1:Yn(e,n,i,s);break;case 3:Yn(e,n,i,s),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ki(e)));break;case 12:if(c&2048){Yn(e,n,i,s),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,y=f.onPostCommit;typeof y=="function"&&y(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){lt(n,n.return,E)}}else Yn(e,n,i,s);break;case 13:Yn(e,n,i,s);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,i,s):Wi(e,n):f._visibility&2?Yn(e,n,i,s):(f._visibility|=2,Qr(e,n,i,s,(n.subtreeFlags&10256)!==0)),c&2048&&xo(v,n);break;case 24:Yn(e,n,i,s),c&2048&&Eo(n.alternate,n);break;default:Yn(e,n,i,s)}}function Qr(e,n,i,s,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,y=i,E=s,_=v.flags;switch(v.tag){case 0:case 11:case 15:Qr(f,v,y,E,c),Qi(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&2?Qr(f,v,y,E,c):Wi(f,v):(j._visibility|=2,Qr(f,v,y,E,c)),c&&_&2048&&xo(v.alternate,v);break;case 24:Qr(f,v,y,E,c),c&&_&2048&&Eo(v.alternate,v);break;default:Qr(f,v,y,E,c)}n=n.sibling}}function Wi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,c=s.flags;switch(s.tag){case 22:Wi(i,s),c&2048&&xo(s.alternate,s);break;case 24:Wi(i,s),c&2048&&Eo(s.alternate,s);break;default:Wi(i,s)}n=n.sibling}}var Ji=8192;function Kr(e){if(e.subtreeFlags&Ji)for(e=e.child;e!==null;)rh(e),e=e.sibling}function rh(e){switch(e.tag){case 26:Kr(e),e.flags&Ji&&e.memoizedState!==null&&Fv(Dn,e.memoizedState,e.memoizedProps);break;case 5:Kr(e);break;case 3:case 4:var n=Dn;Dn=Cs(e.stateNode.containerInfo),Kr(e),Dn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ji,Ji=16777216,Kr(e),Ji=n):Kr(e));break;default:Kr(e)}}function ih(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $i(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];Ot=s,sh(s,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lh(e),e=e.sibling}function lh(e){switch(e.tag){case 0:case 11:case 15:$i(e),e.flags&2048&&wa(9,e,e.return);break;case 3:$i(e);break;case 12:$i(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hs(e)):$i(e);break;default:$i(e)}}function hs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];Ot=s,sh(s,e)}ih(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wa(8,n,n.return),hs(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,hs(n));break;default:hs(n)}e=e.sibling}}function sh(e,n){for(;Ot!==null;){var i=Ot;switch(i.tag){case 0:case 11:case 15:wa(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ki(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Ot=s;else e:for(i=e;Ot!==null;){s=Ot;var c=s.sibling,f=s.return;if(Jd(s),s===i){Ot=null;break e}if(c!==null){c.return=f,Ot=c;break e}Ot=f}}}var ev={getCacheForType:function(e){var n=Ht(Et),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},tv=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,Be=null,He=0,et=0,cn=null,_a=!1,Wr=!1,To=!1,ca=0,pt=0,Ua=0,yr=0,Ao=0,Tn=0,Jr=0,el=null,$t=null,Co=!1,Mo=0,ps=1/0,ms=null,La=null,kt=0,ka=null,$r=null,ei=0,No=0,Ro=null,uh=null,tl=0,wo=null;function fn(){if(($e&2)!==0&&He!==0)return He&-He;if(C.T!==null){var e=Hr;return e!==0?e:Bo()}return tr()}function oh(){Tn===0&&(Tn=(He&536870912)===0||Ze?va():536870912);var e=En.current;return e!==null&&(e.flags|=32),Tn}function dn(e,n,i){(e===st&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(ti(e,0),Ba(e,He,Tn,!1)),Qn(e,i),(($e&2)===0||e!==st)&&(e===st&&(($e&2)===0&&(yr|=i),pt===4&&Ba(e,He,Tn,!1)),qn(e))}function ch(e,n,i){if(($e&6)!==0)throw Error(l(327));var s=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Ja(e,n),c=s?rv(e,n):_o(e,n,!0),f=s;do{if(c===0){Wr&&!s&&Ba(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!nv(i)){c=_o(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var y=e;c=el;var E=y.current.memoizedState.isDehydrated;if(E&&(ti(y,v).flags|=256),v=_o(y,v,!1),v!==2){if(To&&!E){y.errorRecoveryDisabledLanes|=f,yr|=f,c=4;break e}f=$t,$t=c,f!==null&&($t===null?$t=f:$t.push.apply($t,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){ti(e,0),Ba(e,n,0,!0);break}e:{switch(s=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:Ba(s,n,Tn,!_a);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=Mo+300-en(),10<c)){if(Ba(s,n,Tn,!_a),Rr(s,0,!0)!==0)break e;s.timeoutHandle=Gh(fh.bind(null,s,i,$t,ms,Co,n,Tn,yr,Jr,_a,f,2,-0,0),c);break e}fh(s,i,$t,ms,Co,n,Tn,yr,Jr,_a,f,0,-0,0)}}break}while(!0);qn(e)}function fh(e,n,i,s,c,f,v,y,E,_,j,Z,k,I){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:Iv},rh(n),Z=Gv(),Z!==null)){e.cancelPendingCommit=Z(yh.bind(null,e,n,f,i,s,c,v,y,E,j,1,k,I)),Ba(e,f,v,!_);return}yh(e,n,f,i,s,c,v,y,E)}function nv(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var c=i[s],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ba(e,n,i,s){n&=~Ao,n&=~yr,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var c=n;0<c;){var f=31-Ut(c),v=1<<f;s[f]=-1,c&=~v}i!==0&&wr(e,i,n)}function vs(){return($e&6)===0?(nl(0),!1):!0}function Oo(){if(Be!==null){if(et===0)var e=Be.return;else e=Be,na=dr=null,Vu(e),Xr=null,Vi=0,e=Be;for(;e!==null;)Yd(e.alternate,e),e=e.return;Be=null}}function ti(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Sv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Oo(),st=e,Be=i=$n(e.current,null),He=n,et=0,cn=null,_a=!1,Wr=Ja(e,n),To=!1,Jr=Tn=Ao=yr=Ua=pt=0,$t=el=null,Co=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var c=31-Ut(s),f=1<<c;n|=e[c],s&=~f}return ca=n,Fl(),i}function dh(e,n){Le=null,C.H=as,n===Ii||n===Xl?(n=wf(),et=3):n===Mf?(n=wf(),et=4):et=n===Od?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Be===null&&(pt=1,us(e,yn(n,e.current)))}function hh(){var e=C.H;return C.H=as,e===null?as:e}function ph(){var e=C.A;return C.A=ev,e}function Do(){pt=4,_a||(He&4194048)!==He&&En.current!==null||(Wr=!0),(Ua&134217727)===0&&(yr&134217727)===0||st===null||Ba(st,He,Tn,!1)}function _o(e,n,i){var s=$e;$e|=2;var c=hh(),f=ph();(st!==e||He!==n)&&(ms=null,ti(e,n)),n=!1;var v=pt;e:do try{if(et!==0&&Be!==null){var y=Be,E=cn;switch(et){case 8:Oo(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var _=et;if(et=0,cn=null,ni(e,y,E,_),i&&Wr){v=0;break e}break;default:_=et,et=0,cn=null,ni(e,y,E,_)}}av(),v=pt;break}catch(j){dh(e,j)}while(!0);return n&&e.shellSuspendCounter++,na=dr=null,$e=s,C.H=c,C.A=f,Be===null&&(st=null,He=0,Fl()),v}function av(){for(;Be!==null;)mh(Be)}function rv(e,n){var i=$e;$e|=2;var s=hh(),c=ph();st!==e||He!==n?(ms=null,ps=en()+500,ti(e,n)):Wr=Ja(e,n);e:do try{if(et!==0&&Be!==null){n=Be;var f=cn;t:switch(et){case 1:et=0,cn=null,ni(e,n,f,1);break;case 2:case 9:if(Nf(f)){et=0,cn=null,vh(n);break}n=function(){et!==2&&et!==9||st!==e||(et=7),qn(e)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Nf(f)?(et=0,cn=null,vh(n)):(et=0,cn=null,ni(e,n,f,7));break;case 5:var v=null;switch(Be.tag){case 26:v=Be.memoizedState;case 5:case 27:var y=Be;if(!v||Wh(v)){et=0,cn=null;var E=y.sibling;if(E!==null)Be=E;else{var _=y.return;_!==null?(Be=_,gs(_)):Be=null}break t}}et=0,cn=null,ni(e,n,f,5);break;case 6:et=0,cn=null,ni(e,n,f,6);break;case 8:Oo(),pt=6;break e;default:throw Error(l(462))}}iv();break}catch(j){dh(e,j)}while(!0);return na=dr=null,C.H=s,C.A=c,$e=i,Be!==null?0:(st=null,He=0,Fl(),pt)}function iv(){for(;Be!==null&&!Nl();)mh(Be)}function mh(e){var n=jd(e.alternate,e,ca);e.memoizedProps=e.pendingProps,n===null?gs(e):Be=n}function vh(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Bd(i,n,n.pendingProps,n.type,void 0,He);break;case 11:n=Bd(i,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:Vu(n);default:Yd(i,n),n=Be=gf(n,ca),n=jd(i,n,ca)}e.memoizedProps=e.pendingProps,n===null?gs(e):Be=n}function ni(e,n,i,s){na=dr=null,Vu(n),Xr=null,Vi=0;var c=n.return;try{if(Zm(e,c,n,i,He)){pt=1,us(e,yn(i,e.current)),Be=null;return}}catch(f){if(c!==null)throw Be=c,f;pt=1,us(e,yn(i,e.current)),Be=null;return}n.flags&32768?(Ze||s===1?e=!0:Wr||(He&536870912)!==0?e=!1:(_a=e=!0,(s===2||s===9||s===3||s===6)&&(s=En.current,s!==null&&s.tag===13&&(s.flags|=16384))),gh(n,e)):gs(n)}function gs(e){var n=e;do{if((n.flags&32768)!==0){gh(n,_a);return}e=n.return;var i=Km(n.alternate,n,ca);if(i!==null){Be=i;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=e}while(n!==null);pt===0&&(pt=5)}function gh(e,n){do{var i=Wm(e.alternate,e);if(i!==null){i.flags&=32767,Be=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Be=e;return}Be=e=i}while(e!==null);pt=6,Be=null}function yh(e,n,i,s,c,f,v,y,E){e.cancelPendingCommit=null;do ys();while(kt!==0);if(($e&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(f=n.lanes|n.childLanes,f|=xu,vi(e,i,f,v,y,E),e===st&&(Be=st=null,He=0),$r=n,ka=e,ei=i,No=f,Ro=c,uh=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ov(Nn,function(){return Th(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,c=X.p,X.p=2,v=$e,$e|=4;try{Jm(e,n,i)}finally{$e=v,X.p=c,C.T=s}}kt=1,bh(),Sh(),xh()}}function bh(){if(kt===1){kt=0;var e=ka,n=$r,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=C.T,C.T=null;var s=X.p;X.p=2;var c=$e;$e|=4;try{th(n,e);var f=Yo,v=sf(e.containerInfo),y=f.focusedElem,E=f.selectionRange;if(v!==y&&y&&y.ownerDocument&&lf(y.ownerDocument.documentElement,y)){if(E!==null&&vu(y)){var _=E.start,j=E.end;if(j===void 0&&(j=_),"selectionStart"in y)y.selectionStart=_,y.selectionEnd=Math.min(j,y.value.length);else{var Z=y.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var I=k.getSelection(),Ne=y.textContent.length,Ae=Math.min(E.start,Ne),rt=E.end===void 0?Ae:Math.min(E.end,Ne);!I.extend&&Ae>rt&&(v=rt,rt=Ae,Ae=v);var R=rf(y,Ae),M=rf(y,rt);if(R&&M&&(I.rangeCount!==1||I.anchorNode!==R.node||I.anchorOffset!==R.offset||I.focusNode!==M.node||I.focusOffset!==M.offset)){var O=Z.createRange();O.setStart(R.node,R.offset),I.removeAllRanges(),Ae>rt?(I.addRange(O),I.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),I.addRange(O))}}}}for(Z=[],I=y;I=I.parentNode;)I.nodeType===1&&Z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Z.length;y++){var Y=Z[y];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Os=!!Po,Yo=Po=null}finally{$e=c,X.p=s,C.T=i}}e.current=n,kt=2}}function Sh(){if(kt===2){kt=0;var e=ka,n=$r,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=C.T,C.T=null;var s=X.p;X.p=2;var c=$e;$e|=4;try{Wd(e,n.alternate,n)}finally{$e=c,X.p=s,C.T=i}}kt=3}}function xh(){if(kt===4||kt===3){kt=0,Zn();var e=ka,n=$r,i=ei,s=uh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,$r=ka=null,Eh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(La=null),yi(i),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ma,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=C.T,c=X.p,X.p=2,C.T=null;try{for(var f=e.onRecoverableError,v=0;v<s.length;v++){var y=s[v];f(y.value,{componentStack:y.stack})}}finally{C.T=n,X.p=c}}(ei&3)!==0&&ys(),qn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===wo?tl++:(tl=0,wo=e):tl=0,nl(0)}}function Eh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ki(n)))}function ys(e){return bh(),Sh(),xh(),Th()}function Th(){if(kt!==5)return!1;var e=ka,n=No;No=0;var i=yi(ei),s=C.T,c=X.p;try{X.p=32>i?32:i,C.T=null,i=Ro,Ro=null;var f=ka,v=ei;if(kt=0,$r=ka=null,ei=0,($e&6)!==0)throw Error(l(331));var y=$e;if($e|=4,lh(f.current),ah(f,f.current,v,i),$e=y,nl(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ma,f)}catch{}return!0}finally{X.p=c,C.T=s,Eh(e,n)}}function Ah(e,n,i){n=yn(i,n),n=lo(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(Qn(e,2),qn(e))}function lt(e,n,i){if(e.tag===3)Ah(e,e,i);else for(;n!==null;){if(n.tag===3){Ah(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(La===null||!La.has(s))){e=yn(i,e),i=Rd(2),s=Ca(n,i,2),s!==null&&(wd(i,s,n,e),Qn(s,2),qn(s));break}}n=n.return}}function Uo(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new tv;var c=new Set;s.set(n,c)}else c=s.get(n),c===void 0&&(c=new Set,s.set(n,c));c.has(i)||(To=!0,c.add(i),e=lv.bind(null,e,n,i),n.then(e,e))}function lv(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,st===e&&(He&i)===i&&(pt===4||pt===3&&(He&62914560)===He&&300>en()-Mo?($e&2)===0&&ti(e,0):Ao|=i,Jr===He&&(Jr=0)),qn(e)}function Ch(e,n){n===0&&(n=wn()),e=Ir(e,n),e!==null&&(Qn(e,n),qn(e))}function sv(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Ch(e,i)}function uv(e,n){var i=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(n),Ch(e,i)}function ov(e,n){return Ar(e,n)}var bs=null,ai=null,Lo=!1,Ss=!1,ko=!1,br=0;function qn(e){e!==ai&&e.next===null&&(ai===null?bs=ai=e:ai=ai.next=e),Ss=!0,Lo||(Lo=!0,fv())}function nl(e,n){if(!ko&&Ss){ko=!0;do for(var i=!1,s=bs;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var v=s.suspendedLanes,y=s.pingedLanes;f=(1<<31-Ut(42|e)+1)-1,f&=c&~(v&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,wh(s,f))}else f=He,f=Rr(s,s===st?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Ja(s,f)||(i=!0,wh(s,f));s=s.next}while(i);ko=!1}}function cv(){Mh()}function Mh(){Ss=Lo=!1;var e=0;br!==0&&(bv()&&(e=br),br=0);for(var n=en(),i=null,s=bs;s!==null;){var c=s.next,f=Nh(s,n);f===0?(s.next=null,i===null?bs=c:i.next=c,c===null&&(ai=i)):(i=s,(e!==0||(f&3)!==0)&&(Ss=!0)),s=c}nl(e)}function Nh(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ut(f),y=1<<v,E=c[v];E===-1?((y&i)===0||(y&s)!==0)&&(c[v]=tu(y,n)):E<=n&&(e.expiredLanes|=y),f&=~y}if(n=st,i=He,i=Rr(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(et===2||et===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Cr(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ja(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Cr(s),yi(i)){case 2:case 8:i=nn;break;case 32:i=Nn;break;case 268435456:i=eu;break;default:i=Nn}return s=Rh.bind(null,e),i=Ar(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Cr(s),e.callbackPriority=2,e.callbackNode=null,2}function Rh(e,n){if(kt!==0&&kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ys()&&e.callbackNode!==i)return null;var s=He;return s=Rr(e,e===st?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ch(e,s,n),Nh(e,en()),e.callbackNode!=null&&e.callbackNode===i?Rh.bind(null,e):null)}function wh(e,n){if(ys())return null;ch(e,n,!0)}function fv(){xv(function(){($e&6)!==0?Ar(tn,cv):Mh()})}function Bo(){return br===0&&(br=va()),br}function Oh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qt(""+e)}function Dh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function dv(e,n,i,s,c){if(n==="submit"&&i&&i.stateNode===c){var f=Oh((c[Ft]||null).action),v=s.submitter;v&&(n=(n=v[Ft]||null)?Oh(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var y=new kl("action","action",null,s,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(br!==0){var E=v?Dh(c,v):new FormData(c);to(i,{pending:!0,data:E,method:c.method,action:f},null,E)}}else typeof f=="function"&&(y.preventDefault(),E=v?Dh(c,v):new FormData(c),to(i,{pending:!0,data:E,method:c.method,action:f},f,E))},currentTarget:c}]})}}for(var Io=0;Io<Su.length;Io++){var Fo=Su[Io],hv=Fo.toLowerCase(),pv=Fo[0].toUpperCase()+Fo.slice(1);On(hv,"on"+pv)}On(cf,"onAnimationEnd"),On(ff,"onAnimationIteration"),On(df,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Dm,"onTransitionRun"),On(_m,"onTransitionStart"),On(Um,"onTransitionCancel"),On(hf,"onTransitionEnd"),de("onMouseEnter",["mouseout","mouseover"]),de("onMouseLeave",["mouseout","mouseover"]),de("onPointerEnter",["pointerout","pointerover"]),de("onPointerLeave",["pointerout","pointerover"]),J("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),J("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),J("onBeforeInput",["compositionend","keypress","textInput","paste"]),J("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),J("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),J("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function _h(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],c=s.event;s=s.listeners;e:{var f=void 0;if(n)for(var v=s.length-1;0<=v;v--){var y=s[v],E=y.instance,_=y.currentTarget;if(y=y.listener,E!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=_;try{f(c)}catch(j){ss(j)}c.currentTarget=null,f=E}else for(v=0;v<s.length;v++){if(y=s[v],E=y.instance,_=y.currentTarget,y=y.listener,E!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=_;try{f(c)}catch(j){ss(j)}c.currentTarget=null,f=E}}}}function Ie(e,n){var i=n[bi];i===void 0&&(i=n[bi]=new Set);var s=e+"__bubble";i.has(s)||(Uh(n,e,2,!1),i.add(s))}function Go(e,n,i){var s=0;n&&(s|=4),Uh(i,e,s,n)}var xs="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[xs]){e[xs]=!0,K.forEach(function(i){i!=="selectionchange"&&(mv.has(i)||Go(i,!1,e),Go(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[xs]||(n[xs]=!0,Go("selectionchange",!1,n))}}function Uh(e,n,i,s){switch(ap(n)){case 2:var c=jv;break;case 8:c=Pv;break;default:c=ec}i=c.bind(null,n,i,e),c=void 0,!su||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Ho(e,n,i,s,c){var f=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var y=s.stateNode.containerInfo;if(y===c)break;if(v===4)for(v=s.return;v!==null;){var E=v.tag;if((E===3||E===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;y!==null;){if(v=ya(y),v===null)return;if(E=v.tag,E===5||E===6||E===26||E===27){s=f=v;continue e}y=y.parentNode}}s=s.return}Gc(function(){var _=f,j=iu(i),Z=[];e:{var k=pf.get(e);if(k!==void 0){var I=kl,Ne=e;switch(e){case"keypress":if(Ul(i)===0)break e;case"keydown":case"keyup":I=om;break;case"focusin":Ne="focus",I=fu;break;case"focusout":Ne="blur",I=fu;break;case"beforeblur":case"afterblur":I=fu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=W0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=dm;break;case cf:case ff:case df:I=em;break;case hf:I=pm;break;case"scroll":case"scrollend":I=Q0;break;case"wheel":I=vm;break;case"copy":case"cut":case"paste":I=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Yc;break;case"toggle":case"beforetoggle":I=ym}var Ae=(n&4)!==0,rt=!Ae&&(e==="scroll"||e==="scrollend"),R=Ae?k!==null?k+"Capture":null:k;Ae=[];for(var M=_,O;M!==null;){var Y=M;if(O=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||O===null||R===null||(Y=Ei(M,R),Y!=null&&Ae.push(rl(M,Y,O))),rt)break;M=M.return}0<Ae.length&&(k=new I(k,Ne,null,i,j),Z.push({event:k,listeners:Ae}))}}if((n&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",k&&i!==zt&&(Ne=i.relatedTarget||i.fromElement)&&(ya(Ne)||Ne[ga]))break e;if((I||k)&&(k=j.window===j?j:(k=j.ownerDocument)?k.defaultView||k.parentWindow:window,I?(Ne=i.relatedTarget||i.toElement,I=_,Ne=Ne?ya(Ne):null,Ne!==null&&(rt=o(Ne),Ae=Ne.tag,Ne!==rt||Ae!==5&&Ae!==27&&Ae!==6)&&(Ne=null)):(I=null,Ne=_),I!==Ne)){if(Ae=jc,Y="onMouseLeave",R="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=Yc,Y="onPointerLeave",R="onPointerEnter",M="pointer"),rt=I==null?k:Sa(I),O=Ne==null?k:Sa(Ne),k=new Ae(Y,M+"leave",I,i,j),k.target=rt,k.relatedTarget=O,Y=null,ya(j)===_&&(Ae=new Ae(R,M+"enter",Ne,i,j),Ae.target=O,Ae.relatedTarget=rt,Y=Ae),rt=Y,I&&Ne)t:{for(Ae=I,R=Ne,M=0,O=Ae;O;O=ri(O))M++;for(O=0,Y=R;Y;Y=ri(Y))O++;for(;0<M-O;)Ae=ri(Ae),M--;for(;0<O-M;)R=ri(R),O--;for(;M--;){if(Ae===R||R!==null&&Ae===R.alternate)break t;Ae=ri(Ae),R=ri(R)}Ae=null}else Ae=null;I!==null&&Lh(Z,k,I,Ae,!1),Ne!==null&&rt!==null&&Lh(Z,rt,Ne,Ae,!0)}}e:{if(k=_?Sa(_):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var he=Jc;else if(Kc(k))if($c)he=Rm;else{he=Mm;var ke=Cm}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?_&&rn(_.elementType)&&(he=Jc):he=Nm;if(he&&(he=he(e,_))){Wc(Z,he,i,j);break e}ke&&ke(e,k,_),e==="focusout"&&_&&k.type==="number"&&_.memoizedProps.value!=null&&xt(k,"number",k.value)}switch(ke=_?Sa(_):window,e){case"focusin":(Kc(ke)||ke.contentEditable==="true")&&(Lr=ke,gu=_,Oi=null);break;case"focusout":Oi=gu=Lr=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,uf(Z,i,j);break;case"selectionchange":if(Om)break;case"keydown":case"keyup":uf(Z,i,j)}var ye;if(hu)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ur?Zc(e,i)&&(Ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ce="onCompositionStart");Ce&&(qc&&i.locale!=="ko"&&(Ur||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ur&&(ye=zc()):(xa=j,uu="value"in xa?xa.value:xa.textContent,Ur=!0)),ke=Es(_,Ce),0<ke.length&&(Ce=new Pc(Ce,e,null,i,j),Z.push({event:Ce,listeners:ke}),ye?Ce.data=ye:(ye=Qc(i),ye!==null&&(Ce.data=ye)))),(ye=Sm?xm(e,i):Em(e,i))&&(Ce=Es(_,"onBeforeInput"),0<Ce.length&&(ke=new Pc("onBeforeInput","beforeinput",null,i,j),Z.push({event:ke,listeners:Ce}),ke.data=ye)),dv(Z,e,_,i,j)}_h(Z,n)})}function rl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Es(e,n){for(var i=n+"Capture",s=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ei(e,i),c!=null&&s.unshift(rl(e,c,f)),c=Ei(e,n),c!=null&&s.push(rl(e,c,f))),e.tag===3)return s;e=e.return}return[]}function ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lh(e,n,i,s,c){for(var f=n._reactName,v=[];i!==null&&i!==s;){var y=i,E=y.alternate,_=y.stateNode;if(y=y.tag,E!==null&&E===s)break;y!==5&&y!==26&&y!==27||_===null||(E=_,c?(_=Ei(i,f),_!=null&&v.unshift(rl(i,_,E))):c||(_=Ei(i,f),_!=null&&v.push(rl(i,_,E)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var vv=/\r\n?/g,gv=/\u0000|\uFFFD/g;function kh(e){return(typeof e=="string"?e:""+e).replace(vv,`
`).replace(gv,"")}function Bh(e,n){return n=kh(n),kh(e)===n}function Ts(){}function at(e,n,i,s,c,f){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Rt(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Rt(e,""+s);break;case"className":nr(e,"class",s);break;case"tabIndex":nr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,i,s);break;case"style":ar(e,s,f);break;case"data":if(n!=="object"){nr(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Qt(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&at(e,n,"name",c.name,c,null),at(e,n,"formEncType",c.formEncType,c,null),at(e,n,"formMethod",c.formMethod,c,null),at(e,n,"formTarget",c.formTarget,c,null)):(at(e,n,"encType",c.encType,c,null),at(e,n,"method",c.method,c,null),at(e,n,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Qt(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Ts);break;case"onScroll":s!=null&&Ie("scroll",e);break;case"onScrollEnd":s!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Qt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),vn(e,"popover",s);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":vn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Wn.get(i)||i,vn(e,i,s))}}function jo(e,n,i,s,c,f){switch(i){case"style":ar(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Rt(e,s):(typeof s=="number"||typeof s=="bigint")&&Rt(e,""+s);break;case"onScroll":s!=null&&Ie("scroll",e);break;case"onScrollEnd":s!=null&&Ie("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!G.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),f=e[Ft]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,c);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):vn(e,i,s)}}}function Bt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var s=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:at(e,n,f,v,i,null)}}c&&at(e,n,"srcSet",i.srcSet,i,null),s&&at(e,n,"src",i.src,i,null);return;case"input":Ie("invalid",e);var y=f=v=c=null,E=null,_=null;for(s in i)if(i.hasOwnProperty(s)){var j=i[s];if(j!=null)switch(s){case"name":c=j;break;case"type":v=j;break;case"checked":E=j;break;case"defaultChecked":_=j;break;case"value":f=j;break;case"defaultValue":y=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,n));break;default:at(e,n,s,j,i,null)}}Pt(e,f,y,E,_,v,c,!1),Ke(e);return;case"select":Ie("invalid",e),s=v=f=null;for(c in i)if(i.hasOwnProperty(c)&&(y=i[c],y!=null))switch(c){case"value":f=y;break;case"defaultValue":v=y;break;case"multiple":s=y;default:at(e,n,c,y,i,null)}n=f,i=v,e.multiple=!!s,n!=null?Gt(e,!!s,n,!1):i!=null&&Gt(e,!!s,i,!0);return;case"textarea":Ie("invalid",e),f=c=s=null;for(v in i)if(i.hasOwnProperty(v)&&(y=i[v],y!=null))switch(v){case"value":s=y;break;case"defaultValue":c=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:at(e,n,v,y,i,null)}ze(e,s,c,f),Ke(e);return;case"option":for(E in i)if(i.hasOwnProperty(E)&&(s=i[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:at(e,n,E,s,i,null)}return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(s=0;s<al.length;s++)Ie(al[s],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in i)if(i.hasOwnProperty(_)&&(s=i[_],s!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:at(e,n,_,s,i,null)}return;default:if(rn(n)){for(j in i)i.hasOwnProperty(j)&&(s=i[j],s!==void 0&&jo(e,n,j,s,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(s=i[y],s!=null&&at(e,n,y,s,i,null))}function yv(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,y=null,E=null,_=null,j=null;for(I in i){var Z=i[I];if(i.hasOwnProperty(I)&&Z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=Z;default:s.hasOwnProperty(I)||at(e,n,I,null,s,Z)}}for(var k in s){var I=s[k];if(Z=i[k],s.hasOwnProperty(k)&&(I!=null||Z!=null))switch(k){case"type":f=I;break;case"name":c=I;break;case"checked":_=I;break;case"defaultChecked":j=I;break;case"value":v=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,n));break;default:I!==Z&&at(e,n,k,I,s,Z)}}Nt(e,v,y,E,_,j,f,c);return;case"select":I=v=y=k=null;for(f in i)if(E=i[f],i.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":I=E;default:s.hasOwnProperty(f)||at(e,n,f,null,s,E)}for(c in s)if(f=s[c],E=i[c],s.hasOwnProperty(c)&&(f!=null||E!=null))switch(c){case"value":k=f;break;case"defaultValue":y=f;break;case"multiple":v=f;default:f!==E&&at(e,n,c,f,s,E)}n=y,i=v,s=I,k!=null?Gt(e,!!i,k,!1):!!s!=!!i&&(n!=null?Gt(e,!!i,n,!0):Gt(e,!!i,i?[]:"",!1));return;case"textarea":I=k=null;for(y in i)if(c=i[y],i.hasOwnProperty(y)&&c!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:at(e,n,y,null,s,c)}for(v in s)if(c=s[v],f=i[v],s.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":k=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&at(e,n,v,c,s,f)}Kn(e,k,I);return;case"option":for(var Ne in i)if(k=i[Ne],i.hasOwnProperty(Ne)&&k!=null&&!s.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:at(e,n,Ne,null,s,k)}for(E in s)if(k=s[E],I=i[E],s.hasOwnProperty(E)&&k!==I&&(k!=null||I!=null))switch(E){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:at(e,n,E,k,s,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in i)k=i[Ae],i.hasOwnProperty(Ae)&&k!=null&&!s.hasOwnProperty(Ae)&&at(e,n,Ae,null,s,k);for(_ in s)if(k=s[_],I=i[_],s.hasOwnProperty(_)&&k!==I&&(k!=null||I!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,n));break;default:at(e,n,_,k,s,I)}return;default:if(rn(n)){for(var rt in i)k=i[rt],i.hasOwnProperty(rt)&&k!==void 0&&!s.hasOwnProperty(rt)&&jo(e,n,rt,void 0,s,k);for(j in s)k=s[j],I=i[j],!s.hasOwnProperty(j)||k===I||k===void 0&&I===void 0||jo(e,n,j,k,s,I);return}}for(var R in i)k=i[R],i.hasOwnProperty(R)&&k!=null&&!s.hasOwnProperty(R)&&at(e,n,R,null,s,k);for(Z in s)k=s[Z],I=i[Z],!s.hasOwnProperty(Z)||k===I||k==null&&I==null||at(e,n,Z,k,s,I)}var Po=null,Yo=null;function As(e){return e.nodeType===9?e:e.ownerDocument}function Ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qo(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vo=null;function bv(){var e=window.event;return e&&e.type==="popstate"?e===Vo?!1:(Vo=e,!0):(Vo=null,!1)}var Gh=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(e){return zh.resolve(null).then(e).catch(Ev)}:Gh;function Ev(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function Hh(e,n){var i=n,s=0,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<s&&8>s){i=s;var v=e.ownerDocument;if(i&1&&il(v.documentElement),i&2&&il(v.body),i&4)for(i=v.head,il(i),v=i.firstChild;v;){var y=v.nextSibling,E=v.nodeName;v[mn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&v.rel.toLowerCase()==="stylesheet"||i.removeChild(v),v=y}}if(c===0){e.removeChild(f),hl(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:s=i.charCodeAt(0)-48;else s=0;i=f}while(i);hl(n)}function Xo(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Xo(i),Si(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Tv(e,n,i,s){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[mn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=_n(e.nextSibling),e===null)break}return null}function Av(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=_n(e.nextSibling),e===null))return null;return e}function Zo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cv(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function _n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Qo=null;function jh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Ph(e,n,i){switch(n=As(i),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Si(e)}var An=new Map,Yh=new Set;function Cs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=X.d;X.d={f:Mv,r:Nv,D:Rv,C:wv,L:Ov,m:Dv,X:Uv,S:_v,M:Lv};function Mv(){var e=fa.f(),n=vs();return e||n}function Nv(e){var n=ba(e);n!==null&&n.tag===5&&n.type==="form"?cd(n):fa.r(e)}var ii=typeof document>"u"?null:document;function qh(e,n,i){var s=ii;if(s&&typeof n=="string"&&n){var c=Xe(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Yh.has(c)||(Yh.add(c),e={rel:e,crossOrigin:i,href:n},s.querySelector(c)===null&&(n=s.createElement("link"),Bt(n,"link",e),N(n),s.head.appendChild(n)))}}function Rv(e){fa.D(e),qh("dns-prefetch",e,null)}function wv(e,n){fa.C(e,n),qh("preconnect",e,n)}function Ov(e,n,i){fa.L(e,n,i);var s=ii;if(s&&e&&n){var c='link[rel="preload"][as="'+Xe(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Xe(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Xe(i.imageSizes)+'"]')):c+='[href="'+Xe(e)+'"]';var f=c;switch(n){case"style":f=li(e);break;case"script":f=si(e)}An.has(f)||(e=g({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),An.set(f,e),s.querySelector(c)!==null||n==="style"&&s.querySelector(ll(f))||n==="script"&&s.querySelector(sl(f))||(n=s.createElement("link"),Bt(n,"link",e),N(n),s.head.appendChild(n)))}}function Dv(e,n){fa.m(e,n);var i=ii;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Xe(s)+'"][href="'+Xe(e)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=si(e)}if(!An.has(f)&&(e=g({rel:"modulepreload",href:e},n),An.set(f,e),i.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(sl(f)))return}s=i.createElement("link"),Bt(s,"link",e),N(s),i.head.appendChild(s)}}}function _v(e,n,i){fa.S(e,n,i);var s=ii;if(s&&e){var c=B(s).hoistableStyles,f=li(e);n=n||"default";var v=c.get(f);if(!v){var y={loading:0,preload:null};if(v=s.querySelector(ll(f)))y.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},i),(i=An.get(f))&&Ko(e,i);var E=v=s.createElement("link");N(E),Bt(E,"link",e),E._p=new Promise(function(_,j){E.onload=_,E.onerror=j}),E.addEventListener("load",function(){y.loading|=1}),E.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ms(v,n,s)}v={type:"stylesheet",instance:v,count:1,state:y},c.set(f,v)}}}function Uv(e,n){fa.X(e,n);var i=ii;if(i&&e){var s=B(i).hoistableScripts,c=si(e),f=s.get(c);f||(f=i.querySelector(sl(c)),f||(e=g({src:e,async:!0},n),(n=An.get(c))&&Wo(e,n),f=i.createElement("script"),N(f),Bt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Lv(e,n){fa.M(e,n);var i=ii;if(i&&e){var s=B(i).hoistableScripts,c=si(e),f=s.get(c);f||(f=i.querySelector(sl(c)),f||(e=g({src:e,async:!0,type:"module"},n),(n=An.get(c))&&Wo(e,n),f=i.createElement("script"),N(f),Bt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Vh(e,n,i,s){var c=(c=fe.current)?Cs(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=li(i.href),i=B(c).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=li(i.href);var f=B(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(ll(e)))&&!f._p&&(v.instance=f,v.state.loading=5),An.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},An.set(e,i),f||kv(c,e,i,v.state))),n&&s===null)throw Error(l(528,""));return v}if(n&&s!==null)throw Error(l(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=si(i),i=B(c).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function li(e){return'href="'+Xe(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function Xh(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function kv(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Bt(n,"link",i),N(n),e.head.appendChild(n))}function si(e){return'[src="'+Xe(e)+'"]'}function sl(e){return"script[async]"+e}function Zh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Xe(i.href)+'"]');if(s)return n.instance=s,N(s),s;var c=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),N(s),Bt(s,"style",c),Ms(s,i.precedence,e),n.instance=s;case"stylesheet":c=li(i.href);var f=e.querySelector(ll(c));if(f)return n.state.loading|=4,n.instance=f,N(f),f;s=Xh(i),(c=An.get(c))&&Ko(s,c),f=(e.ownerDocument||e).createElement("link"),N(f);var v=f;return v._p=new Promise(function(y,E){v.onload=y,v.onerror=E}),Bt(f,"link",s),n.state.loading|=4,Ms(f,i.precedence,e),n.instance=f;case"script":return f=si(i.src),(c=e.querySelector(sl(f)))?(n.instance=c,N(c),c):(s=i,(c=An.get(f))&&(s=g({},i),Wo(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),N(c),Bt(c,"link",s),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ms(s,i.precedence,e));return n.instance}function Ms(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,v=0;v<s.length;v++){var y=s[v];if(y.dataset.precedence===n)f=y;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Ko(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wo(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ns=null;function Qh(e,n,i){if(Ns===null){var s=new Map,c=Ns=new Map;c.set(i,s)}else c=Ns,s=c.get(i),s||(s=new Map,c.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[mn]||f[yt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var y=s.get(v);y?y.push(f):s.set(v,[f])}}return s}function Kh(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Bv(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ul=null;function Iv(){}function Fv(e,n,i){if(ul===null)throw Error(l(475));var s=ul;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=li(i.href),f=e.querySelector(ll(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Rs.bind(s),e.then(s,s)),n.state.loading|=4,n.instance=f,N(f);return}f=e.ownerDocument||e,i=Xh(i),(c=An.get(c))&&Ko(i,c),f=f.createElement("link"),N(f);var v=f;v._p=new Promise(function(y,E){v.onload=y,v.onerror=E}),Bt(f,"link",i),n.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(s.count++,n=Rs.bind(s),e.addEventListener("load",n),e.addEventListener("error",n))}}function Gv(){if(ul===null)throw Error(l(475));var e=ul;return e.stylesheets&&e.count===0&&Jo(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Jo(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Rs(){if(this.count--,this.count===0){if(this.stylesheets)Jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ws=null;function Jo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ws=new Map,n.forEach(zv,e),ws=null,Rs.call(e))}function zv(e,n){if(!(n.state.loading&4)){var i=ws.get(e);if(i)var s=i.get(null);else{i=new Map,ws.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),s=v)}s&&i.set(null,s)}c=n.instance,v=c.getAttribute("data-precedence"),f=i.get(v)||s,f===s&&i.set(null,c),i.set(v,c),this.count++,s=Rs.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:V,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Hv(e,n,i,s,c,f,v,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.hiddenUpdates=$a(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Jh(e,n,i,s,c,f,v,y,E,_,j,Z){return e=new Hv(e,n,i,v,y,E,_,Z),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),e.current=f,f.stateNode=e,n=_u(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:s,isDehydrated:i,cache:n},Bu(f),e}function $h(e){return e?(e=Fr,e):Fr}function ep(e,n,i,s,c,f){c=$h(c),s.context===null?s.context=c:s.pendingContext=c,s=Aa(n),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=Ca(e,s,n),i!==null&&(dn(i,e,n),Gi(i,e,n))}function tp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function $o(e,n){tp(e,n),(e=e.alternate)&&tp(e,n)}function np(e){if(e.tag===13){var n=Ir(e,67108864);n!==null&&dn(n,e,67108864),$o(e,67108864)}}var Os=!0;function jv(e,n,i,s){var c=C.T;C.T=null;var f=X.p;try{X.p=2,ec(e,n,i,s)}finally{X.p=f,C.T=c}}function Pv(e,n,i,s){var c=C.T;C.T=null;var f=X.p;try{X.p=8,ec(e,n,i,s)}finally{X.p=f,C.T=c}}function ec(e,n,i,s){if(Os){var c=tc(s);if(c===null)Ho(e,n,s,Ds,i),rp(e,s);else if(qv(c,e,n,i,s))s.stopPropagation();else if(rp(e,s),n&4&&-1<Yv.indexOf(e)){for(;c!==null;){var f=ba(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Gn(f.pendingLanes);if(v!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;v;){var E=1<<31-Ut(v);y.entanglements[1]|=E,v&=~E}qn(f),($e&6)===0&&(ps=en()+500,nl(0))}}break;case 13:y=Ir(f,2),y!==null&&dn(y,f,2),vs(),$o(f,2)}if(f=tc(s),f===null&&Ho(e,n,s,Ds,i),f===c)break;c=f}c!==null&&s.stopPropagation()}else Ho(e,n,s,null,i)}}function tc(e){return e=iu(e),nc(e)}var Ds=null;function nc(e){if(Ds=null,e=ya(e),e!==null){var n=o(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ds=e,null}function ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rl()){case tn:return 2;case nn:return 8;case Nn:case Ic:return 32;case eu:return 268435456;default:return 32}default:return 32}}var ac=!1,Fa=null,Ga=null,za=null,cl=new Map,fl=new Map,Ha=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(e,n){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,i,s,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ba(n),n!==null&&np(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function qv(e,n,i,s,c){switch(n){case"focusin":return Fa=dl(Fa,e,n,i,s,c),!0;case"dragenter":return Ga=dl(Ga,e,n,i,s,c),!0;case"mouseover":return za=dl(za,e,n,i,s,c),!0;case"pointerover":var f=c.pointerId;return cl.set(f,dl(cl.get(f)||null,e,n,i,s,c)),!0;case"gotpointercapture":return f=c.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,i,s,c)),!0}return!1}function ip(e){var n=ya(e.target);if(n!==null){var i=o(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,nu(e.priority,function(){if(i.tag===13){var s=fn();s=gi(s);var c=Ir(i,s);c!==null&&dn(c,i,s),$o(i,s)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=tc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);zt=s,i.target.dispatchEvent(s),zt=null}else return n=ba(i),n!==null&&np(n),e.blockedOn=i,!1;n.shift()}return!0}function lp(e,n,i){_s(e)&&i.delete(n)}function Vv(){ac=!1,Fa!==null&&_s(Fa)&&(Fa=null),Ga!==null&&_s(Ga)&&(Ga=null),za!==null&&_s(za)&&(za=null),cl.forEach(lp),fl.forEach(lp)}function Us(e,n){e.blockedOn===n&&(e.blockedOn=null,ac||(ac=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vv)))}var Ls=null;function sp(e){Ls!==e&&(Ls=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ls===e&&(Ls=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],c=e[n+2];if(typeof s!="function"){if(nc(s||i)===null)continue;break}var f=ba(i);f!==null&&(e.splice(n,3),n-=3,to(f,{pending:!0,data:c,method:i.method,action:s},s,c))}}))}function hl(e){function n(E){return Us(E,e)}Fa!==null&&Us(Fa,e),Ga!==null&&Us(Ga,e),za!==null&&Us(za,e),cl.forEach(n),fl.forEach(n);for(var i=0;i<Ha.length;i++){var s=Ha[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ha.length&&(i=Ha[0],i.blockedOn===null);)ip(i),i.blockedOn===null&&Ha.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],v=c[Ft]||null;if(typeof f=="function")v||sp(i);else if(v){var y=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[Ft]||null)y=v.formAction;else if(nc(c)!==null)continue}else y=v.action;typeof y=="function"?i[s+1]=y:(i.splice(s,3),s-=3),sp(i)}}}function rc(e){this._internalRoot=e}ks.prototype.render=rc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var i=n.current,s=fn();ep(i,s,e,n,null,null)},ks.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ep(e.current,2,null,e,null,null),vs(),n[ga]=null}};function ks(e){this._internalRoot=e}ks.prototype.unstable_scheduleHydration=function(e){if(e){var n=tr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ha.length&&n!==0&&n<Ha[i].priority;i++);Ha.splice(i,0,e),i===0&&ip(e)}};var up=t.version;if(up!=="19.1.1")throw Error(l(527,up,"19.1.1"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=h(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Xv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{ma=Bs.inject(Xv),It=Bs}catch{}}return ml.createRoot=function(e,n){if(!u(e))throw Error(l(299));var i=!1,s="",c=Ad,f=Cd,v=Md,y=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(y=n.unstable_transitionCallbacks)),n=Jh(e,1,!1,null,null,i,s,c,f,v,y,null),e[ga]=n.current,zo(e),new rc(n)},ml.hydrateRoot=function(e,n,i){if(!u(e))throw Error(l(299));var s=!1,c="",f=Ad,v=Cd,y=Md,E=null,_=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks),i.formState!==void 0&&(_=i.formState)),n=Jh(e,1,!0,n,i??null,s,c,f,v,y,E,_),n.context=$h(null),i=n.current,s=fn(),s=gi(s),c=Aa(s),c.callback=null,Ca(i,c,s),i=s,n.current.lanes=i,Qn(n,i),qn(n),e[ga]=n.current,zo(e),new ks(n)},ml.version="19.1.1",ml}var yp;function ng(){if(yp)return sc.exports;yp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),sc.exports=tg(),sc.exports}var ag=ng();const rg=Nc(ag);class Un{constructor(t=!1){this.eventMap={},this.eventsSuspended=t==!0}addListener(t,r,l={}){if(typeof t=="string"&&t.length<1||t instanceof String&&t.length<1||typeof t!="string"&&!(t instanceof String)&&t!==Un.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof r!="function")throw new TypeError("The callback must be a function.");const u=new bp(t,this,r,l);return this.eventMap[t]||(this.eventMap[t]=[]),l.prepend?this.eventMap[t].unshift(u):this.eventMap[t].push(u),u}addOneTimeListener(t,r,l={}){l.remaining=1,this.addListener(t,r,l)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(t,r){return t===void 0?this.eventMap[Un.ANY_EVENT]&&this.eventMap[Un.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,l])=>l.length>0):this.eventMap[t]&&this.eventMap[t].length>0?r instanceof bp?this.eventMap[t].filter(u=>u===r).length>0:typeof r=="function"?this.eventMap[t].filter(u=>u.callback===r).length>0:r==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(t){return this.eventMap[t]||[]}suspendEvent(t){this.getListeners(t).forEach(r=>{r.suspended=!0})}unsuspendEvent(t){this.getListeners(t).forEach(r=>{r.suspended=!1})}getListenerCount(t){return this.getListeners(t).length}emit(t,...r){if(typeof t!="string"&&!(t instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let l=[],u=this.eventMap[Un.ANY_EVENT]||[];return this.eventMap[t]&&(u=u.concat(this.eventMap[t])),u.forEach(o=>{if(o.suspended)return;let d=[...r];Array.isArray(o.arguments)&&(d=d.concat(o.arguments)),o.remaining>0&&(l.push(o.callback.apply(o.context,d)),o.count++),--o.remaining<1&&o.remove()}),l}removeListener(t,r,l={}){if(t===void 0){this.eventMap={};return}else if(!this.eventMap[t])return;let u=this.eventMap[t].filter(o=>r&&o.callback!==r||l.remaining&&l.remaining!==o.remaining||l.context&&l.context!==o.context);u.length?this.eventMap[t]=u:delete this.eventMap[t]}async waitFor(t,r={}){return r.duration=parseInt(r.duration),(isNaN(r.duration)||r.duration<=0)&&(r.duration=1/0),new Promise((l,u)=>{let o,d=this.addListener(t,()=>{clearTimeout(o),l()},{remaining:1});r.duration!==1/0&&(o=setTimeout(()=>{d.remove(),u("The duration expired before the event was emitted.")},r.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class bp{constructor(t,r,l,u={}){if(typeof t!="string"&&!(t instanceof String)&&t!==Un.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!r)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof l!="function")throw new TypeError("The 'callback' must be a function.");u.arguments!==void 0&&!Array.isArray(u.arguments)&&(u.arguments=[u.arguments]),u=Object.assign({context:r,remaining:1/0,arguments:void 0,duration:1/0},u),u.duration!==1/0&&setTimeout(()=>this.remove(),u.duration),this.arguments=u.arguments,this.callback=l,this.context=u.context,this.count=0,this.event=t,this.remaining=parseInt(u.remaining)>=1?parseInt(u.remaining):1/0,this.suspended=!1,this.target=r}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class q{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),q.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),q.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),q.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),q.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class oi{constructor(t,r={}){this.duration=ee.defaults.note.duration,this.attack=ee.defaults.note.attack,this.release=ee.defaults.note.release,r.duration!=null&&(this.duration=r.duration),r.attack!=null&&(this.attack=r.attack),r.rawAttack!=null&&(this.attack=re.from7bitToFloat(r.rawAttack)),r.release!=null&&(this.release=r.release),r.rawRelease!=null&&(this.release=re.from7bitToFloat(r.rawRelease)),Number.isInteger(t)?this.identifier=re.toNoteIdentifier(t):this.identifier=t}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(t){const r=re.getNoteDetails(t);if(ee.validation&&!t)throw new Error("Invalid note identifier");this._name=r.name,this._accidental=r.accidental,this._octave=r.octave}get name(){return this._name}set name(t){if(ee.validation&&(t=t.toUpperCase(),!["C","D","E","F","G","A","B"].includes(t)))throw new Error("Invalid name value");this._name=t}get accidental(){return this._accidental}set accidental(t){if(ee.validation&&(t=t.toLowerCase(),!["#","##","b","bb"].includes(t)))throw new Error("Invalid accidental value");this._accidental=t}get octave(){return this._octave}set octave(t){if(ee.validation&&(t=parseInt(t),isNaN(t)))throw new Error("Invalid octave value");this._octave=t}get duration(){return this._duration}set duration(t){if(ee.validation&&(t=parseFloat(t),isNaN(t)||t===null||t<0))throw new RangeError("Invalid duration value.");this._duration=t}get attack(){return this._attack}set attack(t){if(ee.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid attack value.");this._attack=t}get release(){return this._release}set release(t){if(ee.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid release value.");this._release=t}get rawAttack(){return re.fromFloatTo7Bit(this._attack)}set rawAttack(t){this._attack=re.from7bitToFloat(t)}get rawRelease(){return re.fromFloatTo7Bit(this._release)}set rawRelease(t){this._release=re.from7bitToFloat(t)}get number(){return re.toNoteNumber(this.identifier)}getOffsetNumber(t=0,r=0){return ee.validation&&(t=parseInt(t)||0,r=parseInt(r)||0),Math.min(Math.max(this.number+t*12+r,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class re{static toNoteNumber(t,r=0){if(r=r==null?0:parseInt(r),isNaN(r))throw new RangeError("Invalid 'octaveOffset' value");typeof t!="string"&&(t="");const l=this.getNoteDetails(t);if(!l)throw new TypeError("Invalid note identifier");const u={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let o=(l.octave+1+r)*12;if(o+=u[l.name],l.accidental&&(l.accidental.startsWith("b")?o-=l.accidental.length:o+=l.accidental.length),o<0||o>127)throw new RangeError("Invalid octaveOffset value");return o}static getNoteDetails(t){Number.isInteger(t)&&(t=this.toNoteIdentifier(t));const r=t.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!r)throw new TypeError("Invalid note identifier");const l=r[1].toUpperCase(),u=parseInt(r[3]);let o=r[2].toLowerCase();return o=o===""?void 0:o,{accidental:o,identifier:l+(o||"")+u,name:l,octave:u}}static sanitizeChannels(t){let r;if(ee.validation){if(t==="all")r=["all"];else if(t==="none")return[]}return Array.isArray(t)?r=t:r=[t],r.indexOf("all")>-1&&(r=q.MIDI_CHANNEL_NUMBERS),r.map(function(l){return parseInt(l)}).filter(function(l){return l>=1&&l<=16})}static toTimestamp(t){let r=!1;const l=parseFloat(t);return isNaN(l)?!1:(typeof t=="string"&&t.substring(0,1)==="+"?l>=0&&(r=ee.time+l):l>=0&&(r=l),r)}static guessNoteNumber(t,r){r=parseInt(r)||0;let l=!1;if(Number.isInteger(t)&&t>=0&&t<=127)l=parseInt(t);else if(parseInt(t)>=0&&parseInt(t)<=127)l=parseInt(t);else if(typeof t=="string"||t instanceof String)try{l=this.toNoteNumber(t.trim(),r)}catch{return!1}return l}static toNoteIdentifier(t,r){if(t=parseInt(t),isNaN(t)||t<0||t>127)throw new RangeError("Invalid note number");if(r=r==null?0:parseInt(r),isNaN(r))throw new RangeError("Invalid octaveOffset value");const l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],u=Math.floor(t/12-1)+r;return l[t%12]+u.toString()}static buildNote(t,r={}){if(r.octaveOffset=parseInt(r.octaveOffset)||0,t instanceof oi)return t;let l=this.guessNoteNumber(t,r.octaveOffset);if(l===!1)throw new TypeError(`The input could not be parsed as a note (${t})`);return r.octaveOffset=void 0,new oi(l,r)}static buildNoteArray(t,r={}){let l=[];return Array.isArray(t)||(t=[t]),t.forEach(u=>{l.push(this.buildNote(u,r))}),l}static from7bitToFloat(t){return t===1/0&&(t=127),t=parseInt(t)||0,Math.min(Math.max(t/127,0),1)}static fromFloatTo7Bit(t){return t===1/0&&(t=1),t=parseFloat(t)||0,Math.min(Math.max(Math.round(t*127),0),127)}static fromMsbLsbToFloat(t,r=0){ee.validation&&(t=Math.min(Math.max(parseInt(t)||0,0),127),r=Math.min(Math.max(parseInt(r)||0,0),127));const l=((t<<7)+r)/16383;return Math.min(Math.max(l,0),1)}static fromFloatToMsbLsb(t){ee.validation&&(t=Math.min(Math.max(parseFloat(t)||0,0),1));const r=Math.round(t*16383);return{msb:r>>7,lsb:r&127}}static offsetNumber(t,r=0,l=0){if(ee.validation){if(t=parseInt(t),isNaN(t))throw new Error("Invalid note number");r=parseInt(r)||0,l=parseInt(l)||0}return Math.min(Math.max(t+r*12+l,0),127)}static getPropertyByValue(t,r){return Object.keys(t).find(l=>t[l]===r)}static getCcNameByNumber(t){if(!(ee.validation&&(t=parseInt(t),!(t>=0&&t<=127))))return q.CONTROL_CHANGE_MESSAGES[t].name}static getCcNumberByName(t){let r=q.CONTROL_CHANGE_MESSAGES.find(l=>l.name===t);return r?r.number:q.MIDI_CONTROL_CHANGE_MESSAGES[t]}static getChannelModeByNumber(t){if(!(t>=120&&t<=127))return!1;for(let r in q.CHANNEL_MODE_MESSAGES)if(q.CHANNEL_MODE_MESSAGES.hasOwnProperty(r)&&t===q.CHANNEL_MODE_MESSAGES[r])return r;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class ig extends Un{constructor(t,r){super(),this._output=t,this._number=r,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(t,r={time:0}){return this.output.send(t,r),this}sendKeyAftertouch(t,r,l={}){if(ee.validation){if(l.useRawValue&&(l.rawValue=l.useRawValue),isNaN(parseFloat(r)))throw new RangeError("Invalid key aftertouch value.");if(l.rawValue){if(!(r>=0&&r<=127&&Number.isInteger(r)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(r>=0&&r<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}l.rawValue||(r=re.fromFloatTo7Bit(r));const u=ee.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(t)||(t=[t]),re.buildNoteArray(t).forEach(o=>{this.send([(q.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),o.getOffsetNumber(u),r],{time:re.toTimestamp(l.time)})}),this}sendControlChange(t,r,l={}){if(typeof t=="string"&&(t=re.getCcNumberByName(t)),Array.isArray(r)||(r=[r]),ee.validation){if(t===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(r=r.map(u=>{const o=Math.min(Math.max(parseInt(u),0),127);if(isNaN(o))throw new TypeError("Values must be integers between 0 and 127");return o}),r.length===2&&t>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return r.forEach((u,o)=>{this.send([(q.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t+o*32,r[o]],{time:re.toTimestamp(l.time)})}),this}_selectNonRegisteredParameter(t,r={}){return this.sendControlChange(99,t[0],r),this.sendControlChange(98,t[1],r),this}_deselectRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_deselectNonRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_selectRegisteredParameter(t,r={}){return this.sendControlChange(101,t[0],r),this.sendControlChange(100,t[1],r),this}_setCurrentParameter(t,r={}){return t=[].concat(t),this.sendControlChange(6,t[0],r),t.length<2?this:(this.sendControlChange(38,t[1],r),this)}sendRpnDecrement(t,r={}){if(Array.isArray(t)||(t=q.REGISTERED_PARAMETERS[t]),ee.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let l=!1;if(Object.getOwnPropertyNames(q.REGISTERED_PARAMETERS).forEach(u=>{q.REGISTERED_PARAMETERS[u][0]===t[0]&&q.REGISTERED_PARAMETERS[u][1]===t[1]&&(l=!0)}),!l)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,r),this.sendControlChange(97,0,r),this._deselectRegisteredParameter(r),this}sendRpnIncrement(t,r={}){if(Array.isArray(t)||(t=q.REGISTERED_PARAMETERS[t]),ee.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let l=!1;if(Object.getOwnPropertyNames(q.REGISTERED_PARAMETERS).forEach(u=>{q.REGISTERED_PARAMETERS[u][0]===t[0]&&q.REGISTERED_PARAMETERS[u][1]===t[1]&&(l=!0)}),!l)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,r),this.sendControlChange(96,0,r),this._deselectRegisteredParameter(r),this}playNote(t,r={}){this.sendNoteOn(t,r);const l=Array.isArray(t)?t:[t];for(let u of l)if(parseInt(u.duration)>0){const o={time:(re.toTimestamp(r.time)||ee.time)+parseInt(u.duration),release:u.release,rawRelease:u.rawRelease};this.sendNoteOff(u,o)}else if(parseInt(r.duration)>0){const o={time:(re.toTimestamp(r.time)||ee.time)+parseInt(r.duration),release:r.release,rawRelease:r.rawRelease};this.sendNoteOff(u,o)}return this}sendNoteOff(t,r={}){if(ee.validation){if(r.rawRelease!=null&&!(r.rawRelease>=0&&r.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(r.release!=null&&!(r.release>=0&&r.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");r.rawVelocity&&(r.rawRelease=r.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),r.velocity&&(r.release=r.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let l=64;r.rawRelease!=null?l=r.rawRelease:isNaN(r.release)||(l=Math.round(r.release*127));const u=ee.octaveOffset+this.output.octaveOffset+this.octaveOffset;return re.buildNoteArray(t,{rawRelease:parseInt(l)}).forEach(o=>{this.send([(q.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),o.getOffsetNumber(u),o.rawRelease],{time:re.toTimestamp(r.time)})}),this}stopNote(t,r={}){return this.sendNoteOff(t,r)}sendNoteOn(t,r={}){if(ee.validation){if(r.rawAttack!=null&&!(r.rawAttack>=0&&r.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(r.attack!=null&&!(r.attack>=0&&r.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");r.rawVelocity&&(r.rawAttack=r.velocity,r.rawRelease=r.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),r.velocity&&(r.attack=r.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let l=64;r.rawAttack!=null?l=r.rawAttack:isNaN(r.attack)||(l=Math.round(r.attack*127));const u=ee.octaveOffset+this.output.octaveOffset+this.octaveOffset;return re.buildNoteArray(t,{rawAttack:l}).forEach(o=>{this.send([(q.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),o.getOffsetNumber(u),o.rawAttack],{time:re.toTimestamp(r.time)})}),this}sendChannelMode(t,r=0,l={}){if(typeof t=="string"&&(t=q.CHANNEL_MODE_MESSAGES[t]),ee.validation){if(t===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(t)||!(t>=120&&t<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(r))||r<0||r>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(q.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t,r],{time:re.toTimestamp(l.time)}),this}sendOmniMode(t,r={}){return t===void 0||t?this.sendChannelMode("omnimodeon",0,r):this.sendChannelMode("omnimodeoff",0,r),this}sendChannelAftertouch(t,r={}){if(ee.validation){if(isNaN(parseFloat(t)))throw new RangeError("Invalid channel aftertouch value.");if(r.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return r.rawValue||(t=re.fromFloatTo7Bit(t)),this.send([(q.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(t)],{time:re.toTimestamp(r.time)}),this}sendMasterTuning(t,r={}){if(t=parseFloat(t)||0,ee.validation&&!(t>-65&&t<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let l=Math.floor(t)+64,u=t-Math.floor(t);u=Math.round((u+1)/2*16383);let o=u>>7&127,d=u&127;return this.sendRpnValue("channelcoarsetuning",l,r),this.sendRpnValue("channelfinetuning",[o,d],r),this}sendModulationRange(t,r,l={}){if(ee.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(r!=null&&(!Number.isInteger(r)||!(r>=0&&r<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return r>=0&&r<=127||(r=0),this.sendRpnValue("modulationrange",[t,r],l),this}sendNrpnValue(t,r,l={}){if(r=[].concat(r),ee.validation){if(!Array.isArray(t)||!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");r.forEach(u=>{if(!(u>=0&&u<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(t,l),this._setCurrentParameter(r,l),this._deselectNonRegisteredParameter(l),this}sendPitchBend(t,r={}){if(ee.validation)if(r.rawValue&&Array.isArray(t)){if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(r.rawValue&&!Array.isArray(t)){if(!(t>=0&&t<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(t)||t===null)throw new RangeError("Invalid pitch bend value.");if(!(t>=-1&&t<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let l=0,u=0;if(r.rawValue&&Array.isArray(t))l=t[0],u=t[1];else if(r.rawValue&&!Array.isArray(t))l=t;else{const o=re.fromFloatToMsbLsb((t+1)/2);l=o.msb,u=o.lsb}return this.send([(q.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),u,l],{time:re.toTimestamp(r.time)}),this}sendPitchBendRange(t,r,l={}){if(ee.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(r)||!(r>=0&&r<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[t,r],l),this}sendProgramChange(t,r={}){if(t=parseInt(t)||0,ee.validation&&!(t>=0&&t<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(q.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),t],{time:re.toTimestamp(r.time)}),this}sendRpnValue(t,r,l={}){if(Array.isArray(t)||(t=q.REGISTERED_PARAMETERS[t]),ee.validation){if(!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(r).forEach(u=>{if(!(u>=0&&u<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(t,l),this._setCurrentParameter(r,l),this._deselectRegisteredParameter(l),this}sendTuningBank(t,r={}){if(ee.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",t,r),this}sendTuningProgram(t,r={}){if(ee.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",t,r),this}sendLocalControl(t,r={}){return t?this.sendChannelMode("localcontrol",127,r):this.sendChannelMode("localcontrol",0,r)}sendAllNotesOff(t={}){return this.sendChannelMode("allnotesoff",0,t)}sendAllSoundOff(t={}){return this.sendChannelMode("allsoundoff",0,t)}sendResetAllControllers(t={}){return this.sendChannelMode("resetallcontrollers",0,t)}sendPolyphonicMode(t,r={}){return t==="mono"?this.sendChannelMode("monomodeon",0,r):this.sendChannelMode("polymodeon",0,r)}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class bc extends Un{constructor(t){super(),this._midiOutput=t,this._octaveOffset=0,this.channels=[];for(let r=1;r<=16;r++)this.channels[r]=new ig(this,r);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(t){let r={timestamp:ee.time};t.port.connection==="open"?(r.type="opened",r.target=this,r.port=r.target,this.emit("opened",r)):t.port.connection==="closed"&&t.port.state==="connected"?(r.type="closed",r.target=this,r.port=r.target,this.emit("closed",r)):t.port.connection==="closed"&&t.port.state==="disconnected"?(r.type="disconnected",r.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",r)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught:",t.port.connection,t.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(t){return Promise.reject(t)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(t,r={time:0},l=0){if(t instanceof s0&&(t=re.isNode?t.data:t.rawData),t instanceof Uint8Array&&re.isNode&&(t=Array.from(t)),ee.validation){if(!Array.isArray(t)&&!(t instanceof Uint8Array)&&(t=[t],Array.isArray(r)&&(t=t.concat(r)),r=isNaN(l)?{time:0}:{time:l}),!(parseInt(t[0])>=128&&parseInt(t[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");t.slice(1).forEach(u=>{if(u=parseInt(u),!(u>=0&&u<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),r||(r={time:0})}return this._midiOutput.send(t,re.toTimestamp(r.time)),this}sendSysex(t,r=[],l={}){if(t=[].concat(t),r instanceof Uint8Array){const u=new Uint8Array(1+t.length+r.length+1);u[0]=q.SYSTEM_MESSAGES.sysex,u.set(Uint8Array.from(t),1),u.set(r,1+t.length),u[u.length-1]=q.SYSTEM_MESSAGES.sysexend,this.send(u,{time:l.time})}else{const u=t.concat(r,q.SYSTEM_MESSAGES.sysexend);this.send([q.SYSTEM_MESSAGES.sysex].concat(u),{time:l.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():ee.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(t,r={}){if(ee.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([q.SYSTEM_MESSAGES.timecode,t],{time:r.time}),this}sendSongPosition(t=0,r={}){t=Math.floor(t)||0;var l=t>>7&127,u=t&127;return this.send([q.SYSTEM_MESSAGES.songposition,l,u],{time:r.time}),this}sendSongSelect(t=0,r={}){if(ee.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([q.SYSTEM_MESSAGES.songselect,t],{time:r.time}),this}sendTuneRequest(t={}){return this.send([q.SYSTEM_MESSAGES.tunerequest],{time:t.time}),this}sendClock(t={}){return this.send([q.SYSTEM_MESSAGES.clock],{time:t.time}),this}sendStart(t={}){return this.send([q.SYSTEM_MESSAGES.start],{time:t.time}),this}sendContinue(t={}){return this.send([q.SYSTEM_MESSAGES.continue],{time:t.time}),this}sendStop(t={}){return this.send([q.SYSTEM_MESSAGES.stop],{time:t.time}),this}sendActiveSensing(t={}){return this.send([q.SYSTEM_MESSAGES.activesensing],{time:t.time}),this}sendReset(t={}){return this.send([q.SYSTEM_MESSAGES.reset],{time:t.time}),this}sendTuningRequest(t={}){return ee.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(t)}sendKeyAftertouch(t,r,l={}){return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendKeyAftertouch(t,r,l)}),this}sendControlChange(t,r,l={},u={}){if(ee.validation&&(Array.isArray(l)||Number.isInteger(l)||l==="all")){const o=l;l=u,l.channels=o,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)}return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(o=>{this.channels[o].sendControlChange(t,r,l)}),this}sendPitchBendRange(t=0,r=0,l={}){return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendPitchBendRange(t,r,l)}),this}setPitchBendRange(t=0,r=0,l="all",u={}){return ee.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),u.channels=l,u.channels==="all"&&(u.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(t,r,u)}sendRpnValue(t,r,l={}){return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendRpnValue(t,r,l)}),this}setRegisteredParameter(t,r=[],l="all",u={}){return ee.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),u.channels=l,u.channels==="all"&&(u.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(t,r,u)}sendChannelAftertouch(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendChannelAftertouch(t,r)}),this}sendPitchBend(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendPitchBend(t,r)}),this}sendProgramChange(t=0,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendProgramChange(t,r)}),this}sendModulationRange(t,r,l={}){return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendModulationRange(t,r,l)}),this}setModulationRange(t=0,r=0,l="all",u={}){return ee.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),u.channels=l,u.channels==="all"&&(u.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(t,r,u)}sendMasterTuning(t,r={}){return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(l=>{this.channels[l].sendMasterTuning(t,r)}),this}setMasterTuning(t,r={},l={}){return ee.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),l.channels=r,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(t,l)}sendTuningProgram(t,r={}){return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(l=>{this.channels[l].sendTuningProgram(t,r)}),this}setTuningProgram(t,r="all",l={}){return ee.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),l.channels=r,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(t,l)}sendTuningBank(t=0,r={}){return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(l=>{this.channels[l].sendTuningBank(t,r)}),this}setTuningBank(t,r="all",l={}){return ee.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),l.channels=r,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(t,l)}sendChannelMode(t,r=0,l={},u={}){if(ee.validation&&(Array.isArray(l)||Number.isInteger(l)||l==="all")){const o=l;l=u,l.channels=o,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)}return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(o=>{this.channels[o].sendChannelMode(t,r,l)}),this}sendAllSoundOff(t={}){return t.channels==null&&(t.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendAllSoundOff(t)}),this}sendAllNotesOff(t={}){return t.channels==null&&(t.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(t.channels).forEach(r=>{this.channels[r].sendAllNotesOff(t)}),this}sendResetAllControllers(t={},r={}){if(ee.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const l=t;t=r,t.channels=l,t.channels==="all"&&(t.channels=q.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(t.channels).forEach(l=>{this.channels[l].sendResetAllControllers(t)}),this}sendPolyphonicMode(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendPolyphonicMode(t,r)}),this}sendLocalControl(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendLocalControl(t,r)}),this}sendOmniMode(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendOmniMode(t,r)}),this}sendNrpnValue(t,r,l={}){return l.channels==null&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendNrpnValue(t,r,l)}),this}setNonRegisteredParameter(t,r=[],l="all",u={}){return ee.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),u.channels=l,u.channels==="all"&&(u.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(t,r,u)}sendRpnIncrement(t,r={}){return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(l=>{this.channels[l].sendRpnIncrement(t,r)}),this}incrementRegisteredParameter(t,r="all",l={}){return ee.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),l.channels=r,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(t,l)}sendRpnDecrement(t,r={}){return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(l=>{this.channels[l].sendRpnDecrement(t,r)}),this}decrementRegisteredParameter(t,r="all",l={}){return ee.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),l.channels=r,l.channels==="all"&&(l.channels=q.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(t,l)}sendNoteOff(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendNoteOff(t,r)}),this}stopNote(t,r){return this.sendNoteOff(t,r)}playNote(t,r={},l={}){if(ee.validation&&(r.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),r.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].playNote(t,r)}),this}sendNoteOn(t,r={},l={}){if(ee.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const u=r;r=l,r.channels=u,r.channels==="all"&&(r.channels=q.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(r.channels).forEach(u=>{this.channels[u].sendNoteOn(t,r)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Sp{constructor(t=[],r={}){this.destinations=[],this.types=[...Object.keys(q.SYSTEM_MESSAGES),...Object.keys(q.CHANNEL_MESSAGES)],this.channels=q.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(t)||(t=[t]),r.types&&!Array.isArray(r.types)&&(r.types=[r.types]),r.channels&&!Array.isArray(r.channels)&&(r.channels=[r.channels]),ee.validation&&(t.forEach(l=>{if(!(l instanceof bc))throw new TypeError("Destinations must be of type 'Output'.")}),r.types!==void 0&&r.types.forEach(l=>{if(!q.SYSTEM_MESSAGES.hasOwnProperty(l)&&!q.CHANNEL_MESSAGES.hasOwnProperty(l))throw new TypeError("Type must be a valid message type.")}),r.channels!==void 0&&r.channels.forEach(l=>{if(!q.MIDI_CHANNEL_NUMBERS.includes(l))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=t,r.types&&(this.types=r.types),r.channels&&(this.channels=r.channels)}forward(t){this.suspended||this.types.includes(t.type)&&(t.channel&&!this.channels.includes(t.channel)||this.destinations.forEach(r=>{ee.validation&&!(r instanceof bc)||r.send(t)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class lg extends Un{constructor(t,r){super(),this._input=t,this._number=r,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(t){const r=Object.assign({},t);r.port=this.input,r.target=this,r.type="midimessage",this.emit(r.type,r),this._parseEventForStandardMessages(r)}_parseEventForStandardMessages(t){const r=Object.assign({},t);r.type=r.message.type||"unknownmessage";const l=t.message.dataBytes[0],u=t.message.dataBytes[1];if(r.type==="noteoff"||r.type==="noteon"&&u===0)this.notesState[l]=!1,r.type="noteoff",r.note=new oi(re.offsetNumber(l,this.octaveOffset+this.input.octaveOffset+ee.octaveOffset),{rawAttack:0,rawRelease:u}),r.value=re.from7bitToFloat(u),r.rawValue=u,r.velocity=r.note.release,r.rawVelocity=r.note.rawRelease;else if(r.type==="noteon")this.notesState[l]=!0,r.note=new oi(re.offsetNumber(l,this.octaveOffset+this.input.octaveOffset+ee.octaveOffset),{rawAttack:u}),r.value=re.from7bitToFloat(u),r.rawValue=u,r.velocity=r.note.attack,r.rawVelocity=r.note.rawAttack;else if(r.type==="keyaftertouch")r.note=new oi(re.offsetNumber(l,this.octaveOffset+this.input.octaveOffset+ee.octaveOffset)),r.value=re.from7bitToFloat(u),r.rawValue=u,r.identifier=r.note.identifier,r.key=r.note.number,r.rawKey=l;else if(r.type==="controlchange"){r.controller={number:l,name:q.CONTROL_CHANGE_MESSAGES[l].name,description:q.CONTROL_CHANGE_MESSAGES[l].description,position:q.CONTROL_CHANGE_MESSAGES[l].position},r.subtype=r.controller.name||"controller"+l,r.value=re.from7bitToFloat(u),r.rawValue=u;const o=Object.assign({},r);o.type=`${r.type}-controller${l}`,delete o.subtype,this.emit(o.type,o);const d=Object.assign({},r);d.type=`${r.type}-`+q.CONTROL_CHANGE_MESSAGES[l].name,delete d.subtype,d.type.indexOf("controller")!==0&&this.emit(d.type,d),r.message.dataBytes[0]>=120&&this._parseChannelModeMessage(r),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(r.message.dataBytes[0])&&this._parseEventForParameterNumber(r)}else r.type==="programchange"?(r.value=l,r.rawValue=r.value):r.type==="channelaftertouch"?(r.value=re.from7bitToFloat(l),r.rawValue=l):r.type==="pitchbend"?(r.value=((u<<7)+l-8192)/8192,r.rawValue=(u<<7)+l):r.type="unknownmessage";this.emit(r.type,r)}_parseChannelModeMessage(t){const r=Object.assign({},t);r.type=r.controller.name,r.type==="localcontrol"&&(r.value=r.message.data[2]===127,r.rawValue=r.message.data[2]),r.type==="omnimodeon"?(r.type="omnimode",r.value=!0,r.rawValue=r.message.data[2]):r.type==="omnimodeoff"&&(r.type="omnimode",r.value=!1,r.rawValue=r.message.data[2]),r.type==="monomodeon"?(r.type="monomode",r.value=!0,r.rawValue=r.message.data[2]):r.type==="polymodeon"&&(r.type="monomode",r.value=!1,r.rawValue=r.message.data[2]),this.emit(r.type,r)}_parseEventForParameterNumber(t){const r=t.message.dataBytes[0],l=t.message.dataBytes[1];r===99||r===101?(this._nrpnBuffer=[],this._rpnBuffer=[],r===99?this._nrpnBuffer=[t.message]:l!==127&&(this._rpnBuffer=[t.message])):r===98||r===100?r===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(t.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&l!==127?this._rpnBuffer.push(t.message):this._rpnBuffer=[]):(r===6||r===38||r===96||r===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],t):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],t):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(t){return t===6||t===38||t===96||t===97||t===98||t===99||t===100||t===101}_dispatchParameterNumberEvent(t,r,l,u){t=t==="nrpn"?"nrpn":"rpn";const o={target:u.target,timestamp:u.timestamp,message:u.message,parameterMsb:r,parameterLsb:l,value:re.from7bitToFloat(u.message.dataBytes[1]),rawValue:u.message.dataBytes[1]};t==="rpn"?o.parameter=Object.keys(q.REGISTERED_PARAMETERS).find(h=>q.REGISTERED_PARAMETERS[h][0]===r&&q.REGISTERED_PARAMETERS[h][1]===l):o.parameter=(r<<7)+l;const d=q.CONTROL_CHANGE_MESSAGES[u.message.dataBytes[0]].name;o.type=`${t}-${d}`,this.emit(o.type,o);const p=Object.assign({},o);p.type==="nrpn-dataincrement"?p.type="nrpn-databuttonincrement":p.type==="nrpn-datadecrement"?p.type="nrpn-databuttondecrement":p.type==="rpn-dataincrement"?p.type="rpn-databuttonincrement":p.type==="rpn-datadecrement"&&(p.type="rpn-databuttondecrement"),this.emit(p.type,p),o.type=t,o.subtype=d,this.emit(o.type,o)}getChannelModeByNumber(t){return ee.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),t=Math.floor(t)),re.getChannelModeByNumber(t)}getCcNameByNumber(t){if(ee.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),t=parseInt(t),!(t>=0&&t<=127)))throw new RangeError("Invalid control change number.");return re.getCcNameByNumber(t)}getNoteState(t){t instanceof oi&&(t=t.identifier);const r=re.guessNoteNumber(t,ee.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[r]}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(t){this.validation&&(t=!!t),this.parameterNumberEventsEnabled=t}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class s0{constructor(t){this.rawData=t,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=re.getPropertyByValue(q.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=re.getPropertyByValue(q.SYSTEM_MESSAGES,this.command)),this.statusByte===q.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class sg extends Un{constructor(t){super(),this._midiInput=t,this._octaveOffset=0,this.channels=[];for(let r=1;r<=16;r++)this.channels[r]=new lg(this,r);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(t){let r={timestamp:ee.time,target:this,port:this};t.port.connection==="open"?(r.type="opened",this.emit("opened",r)):t.port.connection==="closed"&&t.port.state==="connected"?(r.type="closed",this.emit("closed",r)):t.port.connection==="closed"&&t.port.state==="disconnected"?(r.type="disconnected",r.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",r)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught: ",t.port.connection,t.port.state)}_onMidiMessage(t){const r=new s0(t.data),l={port:this,target:this,message:r,timestamp:t.timeStamp,type:"midimessage",data:r.data,rawData:r.data,statusByte:r.data[0],dataBytes:r.dataBytes};this.emit("midimessage",l),r.isSystemMessage?this._parseEvent(l):r.isChannelMessage&&this.channels[r.channel]._processMidiMessageEvent(l),this._forwarders.forEach(u=>u.forward(r))}_parseEvent(t){const r=Object.assign({},t);r.type=r.message.type||"unknownmidimessage",r.type==="songselect"&&(r.song=t.data[1]+1,r.value=t.data[1],r.rawValue=r.value),this.emit(r.type,r)}async open(){try{await this._midiInput.open()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}getChannelModeByNumber(){ee.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(t,r,l={}){if(ee.validation&&typeof l=="function"){let u=r!=null?[].concat(r):void 0;r=l,l={channels:u}}if(q.CHANNEL_EVENTS.includes(t)){l.channels===void 0&&(l.channels=q.MIDI_CHANNEL_NUMBERS);let u=[];return re.sanitizeChannels(l.channels).forEach(o=>{u.push(this.channels[o].addListener(t,r,l))}),u}else return super.addListener(t,r,l)}addOneTimeListener(t,r,l={}){return l.remaining=1,this.addListener(t,r,l)}on(t,r,l,u){return this.addListener(t,r,l,u)}hasListener(t,r,l={}){if(ee.validation&&typeof l=="function"){let u=[].concat(r);r=l,l={channels:u}}return q.CHANNEL_EVENTS.includes(t)?(l.channels===void 0&&(l.channels=q.MIDI_CHANNEL_NUMBERS),re.sanitizeChannels(l.channels).every(u=>this.channels[u].hasListener(t,r))):super.hasListener(t,r)}removeListener(t,r,l={}){if(ee.validation&&typeof l=="function"){let u=[].concat(r);r=l,l={channels:u}}if(l.channels===void 0&&(l.channels=q.MIDI_CHANNEL_NUMBERS),t==null)return re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u]&&this.channels[u].removeListener()}),super.removeListener();q.CHANNEL_EVENTS.includes(t)?re.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].removeListener(t,r,l)}):super.removeListener(t,r,l)}addForwarder(t,r={}){let l;return t instanceof Sp?l=t:l=new Sp(t,r),this._forwarders.push(l),l}removeForwarder(t){this._forwarders=this._forwarders.filter(r=>r!==t)}hasForwarder(t){return this._forwarders.includes(t)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return ee.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class ug extends Un{constructor(){super(),this.defaults={note:{attack:re.from7bitToFloat(64),release:re.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(t={},r=!1){if(re.isNode)try{window.navigator}catch{let p=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,p)}if(this.validation=t.validation!==!1,this.validation&&(typeof t=="function"&&(t={callback:t,sysex:r}),r&&(t.sysex=!0)),this.enabled)return typeof t.callback=="function"&&t.callback(),Promise.resolve();const l={timestamp:this.time,target:this,type:"error",error:void 0},u={timestamp:this.time,target:this,type:"midiaccessgranted"},o={timestamp:this.time,target:this,type:"enabled"};try{typeof t.requestMIDIAccessFunction=="function"?this.interface=await t.requestMIDIAccessFunction({sysex:t.sysex,software:t.software}):this.interface=await navigator.requestMIDIAccess({sysex:t.sysex,software:t.software})}catch(d){return l.error=d,this.emit("error",l),typeof t.callback=="function"&&t.callback(d),Promise.reject(d)}this.emit("midiaccessgranted",u),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(d){return l.error=d,this.emit("error",l),typeof t.callback=="function"&&t.callback(d),Promise.reject(d)}return this.emit("enabled",o),typeof t.callback=="function"&&t.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let t={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",t),this.removeListener()})}getInputById(t,r={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(r.disconnected){for(let l=0;l<this._disconnectedInputs.length;l++)if(this._disconnectedInputs[l]._midiInput&&this._disconnectedInputs[l].id===t.toString())return this._disconnectedInputs[l]}else for(let l=0;l<this.inputs.length;l++)if(this.inputs[l]._midiInput&&this.inputs[l].id===t.toString())return this.inputs[l]}getInputByName(t,r={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(r.disconnected){for(let l=0;l<this._disconnectedInputs.length;l++)if(~this._disconnectedInputs[l].name.indexOf(t))return this._disconnectedInputs[l]}else for(let l=0;l<this.inputs.length;l++)if(~this.inputs[l].name.indexOf(t))return this.inputs[l]}getOutputByName(t,r={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(r.disconnected){for(let l=0;l<this._disconnectedOutputs.length;l++)if(~this._disconnectedOutputs[l].name.indexOf(t))return this._disconnectedOutputs[l]}else for(let l=0;l<this.outputs.length;l++)if(~this.outputs[l].name.indexOf(t))return this.outputs[l]}getOutputById(t,r={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(r.disconnected){for(let l=0;l<this._disconnectedOutputs.length;l++)if(this._disconnectedOutputs[l]._midiOutput&&this._disconnectedOutputs[l].id===t.toString())return this._disconnectedOutputs[l]}else for(let l=0;l<this.outputs.length;l++)if(this.outputs[l]._midiOutput&&this.outputs[l].id===t.toString())return this.outputs[l]}noteNameToNumber(t){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),re.toNoteNumber(t,this.octaveOffset)}getOctave(t){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),t=parseInt(t)),!isNaN(t)&&t>=0&&t<=127?re.getNoteDetails(re.offsetNumber(t,this.octaveOffset)).octave:!1}sanitizeChannels(t){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),re.sanitizeChannels(t)}toMIDIChannels(t){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),re.sanitizeChannels(t)}guessNoteNumber(t){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),re.guessNoteNumber(t,this.octaveOffset)}getValidNoteArray(t,r={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),re.buildNoteArray(t,r)}convertToTimestamp(t){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),re.toTimestamp(t)}async _destroyInputsAndOutputs(){let t=[];return this.inputs.forEach(r=>t.push(r.destroy())),this.outputs.forEach(r=>t.push(r.destroy())),Promise.all(t).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(t){this._updateInputsAndOutputs();let r={timestamp:t.timeStamp,type:t.port.state,target:this};if(t.port.state==="connected"&&t.port.connection==="open"){t.port.type==="output"?r.port=this.getOutputById(t.port.id):t.port.type==="input"&&(r.port=this.getInputById(t.port.id)),this.emit(t.port.state,r);const l=Object.assign({},r);l.type="portschanged",this.emit(l.type,l)}else if(t.port.state==="disconnected"&&t.port.connection==="pending"){t.port.type==="input"?r.port=this.getInputById(t.port.id,{disconnected:!0}):t.port.type==="output"&&(r.port=this.getOutputById(t.port.id,{disconnected:!0})),this.emit(t.port.state,r);const l=Object.assign({},r);l.type="portschanged",this.emit(l.type,l)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let r=this._inputs.length-1;r>=0;r--){const l=this._inputs[r];Array.from(this.interface.inputs.values()).find(o=>o===l._midiInput)||(this._disconnectedInputs.push(l),this._inputs.splice(r,1))}let t=[];return this.interface.inputs.forEach(r=>{if(!this._inputs.find(l=>l._midiInput===r)){let l=this._disconnectedInputs.find(u=>u._midiInput===r);l||(l=new sg(r)),this._inputs.push(l),t.push(l.open())}}),Promise.all(t)}async _updateOutputs(){if(!this.interface)return;for(let r=this._outputs.length-1;r>=0;r--){const l=this._outputs[r];Array.from(this.interface.outputs.values()).find(o=>o===l._midiOutput)||(this._disconnectedOutputs.push(l),this._outputs.splice(r,1))}let t=[];return this.interface.outputs.forEach(r=>{if(!this._outputs.find(l=>l._midiOutput===r)){let l=this._disconnectedOutputs.find(u=>u._midiOutput===r);l||(l=new bc(r)),this._outputs.push(l),t.push(l.open())}}),Promise.all(t)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),re.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),re.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.14"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),q.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),q.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),q.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),q.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),q.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const ee=new ug;ee.constructor=null;const og=async()=>{if(ee.enabled)return ee;try{return await ee.enable({sysex:!0}),console.log("WebMidi is enabled with SysEx support!"),ee}catch(a){throw console.error("WebMidi could not be enabled.",a),a}},cg=()=>ee.enabled?ee.inputs.map(a=>({id:a.id,name:a.name})):[],fg=(a,t)=>{if(ee.enabled){const r=ee.getInputById(a);if(r){const l=d=>{t({type:"noteon",note:d.note.identifier,velocity:d.velocity,controller:null,channel:d.message.channel})},u=d=>{t({type:"noteoff",note:d.note.identifier,velocity:0,controller:null,channel:d.message.channel})},o=d=>{t({type:"controlchange",controller:d.controller.number,value:d.rawValue,note:null,channel:d.message.channel})};return r.addListener("noteon",l),r.addListener("noteoff",u),r.addListener("controlchange",o),()=>{r.removeListener("noteon",l),r.removeListener("noteoff",u),r.removeListener("controlchange",o)}}}return()=>{}},dg=(a,t)=>{if(ee.enabled){const r=ee.getInputById(a);if(r){const l=ee.outputs.find(u=>u.name===r.name);l?(l.sendSysex(71,t),console.log(`Sent SysEx to ${l.name}`)):console.warn("Could not find matching MIDI Output for SysEx")}}},js=(a,t,r,l)=>{if(ee.enabled){const u=ee.getInputById(a);if(u){const o=ee.outputs.find(d=>d.name===u.name);o&&o.sendNoteOn(t,{attack:r/127,channels:l})}}},u0=L.createContext(null),Ws=()=>L.useContext(u0),hg=({children:a,onMidiCommand:t})=>{const[r,l]=L.useState(!1),[u,o]=L.useState([]),[d,p]=L.useState(""),[h,m]=L.useState(!1),[g,x]=L.useState(null),[S,A]=L.useState({}),[D,w]=L.useState(null),[F,U]=L.useState(!1),Q=L.useRef(!1),V=L.useRef(t);L.useEffect(()=>{V.current=t},[t]),L.useEffect(()=>{(async()=>{try{await og(),l(!0);const ne=cg();if(o(ne),window.electronAPI&&window.electronAPI.getSelectedMidiInput){const C=await window.electronAPI.getSelectedMidiInput();C&&ne.some(X=>X.id===C)?p(C):ne.length>0&&(d||p(ne[0].id))}else ne.length>0&&(d||p(ne[0].id));if(window.electronAPI&&window.electronAPI.getMidiMappings){const C=await window.electronAPI.getMidiMappings();C&&(console.log("Loaded saved MIDI mappings:",C),A(C))}}catch(ne){console.error("MIDI Init Failed:",ne)}})()},[]);const te=async()=>{window.electronAPI&&window.electronAPI.saveMidiMappings&&(await window.electronAPI.saveMidiMappings(S),console.log("MIDI mappings saved to default."))},W=async()=>{window.electronAPI&&window.electronAPI.exportMappings&&await window.electronAPI.exportMappings(S,"midi")},oe=async()=>{if(window.electronAPI&&window.electronAPI.importMappings){const le=await window.electronAPI.importMappings("midi");le.success&&le.mappings&&(A(le.mappings),console.log("MIDI mappings imported."))}},xe=le=>{const ne=u.find(C=>C.id===le);ne&&ne.name.toLowerCase().includes("apc40")&&(console.log("Detected APC40, sending initialization SysEx..."),dg(le,[127,41,96,0,4,65,1,1,1]))};L.useEffect(()=>{d&&window.electronAPI&&window.electronAPI.saveSelectedMidiInput&&window.electronAPI.saveSelectedMidiInput(d),d&&r&&xe(d)},[d,r,u]);const Ee=L.useCallback((le,ne,C=null)=>{if(!d||!r)return;const X=S[le];if(X&&X.type==="note"){let ie=0;typeof ne=="number"?ie=ne:ie=ne?127:0;const Te=C!==null?C:X.channel;js(d,X.address,ie,Te)}},[d,r,S]);L.useEffect(()=>{let le=()=>{};return d&&(le=fg(d,ne=>{ge.current&&w(ne),we(ne)})),le},[d,h,g,S]);const ge=L.useRef(h);L.useEffect(()=>{ge.current=h},[h]);const we=le=>{if(le.channel===1&&le.note==="D7"){const C=le.type==="noteon";U(C),Q.current=C,console.log(`Shift ${C?"Down":"Up"}`);return}if(h&&g){if(le.type==="noteoff")return;const C=le.note||le.controller,X=Q.current,ie={type:le.type==="noteon"||le.type==="noteoff"?"note":"cc",channel:le.channel,address:C,requiresShift:X,label:`${X?"":""}CH${le.channel}:${C}`};console.log(`Mapped ${g} to:`,ie),A(Te=>({...Te,[g]:ie})),x(null);return}Object.entries(S).forEach(([C,X])=>{const ie=(le.type==="noteon"||le.type==="noteoff")&&X.type==="note"&&le.note===X.address&&le.channel===X.channel,Te=le.type==="controlchange"&&X.type==="cc"&&le.controller===X.address&&le.channel===X.channel,T=X.type==="cc"||!!X.requiresShift===Q.current;if((ie||Te)&&T&&V.current){const z=le.type==="controlchange"?le.value??0:le.velocity??0;V.current(C,z,127,le.type)}})},P={midiInitialized:r,midiInputs:u,selectedMidiInputId:d,setSelectedMidiInputId:p,isMapping:h,startMapping:()=>m(!0),stopMapping:()=>{m(!1),x(null)},learningId:g,setLearningId:x,mappings:S,setMappings:A,saveMappings:te,exportMappings:W,importMappings:oe,initializeApc40:xe,sendFeedback:Ee,lastMidiEvent:D,isShiftDown:F};return b.jsx(u0.Provider,{value:P,children:a})},o0=L.createContext(null),wc=()=>L.useContext(o0),pg=({children:a,onArtnetCommand:t})=>{const[r,l]=L.useState(!1),[u,o]=L.useState(!1),[d,p]=L.useState(null),[h,m]=L.useState({}),[g,x]=L.useState(null),S=L.useRef(t);L.useEffect(()=>{S.current=t},[t]),L.useEffect(()=>{(async()=>{try{if(window.electronAPI&&window.electronAPI.initializeArtnet&&(await window.electronAPI.initializeArtnet()).success&&(l(!0),console.log("Art-Net initialized for mapping")),window.electronAPI&&window.electronAPI.getArtnetMappings){const oe=await window.electronAPI.getArtnetMappings();oe&&(console.log("Loaded saved Art-Net mappings:",oe),m(oe))}}catch(oe){console.error("Art-Net Init Failed:",oe)}})()},[]);const A=async()=>{window.electronAPI&&window.electronAPI.saveArtnetMappings&&(await window.electronAPI.saveArtnetMappings(h),console.log("Art-Net mappings saved."))},D=async()=>{window.electronAPI&&window.electronAPI.exportMappings&&await window.electronAPI.exportMappings(h,"artnet")},w=async()=>{if(window.electronAPI&&window.electronAPI.importMappings){const W=await window.electronAPI.importMappings("artnet");W.success&&W.mappings&&(m(W.mappings),console.log("Art-Net mappings imported."))}};L.useEffect(()=>{if(window.electronAPI&&window.electronAPI.onArtnetDataReceived)return window.electronAPI.onArtnetDataReceived(oe=>{F.current&&x(oe),U(oe)})},[u,d,h]);const F=L.useRef(u);L.useEffect(()=>{F.current=u},[u]);const U=W=>{const{universe:oe,channel:xe,value:Ee}=W;if(u&&d){if(Ee===0)return;const ge={universe:oe,channel:xe,label:`U${oe}:CH${xe+1}`};console.log(`Mapped ${d} to Art-Net:`,ge),m(we=>({...we,[d]:ge})),p(null);return}Object.entries(h).forEach(([ge,we])=>{we.universe===oe&&we.channel===xe&&S.current&&S.current(ge,Ee)})},te={artnetInitialized:r,isMapping:u,startMapping:()=>o(!0),stopMapping:()=>{o(!1),p(null)},learningId:d,setLearningId:p,mappings:h,setMappings:m,saveMappings:A,exportMappings:D,importMappings:w,lastDmxEvent:g};return b.jsx(o0.Provider,{value:te,children:a})},At=({id:a,children:t})=>{const{isMapping:r,setLearningId:l}=Ws(),{isMapping:u,setLearningId:o}=wc()||{},d=r||u,p=m=>{d&&(m.preventDefault(),m.stopPropagation(),r&&l(a),u&&o(a))},h=Za.Children.only(t);return Za.cloneElement(h,{"data-mappable-id":a,onClickCapture:d?p:h.props.onClickCapture,className:`${h.props.className||""} ${d?"mappable-target":""}`.trim()})},mg=({masterIntensity:a,onMasterIntensityChange:t})=>b.jsx("div",{className:"master-intensity-slider",children:b.jsx(At,{id:"master_intensity",children:b.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:a,className:"slider_hor",id:"masterIntensityRange",onChange:r=>t(parseFloat(r.target.value))})})}),vg=({masterIntensity:a,onMasterIntensityChange:t,onClearAllActive:r,isGlobalBlackout:l,onToggleGlobalBlackout:u})=>b.jsxs("div",{className:"composition-controls",children:[b.jsx("span",{className:"layer-control-button",children:"Comp"}),b.jsx(At,{id:"comp_clear",children:b.jsx("span",{className:"layer-control-button",onClick:r,style:{cursor:"pointer"},children:"X"})}),b.jsx(At,{id:"comp_blackout",style:{width:"100%",display:"flex"},children:b.jsx("span",{className:"layer-control-button",onClick:u,style:{cursor:"pointer",backgroundColor:l?"red":""},children:"B"})}),b.jsx(mg,{masterIntensity:a,onMasterIntensityChange:t})]}),gg=({name:a,index:t,onTrigger:r,onShowColumnHeaderContextMenu:l})=>{const u=d=>{d.preventDefault(),l&&l(t)},o=d=>{d.button===0&&r&&r()};return b.jsx(At,{id:`column_${t}`,children:b.jsx("div",{className:"column-header trigger-button",onClick:o,onContextMenu:u,style:{cursor:"pointer"},children:a})})},c0=({frame:a})=>{const t=L.useRef(null);return L.useEffect(()=>{if(!t.current||!a||!a.points||a.points.length===0)return;const r=t.current,l=r.getContext("2d"),{width:u,height:o}=r;l.fillStyle="black",l.fillRect(0,0,u,o),l.lineWidth=1.5;const d=u/2,p=o/2,h=u/2,m=o/2,g=a.points,x=g instanceof Float32Array||a.isTypedArray,S=x?g.length/8:g.length,A=D=>{if(x){const w=D*8;return{x:g[w],y:g[w+1],r:g[w+3],g:g[w+4],b:g[w+5],blanking:g[w+6]===1}}else return g[D]};for(let D=0;D<S;D++){const w=A(D),F=D>0?A(D-1):null;if(w.blanking)continue;const U=Math.abs(w.x)<=1&&Math.abs(w.y)<=1,Q=(U?w.x:w.x/32767)*d+h,V=(U?-w.y:-w.y/32767)*p+m,te=`rgb(${w.r}, ${w.g}, ${w.b})`;let W,oe;if(F&&!F.blanking){const xe=Math.abs(F.x)<=1&&Math.abs(F.y)<=1;W=(xe?F.x:F.x/32767)*d+h,oe=(xe?-F.y:-F.y/32767)*p+m,l.beginPath(),l.moveTo(W,oe),l.lineTo(Q,V),l.strokeStyle=te,l.stroke()}else l.beginPath(),l.moveTo(Q,V),l.lineTo(Q+1,V+1),l.strokeStyle=te,l.stroke()}},[a]),b.jsx("canvas",{ref:t,width:"100",height:"100",style:{backgroundColor:"black"}})},yg=({layerName:a,index:t,onDropEffect:r,layerEffects:l,activeClipData:u,onDeactivateLayerClips:o,onShowLayerFullContextMenu:d,thumbnailRenderMode:p,intensity:h,onIntensityChange:m,liveFrame:g,isBlackout:x,isSolo:S,onToggleBlackout:A,onToggleSolo:D})=>{const[w,F]=L.useState(l||[]);L.useEffect(()=>{F(l||[])},[l]);const U=te=>{te.preventDefault(),console.log(`Right-clicked LayerControls at index: ${t}`),d&&d(t)},Q=te=>{te.preventDefault(),te.dataTransfer.dropEffect="copy"},V=te=>{te.preventDefault();const W=te.dataTransfer.getData("text/plain");if(W.startsWith("effect_")){const oe=W.replace("effect_","");r&&r(oe)}};return b.jsxs("div",{className:"layer-controls",onContextMenu:U,onDragOver:Q,onDrop:V,children:[b.jsxs("div",{className:"grid-layer",children:[b.jsx(At,{id:`layer_${t}_clear`,children:b.jsx("span",{className:"layer-control-button full-height",onClick:()=>o(t),children:"X"})}),b.jsxs("div",{className:"layer-control-group",children:[b.jsx(At,{id:`layer_${t}_blackout`,children:b.jsx("span",{className:"layer-control-button half-height",onClick:A,style:{backgroundColor:x?"red":""},children:"B"})}),b.jsx(At,{id:`layer_${t}_solo`,children:b.jsx("span",{className:"layer-control-button half-height",onClick:D,style:{backgroundColor:S?"var(--theme-color)":"",color:S?"black":""},children:"S"})})]}),b.jsxs("select",{className:"layer-blend-dropdown",children:[b.jsx("option",{children:"Normal"}),b.jsx("option",{children:"Add"}),b.jsx("option",{children:"Subtract"})]})]}),b.jsx("div",{className:"layer-control-row",children:b.jsx(At,{id:`layer_${t}_intensity`,children:b.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:h,className:"slider_ver",id:"layer-intensity-slider",onChange:te=>m(parseFloat(te.target.value))})})}),b.jsx("div",{className:"layer-preview-thumbnail",children:u?b.jsx(c0,{frame:p==="still"?u.stillFrame:g}):w.length>0&&b.jsx("div",{className:"applied-effects",children:w.map(te=>b.jsx("span",{className:"effect-tag",children:te.substring(0,3).toUpperCase()},te))})}),b.jsx("span",{className:"layer-name-label",children:a})]})},Cn=[{id:"rotate",name:"Rotate",type:"transform",description:"Rotates the shape around its center.",defaultParams:{angle:0,rotationSpeed:0},paramControls:[{id:"angle",label:"Angle",type:"range",min:0,max:360,step:1},{id:"rotationSpeed",label:"Rotation Speed",type:"range",min:-10,max:10,step:.1}]},{id:"scale",name:"Scale",type:"transform",description:"Scales the shape.",defaultParams:{scaleX:1,scaleY:1},paramControls:[{id:"scaleX",label:"Scale X",type:"range",min:.01,max:5,step:.01},{id:"scaleY",label:"Scale Y",type:"range",min:.01,max:5,step:.01}]},{id:"translate",name:"Translate",type:"transform",description:"Moves the shape.",defaultParams:{translateX:0,translateY:0},paramControls:[{id:"translateX",label:"Translate X",type:"range",min:-1,max:1,step:.01},{id:"translateY",label:"Translate Y",type:"range",min:-1,max:1,step:.01}]},{id:"color",name:"Color",type:"color",description:"Changes the color of the shape with solid or rainbow modes.",defaultParams:{mode:"solid",r:255,g:255,b:255,cycleSpeed:0,rainbowSpread:1,rainbowOffset:0},paramControls:[{id:"mode",label:"Mode",type:"select",options:["solid","rainbow"]},{id:"r",label:"Red",type:"range",min:0,max:255,step:1,showIf:{mode:"solid"}},{id:"g",label:"Green",type:"range",min:0,max:255,step:1,showIf:{mode:"solid"}},{id:"b",label:"Blue",type:"range",min:0,max:255,step:1,showIf:{mode:"solid"}},{id:"cycleSpeed",label:"Cycle Speed",type:"range",min:0,max:10,step:.1},{id:"rainbowSpread",label:"Rainbow Spread",type:"range",min:.1,max:10,step:.1,showIf:{mode:"rainbow"}},{id:"rainbowOffset",label:"Rainbow Offset",type:"range",min:0,max:360,step:1,showIf:{mode:"rainbow"}},{id:"rainbowPalette",label:"Palette",type:"select",options:["rainbow","fire","ice","cyber"],showIf:{mode:"rainbow"}}]},{id:"wave",name:"Wave",type:"animation",description:"Applies a wave distortion to the shape.",defaultParams:{amplitude:.1,frequency:10,speed:1,direction:"x"},paramControls:[{id:"amplitude",label:"Amplitude",type:"range",min:.01,max:1,step:.01},{id:"frequency",label:"Frequency",type:"range",min:1,max:50,step:1},{id:"speed",label:"Speed",type:"range",min:.1,max:10,step:.1},{id:"direction",label:"Direction",type:"select",options:["x","y"]}]},{id:"blanking",name:"Blanking",type:"animation",description:"Controls the blanking of the laser output.",defaultParams:{blankingInterval:0},paramControls:[{id:"blankingInterval",label:"Blanking Interval",type:"range",min:0,max:10,step:1}]},{id:"strobe",name:"Strobe",type:"animation",description:"Applies a strobe effect to the laser output.",defaultParams:{strobeSpeed:100,strobeAmount:.5},paramControls:[{id:"strobeSpeed",label:"Strobe Speed (ms)",type:"range",min:10,max:1e3,step:10},{id:"strobeAmount",label:"Strobe Amount (0-1)",type:"range",min:0,max:1,step:.01}]},{id:"mirror",name:"Mirror",type:"transform",description:"Mirrors the shape along the X or Y axis.",defaultParams:{mirrorX:!1,mirrorY:!1},paramControls:[{id:"mirrorX",label:"Mirror X",type:"checkbox"},{id:"mirrorY",label:"Mirror Y",type:"checkbox"}]}],Ka=(a,t)=>({...t,...a});function f0(a,t,r={}){const{progress:l=0,time:u=performance.now()}=r;if(!t||t.length===0)return a;let o;if(Array.isArray(a.points)){o=new Float32Array(a.points.length*8);for(let p=0;p<a.points.length;p++){const h=a.points[p],m=p*8;o[m]=h.x,o[m+1]=h.y,o[m+2]=h.z||0,o[m+3]=h.r,o[m+4]=h.g,o[m+5]=h.b,o[m+6]=h.blanking?1:0,o[m+7]=h.lastPoint?1:0}}else o=new Float32Array(a.points);const d=o.length/8;for(const p of t)if(Cn.find(m=>m.id===p.id))switch(p.id){case"rotate":bg(o,d,p.params,l);break;case"scale":Sg(o,d,p.params);break;case"translate":xg(o,d,p.params);break;case"color":Eg(o,d,p.params,u);break;case"wave":Ag(o,d,p.params,u);break;case"blanking":Cg(o,d,p.params);break;case"strobe":Mg(o,d,p.params,u);break;case"mirror":Ng(o,d,p.params);break}return{...a,points:o,isTypedArray:!0}}function bg(a,t,r,l){const{angle:u,rotationSpeed:o}=Ka(r,Cn.find(m=>m.id==="rotate").defaultParams),d=u*Math.PI/180+l*2*Math.PI*o,p=Math.sin(d),h=Math.cos(d);for(let m=0;m<t;m++){const g=m*8,x=a[g],S=a[g+1];a[g]=x*h-S*p,a[g+1]=x*p+S*h}}function Sg(a,t,r){const{scaleX:l,scaleY:u}=Ka(r,Cn.find(o=>o.id==="scale").defaultParams);for(let o=0;o<t;o++){const d=o*8;a[d]*=l,a[d+1]*=u}}function xg(a,t,r){const{translateX:l,translateY:u}=Ka(r,Cn.find(o=>o.id==="translate").defaultParams);for(let o=0;o<t;o++){const d=o*8;a[d]+=l,a[d+1]+=u}}function Eg(a,t,r,l){const{mode:u,r:o,g:d,b:p,cycleSpeed:h,rainbowSpread:m,rainbowOffset:g,rainbowPalette:x}=Ka(r,Cn.find(A=>A.id==="color").defaultParams),S=l*.001*h;if(u==="rainbow"){const A=x||"rainbow";for(let D=0;D<t;D++){const w=D*8,F=(D/t*m+S*.5+g/360)%1;let U,Q,V;A==="rainbow"?[U,Q,V]=xp(F,1,.5):[U,Q,V]=Tg(A,F),a[w+3]=U,a[w+4]=Q,a[w+5]=V}}else if(h>0){const A=S*50%360,[D,w,F]=xp(A/360,1,.5);for(let U=0;U<t;U++){const Q=U*8;a[Q+3]=D,a[Q+4]=w,a[Q+5]=F}}else for(let A=0;A<t;A++){const D=A*8;a[D+3]=o,a[D+4]=d,a[D+5]=p}}function Tg(a,t){const r={fire:[{r:255,g:0,b:0},{r:255,g:128,b:0},{r:255,g:255,b:0},{r:255,g:0,b:0}],ice:[{r:0,g:0,b:255},{r:0,g:255,b:255},{r:255,g:255,b:255},{r:0,g:0,b:255}],cyber:[{r:255,g:0,b:255},{r:0,g:255,b:255},{r:0,g:0,b:255},{r:255,g:0,b:255}]},l=r[a]||r.fire,u=t*(l.length-1),o=Math.floor(u),d=u-o,p=l[o],h=l[o+1]||l[o];return[Math.round(p.r+(h.r-p.r)*d),Math.round(p.g+(h.g-p.g)*d),Math.round(p.b+(h.b-p.b)*d)]}function xp(a,t,r){let l,u,o;{const d=(m,g,x)=>(x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?m+(g-m)*6*x:x<.5?g:x<.6666666666666666?m+(g-m)*(.6666666666666666-x)*6:m),p=r+t-r*t,h=2*r-p;l=d(h,p,a+1/3),u=d(h,p,a),o=d(h,p,a-1/3)}return[Math.round(l*255),Math.round(u*255),Math.round(o*255)]}function Ag(a,t,r,l){const{amplitude:u,frequency:o,speed:d,direction:p}=Ka(r,Cn.find(m=>m.id==="wave").defaultParams),h=l*.001*d;for(let m=0;m<t;m++){const g=m*8;p==="x"?a[g+1]+=u*Math.sin(a[g]*o+h):p==="y"&&(a[g]+=u*Math.sin(a[g+1]*o+h))}}function Cg(a,t,r){const{blankingInterval:l}=Ka(r,Cn.find(u=>u.id==="blanking").defaultParams);if(!(l<=0))for(let u=0;u<t;u++)u%(l+1)===l&&(a[u*8+6]=1)}function Mg(a,t,r,l){const{strobeSpeed:u,strobeAmount:o}=Ka(r,Cn.find(p=>p.id==="strobe").defaultParams);if(l%u/u<o)for(let p=0;p<t;p++)a[p*8+6]=1}function Ng(a,t,r){const{mirrorX:l,mirrorY:u}=Ka(r,Cn.find(o=>o.id==="mirror").defaultParams);for(let o=0;o<t;o++){const d=o*8;l&&(a[d]=-a[d]),u&&(a[d+1]=-a[d+1])}}const Rg=({clipName:a,layerIndex:t,colIndex:r,onDropGenerator:l,onDropEffect:u,clipContent:o,thumbnailFrameIndex:d,onUnsupportedFile:p,onActivateClick:h,onLabelClick:m,isSelected:g,isActive:x,ildaParserWorker:S,onDropDac:A,thumbnailRenderMode:D,liveFrame:w,stillFrame:F})=>{const[U,Q]=L.useState(!1),V=o&&o.type==="generator"&&o.generatorDefinition?o.generatorDefinition.name:a,te=D==="active"?w:F,W=L.useMemo(()=>te&&o&&o.effects&&o.effects.length>0?f0(te,o.effects):te,[te,o]),oe=P=>{P.preventDefault(),P.stopPropagation(),Q(!0),P.dataTransfer.dropEffect="copy"},xe=P=>{P.preventDefault(),P.stopPropagation(),P.currentTarget.contains(P.relatedTarget)||Q(!1)},Ee=async P=>{const le=P.name;if(!S){p("ILDA parser not available.");return}if(le.toLowerCase().endsWith(".ild"))try{const ne=await P.arrayBuffer();console.log(`[Clip.jsx] ArrayBuffer byteLength before posting to worker (handleFileDrop): ${ne.byteLength}`),S.postMessage({type:"parse-ilda",arrayBuffer:ne,fileName:le,filePath:P.path,layerIndex:t,colIndex:r},[ne])}catch(ne){console.error("[Clip.jsx] handleFileDrop - Error reading file:",ne),p(`Error reading file: ${ne.message}`)}else p("Please drop a valid .ild file")},ge=async(P,le)=>{if(!le.toLowerCase().endsWith(".ild")){console.log("Unsupported file type:",le),p("Please drop a valid .ild file");return}if(!S){p("ILDA parser not available.");return}try{if(window.electronAPI&&window.electronAPI.readFileAsBinary){const C=(await window.electronAPI.readFileAsBinary(P)).slice().buffer;console.log(`[Clip.jsx] ArrayBuffer byteLength before posting to worker (handleFilePathDrop): ${C.byteLength}`),S.postMessage({type:"parse-ilda",arrayBuffer:C,fileName:le,filePath:P,layerIndex:t,colIndex:r},[C])}else p("Binary file access not available")}catch(ne){console.error("Error processing file path:",ne),console.error("Error stack:",ne.stack),p(`Error processing file: ${ne.message}`)}},we=P=>{P.preventDefault(),P.stopPropagation(),Q(!1);const le=P.dataTransfer.getData("application/json");if(le)try{const C=JSON.parse(le);if(C.filePath&&C.fileName){ge(C.filePath,C.fileName);return}if(C.type==="transform"||C.type==="animation"||C.type==="color"){if(u){u(C),m();return}}else if(C.name){if(l){l(t,r,C);return}}else if(C.ip&&typeof C.channel=="number"&&A){A(t,r,C);return}}catch(C){console.error("Error parsing dropped data:",C)}const ne=P.dataTransfer.files;if(ne&&ne.length>0){Ee(ne[0]);return}console.log("No recognized data format found in drop"),p("No valid ILD file, effect, or generator dropped.")},je=P=>{P.preventDefault(),P.stopPropagation()},ve=P=>{P.preventDefault(),window.electronAPI&&window.electronAPI.showClipContextMenu&&window.electronAPI.showClipContextMenu(t,r,o?.triggerStyle||"normal")};return b.jsxs("div",{className:`clip ${U?"dragging":""} ${x?"active-clip":""} `,onDragEnter:je,onDragOver:oe,onDragLeave:xe,onDrop:we,onContextMenu:ve,children:[b.jsx(At,{id:`clip_${t}_${r}`,children:b.jsx("div",{className:"clip-thumbnail",onMouseDown:()=>h(!0),onMouseUp:()=>h(!1),onMouseLeave:()=>h(!1),children:o&&o.parsing?b.jsx("div",{className:"clip-loading-spinner"}):W?b.jsx(c0,{frame:W}):b.jsx("p",{})})}),b.jsx(At,{id:`clip_${t}_${r}_preview`,children:b.jsx("span",{className:`clip-label ${g?"selected-clip":""}`,onClick:m,children:V})})]})},wg=Za.memo(Rg),Og=()=>{const[a,t]=L.useState(""),[r,l]=L.useState([]),u=async()=>{if(window.electronAPI){const o=await window.electronAPI.openFileExplorer();if(o){t(o);const d=await window.electronAPI.readIldFiles(o);l(d)}}};return b.jsxs("div",{className:"file-browser",children:[b.jsx("h3",{children:"ILD File Browser"}),b.jsx("button",{onClick:u,children:"Open Folder"}),a&&b.jsxs("p",{className:"fileBrowser",children:["Selected Directory: ",a.split("\\").filter(Boolean).pop()]}),b.jsx("div",{className:"ild-file-list",children:r.length>0?r.map((o,d)=>{const p=o.split("\\").pop();return b.jsx("div",{className:"ild-file-item",draggable:!0,onDragStart:h=>h.dataTransfer.setData("application/json",JSON.stringify({filePath:o,fileName:p})),children:p},d)}):b.jsx("p",{children:"No ILD files found in selected directory."})})]})},d0=[{id:"circle",name:"Circle",description:"Generates a simple circle.",defaultParams:{radius:.5,numPoints:100,x:0,y:0,r:255,g:255,b:255},paramControls:[{id:"radius",label:"Radius",type:"range",min:.01,max:1,step:.01},{id:"numPoints",label:"Number of Points",type:"range",min:3,max:360,step:1},{id:"x",label:"X Position",type:"range",min:-1,max:1,step:.01},{id:"y",label:"Y Position",type:"range",min:-1,max:1,step:.01},{id:"r",label:"Red",type:"range",min:0,max:255,step:1},{id:"g",label:"Green",type:"range",min:0,max:255,step:1},{id:"b",label:"Blue",type:"range",min:0,max:255,step:1}]},{id:"square",name:"Square",description:"Generates a simple square.",defaultParams:{width:1,height:1,pointDensity:25,x:0,y:0,r:255,g:255,b:255},paramControls:[{id:"width",label:"Width",type:"range",min:.01,max:2,step:.01},{id:"height",label:"Height",type:"range",min:.01,max:2,step:.01},{id:"pointDensity",label:"Point Density",type:"range",min:1,max:100,step:1},{id:"x",label:"X Position",type:"range",min:-1,max:1,step:.01},{id:"y",label:"Y Position",type:"range",min:-1,max:1,step:.01},{id:"r",label:"Red",type:"range",min:0,max:255,step:1},{id:"g",label:"Green",type:"range",min:0,max:255,step:1},{id:"b",label:"Blue",type:"range",min:0,max:255,step:1}]},{id:"line",name:"Line",description:"Generates a straight line.",defaultParams:{x1:-.5,y1:0,x2:.5,y2:0,pointDensity:50,r:255,g:255,b:255},paramControls:[{id:"x1",label:"X1",type:"range",min:-1,max:1,step:.01},{id:"y1",label:"Y1",type:"range",min:-1,max:1,step:.01},{id:"x2",label:"X2",type:"range",min:-1,max:1,step:.01},{id:"y2",label:"Y2",type:"range",min:-1,max:1,step:.01},{id:"pointDensity",label:"Point Density",type:"range",min:2,max:200,step:1},{id:"r",label:"Red",type:"range",min:0,max:255,step:1},{id:"g",label:"Green",type:"range",min:0,max:255,step:1},{id:"b",label:"Blue",type:"range",min:0,max:255,step:1}]},{id:"text",name:"Text",description:"Generates text.",defaultParams:{text:"TrueLazer",x:0,y:0,fontSize:72,numPoints:200,fontUrl:"src/fonts/arial.ttf",r:255,g:255,b:255},paramControls:[{id:"text",label:"Text Content",type:"text"},{id:"x",label:"X Position",type:"range",min:-1,max:1,step:.01},{id:"y",label:"Y Position",type:"range",min:-1,max:1,step:.01},{id:"fontSize",label:"Font Size",type:"range",min:10,max:200,step:1},{id:"numPoints",label:"Target Points",type:"range",min:10,max:1e3,step:1},{id:"fontUrl",label:"Font URL",type:"text"},{id:"r",label:"Red",type:"range",min:0,max:255,step:1},{id:"g",label:"Green",type:"range",min:0,max:255,step:1},{id:"b",label:"Blue",type:"range",min:0,max:255,step:1}]},{id:"star",name:"Star",description:"Generates a star shape.",defaultParams:{outerRadius:.5,innerRadius:.2,numSpikes:5,pointDensity:10,x:0,y:0,r:255,g:255,b:255},paramControls:[{id:"outerRadius",label:"Outer Radius",type:"range",min:.01,max:1,step:.01},{id:"innerRadius",label:"Inner Radius",type:"range",min:.01,max:1,step:.01},{id:"numSpikes",label:"Number of Spikes",type:"range",min:3,max:20,step:1},{id:"pointDensity",label:"Point Density",type:"range",min:1,max:50,step:1},{id:"x",label:"X Position",type:"range",min:-1,max:1,step:.01},{id:"y",label:"Y Position",type:"range",min:-1,max:1,step:.01},{id:"r",label:"Red",type:"range",min:0,max:255,step:1},{id:"g",label:"Green",type:"range",min:0,max:255,step:1},{id:"b",label:"Blue",type:"range",min:0,max:255,step:1}]}],Dg=()=>{const a=(t,r)=>{t.dataTransfer.setData("application/json",JSON.stringify(r))};return b.jsxs("div",{className:"generator-panel",children:[b.jsx("h3",{children:"Generators"}),d0.map(t=>b.jsx("div",{className:"generator-item",draggable:!0,onDragStart:r=>a(r,t),children:t.name},t.id))]})},_g=()=>{const a=(t,r)=>{t.dataTransfer.setData("application/json",JSON.stringify(r))};return b.jsxs("div",{className:"effect-panel",children:[b.jsx("h3",{children:"Effects"}),Cn.map(t=>b.jsx("div",{draggable:!0,onDragStart:r=>a(r,t),className:"effect-item",children:t.name},t.id))]})},Ug=({dacs:a=[],onDacSelected:t,onDacsDiscovered:r})=>{const[l,u]=L.useState(!1),[o,d]=L.useState(null),[p,h]=L.useState([]),[m,g]=L.useState(null),x=Za.useRef(!1);L.useEffect(()=>{window.electronAPI&&window.electronAPI.getNetworkInterfaces().then(w=>{h(w),w.length>0&&g(w[0])})},[]),L.useEffect(()=>{l&&!x.current&&(x.current=!0,console.log("Starting DAC scan on:",m?.address),window.electronAPI?window.electronAPI.discoverDacs(2e3,m?.address).then(async w=>{console.log("DACs discovered:",w);const F=await Promise.all(w.map(async U=>{try{const V=(await window.electronAPI.getDacServices(U.ip,m?.address)).filter(te=>te.serviceID!==0);return{...U,channels:V}}catch(Q){return console.error(`Error fetching services for DAC ${U.ip}:`,Q),{...U,channels:[]}}}));r&&r(F)}).catch(w=>{console.error("Error discovering DACs:",w)}).finally(()=>{u(!1),x.current=!1}):(console.warn("electronAPI is not available. Cannot discover DACs."),u(!1),x.current=!1))},[l,m,r]);const S=(w,F)=>{const U={...w,channel:F};d(U),t&&t(U)},A=(w,F,U)=>{const Q={...F,channel:U};w.dataTransfer.setData("application/json",JSON.stringify(Q))},D=w=>{const F=w.target.value,U=p.find(Q=>Q.address===F);g(U)};return b.jsxs("div",{className:"dac-panel",children:[b.jsx("h3",{children:"DACs"}),b.jsxs("div",{className:"network-interface-selector",children:[b.jsx("select",{onChange:D,value:m?.address||"",children:p.map(w=>b.jsxs("option",{value:w.address,children:[w.name," (",w.address,")"]},w.address))}),b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",checked:l,onChange:w=>u(w.target.checked),disabled:l}),"Scan"]})]}),b.jsx("div",{className:"dac-list",children:a.map(w=>b.jsxs("div",{className:"dac-group",children:[b.jsxs("div",{className:"dac-ip",children:[w.hostName||w.ip," (",w.ip,")"]}),b.jsx("div",{className:"dac-channels",children:w.channels&&w.channels.length>0?w.channels.map(F=>b.jsxs("div",{className:`dac-channel-item ${o&&o.unitID===w.unitID&&o.channel===F.serviceID?"selected":""}`,onClick:()=>S(w,F.serviceID),draggable:!0,onDragStart:U=>A(U,w,F.serviceID),children:["Channel ",F.serviceID," (",F.name,")"]},`${w.unitID}-${F.serviceID}`)):b.jsx("div",{className:"dac-channel-item no-channels",children:"No channels found"})})]},w.unitID||w.ip))})]})},h0=({paramId:a,currentSyncMode:t,onSetSyncMode:r})=>b.jsxs("div",{className:"sync-controls",children:[b.jsx("button",{className:`sync-btn ${t==="fps"?"active":""}`,onClick:()=>r(a,"fps"),title:"Sync to Global FPS",children:"F"}),b.jsx("button",{className:`sync-btn ${t==="timeline"?"active":""}`,onClick:()=>r(a,"timeline"),title:"Sync to Timeline",children:"T"}),b.jsx("button",{className:`sync-btn ${t==="bpm"?"active":""}`,onClick:()=>r(a,"bpm"),title:"Sync to BPM",children:"B"})]}),Lg=({effect:a,onParamChange:t,onRemove:r,syncSettings:l={},onSetParamSync:u})=>{if(!a)return null;const o=Cn.find(p=>p.id===a.id);if(!o)return b.jsxs("div",{className:"effect-editor settings-card",children:[b.jsxs("div",{className:"effect-header settings-card-header",children:[b.jsx("h4",{children:a.name}),b.jsx("button",{className:"remove-effect-btn",onClick:r,children:""})]}),b.jsx("p",{children:"No definition found for this effect."})]});const d=(p,h)=>{t(p,h)};return b.jsxs("div",{className:"effect-editor settings-card",children:[b.jsxs("div",{className:"effect-header settings-card-header",children:[b.jsx("h4",{children:a.name}),b.jsx("button",{className:"remove-effect-btn",onClick:r,children:""})]}),b.jsx("div",{className:"settings-card-content",children:o.paramControls.map(p=>{if(p.showIf&&!Object.entries(p.showIf).every(([g,x])=>a.params[g]===x))return null;const h=`${a.id}.${p.id}`;return b.jsxs("div",{className:"param-editor",children:[b.jsxs("div",{className:"param-label-row",style:{display:"flex",alignItems:"center"},children:[b.jsx("label",{htmlFor:p.id,children:p.label}),b.jsx(h0,{paramId:h,currentSyncMode:l[h],onSetSyncMode:u})]}),b.jsxs("div",{className:"control-row",children:[p.type==="range"&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"range",id:p.id,min:p.min,max:p.max,step:p.step,value:a.params[p.id],onChange:m=>d(p.id,parseFloat(m.target.value)),className:"param-slider"}),b.jsx("input",{type:"number",value:a.params[p.id],onChange:m=>d(p.id,parseFloat(m.target.value)||0),className:"param-number-input",step:p.step})]}),p.type==="text"&&b.jsx("input",{type:"text",id:p.id,value:a.params[p.id],onChange:m=>d(p.id,m.target.value),className:"param-text-input"}),p.type==="checkbox"&&b.jsx("input",{type:"checkbox",id:p.id,checked:a.params[p.id],onChange:m=>d(p.id,m.target.checked),className:"param-checkbox"}),p.type==="select"&&b.jsx("select",{id:p.id,value:a.params[p.id],onChange:m=>d(p.id,m.target.value),className:"param-select",children:p.options.map(m=>b.jsx("option",{value:m,children:m},m))})]})]},p.id)})})]})},kg=({selectedGeneratorId:a,selectedGeneratorParams:t,onParameterChange:r,syncSettings:l={},onSetParamSync:u})=>{if(!a)return b.jsx("div",{className:"generator-settings-panel",children:"No generator selected."});const o=d0.find(h=>h.id===a);if(!o)return b.jsxs("div",{className:"generator-settings-panel",children:["Generator definition not found for ID: ",a]});const d=(h,m)=>{const g=o.paramControls.find(S=>S.id===h);let x=m;g&&(g.type==="range"||g.type==="number")?x=parseFloat(m):g&&g.type==="checkbox"&&(x=m),r(h,x)},p=async h=>{const m=h.target.value;if(m==="browse")if(window.electronAPI&&window.electronAPI.showFontFileDialog){const g=await window.electronAPI.showFontFileDialog();g&&r("fontUrl",g)}else console.error("Font file dialog API not available.");else r("fontUrl",m)};return b.jsxs("div",{className:"generator-settings-panel settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsxs("h4",{children:[o.name," Settings"]})}),b.jsx("div",{className:"settings-card-content",children:o.paramControls.map(h=>b.jsxs("div",{className:"param-editor",children:[b.jsxs("div",{className:"param-label-row",style:{display:"flex",alignItems:"center"},children:[b.jsx("label",{htmlFor:h.id,children:h.label}),b.jsx(h0,{paramId:`${a}.${h.id}`,currentSyncMode:l[`${a}.${h.id}`],onSetSyncMode:u})]}),b.jsx("div",{className:"control-row",children:h.id==="fontUrl"?b.jsxs("div",{className:"font-selector-container",children:[b.jsxs("select",{className:"param-select",onChange:p,value:t[h.id]||"src/fonts/arial.ttf",children:[b.jsx("option",{value:"src/fonts/arial.ttf",children:"Arial"}),b.jsx("option",{value:"src/fonts/impact.ttf",children:"Impact"}),b.jsx("option",{value:"src/fonts/Geometr415 Blk BT Black.ttf",children:"Geometric 415"}),b.jsx("option",{value:"src/fonts/STENCIL.TTF",children:"Stencil"}),b.jsx("option",{value:"browse",children:"Browse..."})]}),b.jsx("span",{className:"font-path-tiny",children:t[h.id]?.split(/[\\/]/).pop()})]}):h.type==="range"?b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"range",id:h.id,min:h.min,max:h.max,step:h.step,value:t[h.id]||"",onChange:m=>d(h.id,m.target.value),className:"param-slider"}),b.jsx("input",{type:"number",value:t[h.id]||0,onChange:m=>d(h.id,m.target.value),className:"param-number-input",step:h.step})]}):h.type==="number"?b.jsx("input",{type:"number",id:h.id,min:h.min,max:h.max,step:h.step,value:t[h.id]||"",onChange:m=>d(h.id,m.target.value),className:"param-number-input"}):h.type==="text"?b.jsx("input",{type:"text",id:h.id,value:t[h.id]||"",onChange:m=>d(h.id,m.target.value),className:"param-text-input"}):h.type==="checkbox"?b.jsx("input",{type:"checkbox",id:h.id,checked:t[h.id]||!1,onChange:m=>d(h.id,m.target.checked),className:"param-checkbox"}):null})]},h.id))})]})},Bg=({settings:a,onUpdate:t})=>{const{mode:r="fps",duration:l=1,beats:u=8,speedMultiplier:o=1}=a||{},d=h=>{t({mode:h})},p=(h,m,g=!1)=>{let x=a[h]||(h==="beats"?8:1);g?x=m>1?x*2:x/2:x+=m,x<.01&&(x=.01),t({[h]:x})};return b.jsxs("div",{className:"clip-playback-settings settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"Clip Playback"})}),b.jsxs("div",{className:"settings-card-content",children:[b.jsxs("div",{className:"playback-mode-selector",children:[b.jsx("button",{className:r==="fps"?"active":"",onClick:()=>d("fps"),children:"FPS"}),b.jsx("button",{className:r==="timeline"?"active":"",onClick:()=>d("timeline"),children:"Timeline"}),b.jsx("button",{className:r==="bpm"?"active":"",onClick:()=>d("bpm"),children:"BPM Sync"})]}),b.jsxs("div",{className:"playback-controls",children:[r==="timeline"&&b.jsxs("div",{className:"control-group",children:[b.jsx("label",{children:"Duration (s)"}),b.jsxs("div",{className:"value-adjuster",children:[b.jsx("button",{onClick:()=>p("duration",-1),children:"-1"}),b.jsx("input",{type:"number",value:l.toFixed(2),onChange:h=>t({duration:parseFloat(h.target.value)||1})}),b.jsx("button",{onClick:()=>p("duration",1),children:"+1"}),b.jsx("button",{onClick:()=>p("duration",.5,!0),children:"/2"}),b.jsx("button",{onClick:()=>p("duration",2,!0),children:"*2"})]})]}),r==="bpm"&&b.jsxs("div",{className:"control-group",children:[b.jsx("label",{children:"Beats"}),b.jsxs("div",{className:"value-adjuster",children:[b.jsx("button",{onClick:()=>p("beats",-1),children:"-1"}),b.jsx("input",{type:"number",value:u,onChange:h=>t({beats:parseInt(h.target.value)||1})}),b.jsx("button",{onClick:()=>p("beats",1),children:"+1"}),b.jsx("button",{onClick:()=>p("beats",.5,!0),children:"/2"}),b.jsx("button",{onClick:()=>p("beats",2,!0),children:"*2"})]})]}),(r==="timeline"||r==="bpm")&&b.jsxs("div",{className:"control-group",children:[b.jsx("label",{children:"Speed Multiplier"}),b.jsxs("div",{className:"value-adjuster",children:[b.jsx("button",{onClick:()=>p("speedMultiplier",-.1),children:"-0.1"}),b.jsx("input",{type:"number",value:o.toFixed(2),onChange:h=>t({speedMultiplier:parseFloat(h.target.value)||1})}),b.jsx("button",{onClick:()=>p("speedMultiplier",.1),children:"+0.1"})]})]})]})]})]})},Ig=({selectedLayerIndex:a,selectedColIndex:t,clip:r,audioInfo:l,onAssignAudio:u,onRemoveAudio:o,onUpdatePlaybackSettings:d,onSetParamSync:p,onToggleDacMirror:h,onRemoveDac:m,onRemoveEffect:g,onParameterChange:x,onGeneratorParameterChange:S})=>{if(a===null||t===null)return b.jsxs("div",{className:"clip-settings-panel settings-panel-base",children:[b.jsx("h3",{children:"Clip Settings"}),b.jsx("p",{className:"info-text",children:"Select a clip to view settings."})]});const{effects:A=[],assignedDacs:D=[],playbackSettings:w={},syncSettings:F={},audioFile:U=null,type:Q=null,generatorDefinition:V=null,currentParams:te={}}=r||{},W=A.length>0,oe=Q==="generator"&&!!V,xe=D.length>0,Ee=l&&l.duration?l.currentTime/l.duration*100:0;return b.jsxs("div",{className:"clip-settings-panel settings-panel-base",children:[b.jsx("h3",{children:"Clip Settings"}),b.jsxs("div",{className:"audio-settings-section settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"Audio"})}),b.jsx("div",{className:"settings-card-content",children:U?b.jsxs("div",{className:"assigned-audio-info",children:[b.jsx("div",{className:"audio-file-name",title:U.path,children:U.name}),b.jsx("div",{className:"audio-progress-container",children:b.jsx("div",{className:"audio-progress-bar",style:{width:`${Ee}%`}})}),b.jsx("div",{className:"audio-time-info",children:l?`${l.currentTime.toFixed(1)}s / ${l.duration.toFixed(1)}s`:"0.0s / 0.0s"}),b.jsx("button",{className:"remove-audio-btn",onClick:o,children:"Remove Audio"})]}):b.jsx("button",{className:"assign-audio-btn",onClick:u,children:"Assign Audio File"})})]}),b.jsx(Bg,{settings:w,onUpdate:ge=>d(a,t,ge)}),xe&&b.jsxs("div",{className:"assigned-dacs-settings settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"Assigned DACs"})}),b.jsx("div",{className:"settings-card-content",children:b.jsx("ul",{className:"assigned-dacs-list",children:D.map((ge,we)=>b.jsxs("li",{className:"assigned-dac-item",children:[b.jsxs("span",{className:"dac-name-tiny",children:[ge.hostName||ge.ip," - Ch ",ge.channel]}),b.jsxs("div",{className:"dac-mirror-controls",children:[b.jsx("button",{className:`mirror-btn ${ge.mirrorX?"active":""}`,onClick:()=>h(a,t,we,"x"),title:"Mirror X Axis",children:"X"}),b.jsx("button",{className:`mirror-btn ${ge.mirrorY?"active":""}`,onClick:()=>h(a,t,we,"y"),title:"Mirror Y Axis",children:"Y"})]}),b.jsx("button",{className:"remove-dac-btn",onClick:()=>m(we),children:""})]},`${ge.unitID||ge.ip}-${ge.channel}-${we}`))})})]}),oe&&b.jsx(kg,{selectedGeneratorId:V.id,selectedGeneratorParams:te,onParameterChange:S,syncSettings:F,onSetParamSync:p}),W&&A.map((ge,we)=>b.jsx(Lg,{effect:ge,syncSettings:F,onSetParamSync:p,onParamChange:(je,ve)=>x(a,t,we,je,ve),onRemove:()=>g(a,t,we)},ge.id+we)),!oe&&!W&&b.jsx("p",{className:"info-text",children:"No generators or effects applied."})]})},Fg=({message:a,visible:t})=>t?b.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#333",color:"white",padding:"10px 20px",borderRadius:"5px",zIndex:1e3,opacity:t?1:0,transition:"opacity 0.5s ease-in-out"},children:a}):null,p0=L.createContext(null),m0=()=>L.useContext(p0),Gg=({children:a,onWorkerMessage:t})=>{const r=L.useRef(null);return r.current===null&&(r.current=new Worker(new URL(""+new URL("rendering.worker-B1ngzniQ.js",import.meta.url).href,import.meta.url),{type:"module"})),L.useEffect(()=>{const l=r.current;return t&&(l.onmessage=t),()=>{l.terminate(),t&&(l.onmessage=null)}},[t]),b.jsx(p0.Provider,{value:r.current,children:a})},zg=({frame:a,effects:t,showBeamEffect:r,beamAlpha:l,fadeAlpha:u,previewScanRate:o,beamRenderMode:d,intensity:p})=>{const h=L.useRef(null),m=m0(),g=L.useRef(`ilda-player-${Math.random()}`);return L.useEffect(()=>{const x=h.current;if(!x||!m)return;const S=x.transferControlToOffscreen();return m.postMessage({action:"register",payload:{id:g.current,canvas:S,type:"single",data:{showBeamEffect:r,beamAlpha:l,fadeAlpha:u,previewScanRate:o,beamRenderMode:d,intensity:p}}},[S]),()=>{m.postMessage({action:"deregister",payload:{id:g.current}})}},[]),L.useEffect(()=>{if(!m)return;const x=a?[a]:[];m.postMessage({action:"update",payload:{id:g.current,data:{ildaFrames:x,effects:t,showBeamEffect:r,beamAlpha:l,fadeAlpha:u,previewScanRate:o,beamRenderMode:d,intensity:p}}})},[m,a,t,r,l,u,o,d,p]),b.jsxs("div",{className:"ilda-player",children:[b.jsx("h3",{children:"Selected Preview"}),b.jsx("canvas",{ref:h,width:"300",height:"300",style:{backgroundColor:"black"}})]})},Hg=Za.memo(zg),jg=({activeFrames:a,showBeamEffect:t,beamAlpha:r,fadeAlpha:l,previewScanRate:u,beamRenderMode:o,layerIntensities:d,masterIntensity:p})=>{const h=L.useRef(null),m=m0(),g=L.useRef(`world-preview-${Math.random()}`);return L.useEffect(()=>{const x=h.current;if(!x||!m)return;const S=x.transferControlToOffscreen();return m.postMessage({action:"register",payload:{id:g.current,canvas:S,type:"world",data:{showBeamEffect:t,beamAlpha:r,fadeAlpha:l,previewScanRate:u,beamRenderMode:o}}},[S]),()=>{m.postMessage({action:"deregister",payload:{id:g.current}})}},[]),L.useEffect(()=>{if(!m)return;const x=Object.entries(a).map(([S,{frame:A,effects:D,layerIndex:w}])=>({frames:[A],effects:D,workerId:S,layerIndex:w}));m.postMessage({action:"update",payload:{id:g.current,data:{worldData:x,showBeamEffect:t,beamAlpha:r,fadeAlpha:l,previewScanRate:u,beamRenderMode:o,layerIntensities:d,masterIntensity:p}}})},[m,a,t,r,l,u,o,d,p]),b.jsxs("div",{className:"world-preview",children:[b.jsx("h3",{children:"World Preview"}),b.jsx("canvas",{ref:h,width:"300",height:"300",style:{backgroundColor:"black"}})]})},Pg=({bpm:a,onBpmChange:t})=>{const[r,l]=L.useState([]),[u,o]=L.useState(a);L.useEffect(()=>{o(a)},[a]);const d=()=>{const h=Date.now(),m=[...r,h].slice(-4);if(l(m),m.length>=2){const g=[];for(let A=1;A<m.length;A++)g.push(m[A]-m[A-1]);const x=g.reduce((A,D)=>A+D)/g.length,S=Math.round(6e4/x);t(S)}},p=h=>{const m=parseFloat(h.target.value);o(h.target.value),!isNaN(m)&&m>0&&m<999&&t(m)};return b.jsx("div",{className:"bpm-controls",children:b.jsxs("div",{className:"bpm-display",children:[b.jsx(At,{id:"bpm_tap",children:b.jsx("button",{className:"bpm-tap-btn",onClick:d,children:"TAP"})}),b.jsxs("div",{className:"bpm-fine-controls",children:[b.jsx(At,{id:"bpm_fine_down",children:b.jsx("button",{className:"bpm-fine-btn",onClick:()=>t(Math.max(1,a-.1)),children:"-"})}),b.jsx(At,{id:"bpm_value",children:b.jsx("input",{type:"number",className:"bpm-input",value:u,onChange:p,min:"1",max:"999",step:"0.1"})}),b.jsx(At,{id:"bpm_fine_up",children:b.jsx("button",{className:"bpm-fine-btn",onClick:()=>t(Math.min(999,a+.1)),children:"+"})})]}),b.jsx("span",{className:"bpm-label",children:"BPM"})]})})},Yg=({onPlay:a,onPause:t,onStop:r,isPlaying:l,isStopped:u})=>b.jsxs("div",{className:"transport-controls",children:[b.jsx(At,{id:"transport_play",children:b.jsx("button",{className:`speed-control-button ${l?"active":""}`,onClick:a,children:""})}),b.jsx(At,{id:"transport_pause",children:b.jsx("button",{className:`speed-control-button ${!l&&!u?"active":""}`,onClick:t,children:""})}),b.jsx(At,{id:"transport_stop",children:b.jsx("button",{className:`speed-control-button ${u?"active":""}`,onClick:r,children:""})})]}),qg=({enabledShortcuts:a={}})=>{const{midiInitialized:t,midiInputs:r,selectedMidiInputId:l,setSelectedMidiInputId:u,isMapping:o,startMapping:d,stopMapping:p,learningId:h,lastMidiEvent:m,setMappings:g,saveMappings:x,exportMappings:S,importMappings:A}=Ws(),{artnetInitialized:D,isMapping:w,startMapping:F,stopMapping:U,setMappings:Q,saveMappings:V,exportMappings:te,importMappings:W,lastDmxEvent:oe}=wc()||{},[xe,Ee]=L.useState([]),[ge,we]=L.useState(""),[je,ve]=L.useState(!1),[P,le]=L.useState(57121),[ne,C]=L.useState("127.0.0.1"),[X,ie]=L.useState(57120),[Te,T]=L.useState(null);L.useEffect(()=>{const se=async()=>{if(a.artnet)try{const qe=await window.electronAPI.getArtnetUniverses();Ee(qe),qe.length>0&&we(qe[0].id)}catch(qe){console.error("Failed to fetch Art-Net universes:",qe)}},be=async()=>{if(a.osc)try{if((await window.electronAPI.initializeOsc({localPort:P,remoteAddress:ne,remotePort:X})).success)return ve(!0),window.electronAPI.onOscMessageReceived(({oscMessage:qt})=>{T(qt)})}catch(qe){console.error("Failed to initialize OSC:",qe)}};let fe=()=>{};return se(),be().then(qe=>{typeof qe=="function"&&(fe=qe)}),()=>{typeof fe=="function"&&fe()}},[a]);const z=se=>u(se.target.value),$=()=>o?p():d(),ae=()=>w?U():F();return b.jsxs("div",{className:"settings-panel settings-panel-base",children:[b.jsx("h3",{children:"Global Settings"}),b.jsxs("div",{className:"settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"Channel/DAC Settings"})}),b.jsx("div",{className:"settings-card-content",children:b.jsx("p",{className:"info-text",children:"Output routing and safety zones configuration placeholder."})})]}),(a.midi||a.artnet||a.osc)&&b.jsxs("div",{className:"shortcuts-settings-panel",children:[a.midi&&b.jsxs("div",{className:"settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"MIDI Shortcuts"})}),b.jsx("div",{className:"settings-card-content",children:t?b.jsxs("div",{className:"midi-config",children:[b.jsx("select",{className:"param-select",value:l,onChange:z,style:{marginBottom:"8px",width:"100%"},children:r.map(se=>b.jsx("option",{value:se.id,children:se.name},se.id))}),b.jsxs("div",{className:"button-grid",children:[b.jsx("button",{className:`mapping-btn ${o?"active":""}`,onClick:$,style:{backgroundColor:o?"var(--theme-color)":"",gridColumn:"span 2"},children:o?"Stop Mapping":"Start Mapping"}),b.jsx("button",{className:"small-btn",onClick:x,children:"Save Default"}),b.jsx("button",{className:"small-btn",onClick:S,children:"Export"}),b.jsx("button",{className:"small-btn",onClick:A,children:"Import"}),b.jsx("button",{className:"small-btn clear",onClick:()=>g({}),children:"Clear"})]}),m&&b.jsxs("div",{className:"last-event-status",children:[m.type," ",m.note||m.controller," (CH",m.channel,")"]})]}):b.jsx("p",{className:"loading-text",children:"Initializing MIDI..."})})]}),a.artnet&&b.jsxs("div",{className:"settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"ArtNet Shortcuts"})}),b.jsx("div",{className:"settings-card-content",children:D?b.jsxs("div",{className:"artnet-config",children:[b.jsx("select",{className:"param-select",value:ge,onChange:se=>{we(se.target.value);const be=parseInt(se.target.value.replace("universe-",""));window.electronAPI&&window.electronAPI.listenArtnetUniverse&&window.electronAPI.listenArtnetUniverse(be)},style:{marginBottom:"8px",width:"100%"},children:xe.map(se=>b.jsx("option",{value:se.id,children:se.name},se.id))}),b.jsxs("div",{className:"button-grid",children:[b.jsx("button",{className:`mapping-btn ${w?"active":""}`,onClick:ae,style:{backgroundColor:w?"var(--theme-color)":"",gridColumn:"span 2"},children:w?"Stop Mapping":"Start Mapping"}),b.jsx("button",{className:"small-btn",onClick:V,children:"Save Default"}),b.jsx("button",{className:"small-btn",onClick:te,children:"Export"}),b.jsx("button",{className:"small-btn",onClick:W,children:"Import"}),b.jsx("button",{className:"small-btn clear",onClick:()=>Q({}),children:"Clear"})]}),oe&&b.jsxs("div",{className:"last-event-status",children:["UNIV ",oe.universe," CH ",oe.channel+1," (Val: ",oe.value,")"]})]}):b.jsx("p",{className:"loading-text",children:"Initializing Art-Net..."})})]}),a.osc&&b.jsxs("div",{className:"settings-card",children:[b.jsx("div",{className:"settings-card-header",children:b.jsx("h4",{children:"OSC Shortcuts"})}),b.jsx("div",{className:"settings-card-content",children:b.jsx("div",{className:"osc-config",children:b.jsxs("p",{className:"info-text",children:["Listening on port: ",P]})})})]})]})]})},Vg=({show:a,title:t,initialValue:r,onSave:l,onClose:u})=>{const[o,d]=L.useState(r||"");if(L.useEffect(()=>{a&&d(r||"")},[a,r]),!a)return null;const p=()=>{l(o),u()},h=m=>{m.key==="Enter"&&p(),m.key==="Escape"&&u()};return b.jsx("div",{className:"shortcuts-modal-overlay",style:{pointerEvents:"auto"},children:b.jsxs("div",{className:"shortcuts-modal-content",style:{maxWidth:"400px"},children:[b.jsx("h3",{children:t||"Rename"}),b.jsxs("div",{className:"settings-section",style:{border:"none"},children:[b.jsx("input",{type:"text",value:o,onChange:m=>d(m.target.value),onKeyDown:h,autoFocus:!0,style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",color:"white",border:"1px solid var(--theme-color)",borderRadius:"4px",marginBottom:"15px"}}),b.jsxs("div",{className:"button-row",style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[b.jsx("button",{onClick:u,children:"Cancel"}),b.jsx("button",{onClick:p,style:{backgroundColor:"var(--theme-color)",color:"black"},children:"Save"})]})]})]})})};class Xg extends Za.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?b.jsx("h1",{children:"Something went wrong."}):this.props.children}}const v0=L.createContext(null),Zg=()=>L.useContext(v0),Qg=({children:a})=>{const[t,r]=L.useState(null);return L.useEffect(()=>{if(!t){const l=new Worker(new URL(""+new URL("ilda-parser.worker-CwqAcqT6.js",import.meta.url).href,import.meta.url));r(l)}return()=>{t&&t.terminate()}},[t]),b.jsx(v0.Provider,{value:t,children:a})},g0=L.createContext(null),Kg=({children:a})=>{const t=L.useMemo(()=>{try{const r=new Worker(new URL(""+new URL("generators.worker-6MtbyBrw.js",import.meta.url).href,import.meta.url),{type:"module"});return r.onerror=l=>{console.error("Generator Worker instantiation or internal error:",l)},r}catch(r){return console.error("Failed to create Generator Worker:",r),null}},[]);return L.useEffect(()=>{if(t)return()=>{t.terminate()}},[t]),b.jsx(g0.Provider,{value:t,children:a})},Wg=()=>{const a=L.useContext(g0);if(a===void 0)throw new Error("useGeneratorWorker must be used within a GeneratorWorkerProvider");return a},Jg=()=>{const[a,t]=L.useState([]),[r,l]=L.useState("default"),u=L.useRef({}),o=L.useCallback(async()=>{try{const Q=(await navigator.mediaDevices.enumerateDevices()).filter(V=>V.kind==="audiooutput");if(t(Q),window.electronAPI&&window.electronAPI.setAudioDevices){const V=Q.map(te=>({deviceId:te.deviceId,label:te.label,groupId:te.groupId}));window.electronAPI.setAudioDevices(V)}}catch(U){console.error("Error enumerating audio devices:",U)}},[]);L.useEffect(()=>{o();let U;return window.electronAPI&&window.electronAPI.onUpdateAudioDeviceId&&(U=window.electronAPI.onUpdateAudioDeviceId(Q=>{l(Q)})),navigator.mediaDevices.addEventListener("devicechange",o),()=>{navigator.mediaDevices.removeEventListener("devicechange",o),U&&U()}},[o]);const d=L.useCallback(async(U,Q,V=!0)=>{if(u.current[U]&&(u.current[U].pause(),u.current[U].src="",delete u.current[U]),!Q)return;const te=new Audio(`file://${Q}`);if(r&&te.setSinkId)try{await te.setSinkId(r)}catch(W){console.error("Error setting audio sink ID:",W)}if(u.current[U]=te,V)try{await te.play()}catch(W){console.error("Error playing audio:",W)}return te},[r]),p=L.useCallback(U=>{u.current[U]&&(u.current[U].pause(),u.current[U].src="",delete u.current[U])},[]),h=L.useCallback(U=>{u.current[U]&&u.current[U].pause()},[]),m=L.useCallback(async U=>{if(u.current[U]&&u.current[U].paused)try{await u.current[U].play()}catch(Q){console.error("Error resuming audio:",Q)}},[]),g=L.useCallback(U=>{const Q=Math.max(.0625,Math.min(U,16));Object.values(u.current).forEach(V=>{try{V.playbackRate=Q}catch(te){console.warn("Failed to set playbackRate:",te)}})},[]),x=L.useCallback(U=>{u.current[U]&&(u.current[U].currentTime=0)},[]),S=L.useCallback(()=>{Object.keys(u.current).forEach(U=>{p(U)})},[p]),A=L.useCallback(()=>{Object.keys(u.current).forEach(U=>{h(U)})},[h]),D=L.useCallback(()=>{Object.keys(u.current).forEach(U=>{m(U)})},[m]),w=L.useCallback(()=>{Object.keys(u.current).forEach(U=>{x(U)})},[x]),F=L.useCallback(U=>{const Q=u.current[U];return Q?{currentTime:Q.currentTime,duration:Q.duration,paused:Q.paused}:null},[]);return{devices:a,selectedDeviceId:r,setSelectedDeviceId:l,playAudio:d,stopAudio:p,pauseAudio:h,resumeAudio:m,setPlaybackRate:g,resetAudio:x,stopAllAudio:S,pauseAllAudio:A,resumeAllAudio:D,resetAllAudio:w,getAudioInfo:F}};var $g=l0();const ey=Nc($g),ty=()=>{const{isMapping:a,mappings:t,learningId:r}=Ws(),{isMapping:l,mappings:u,learningId:o}=wc()||{},d=a||l,[p,h]=L.useState([]),m=L.useCallback(()=>{if(!d)return;const g=document.querySelectorAll("[data-mappable-id]"),x=Array.from(g).map(S=>{const A=S.getBoundingClientRect();return{id:S.getAttribute("data-mappable-id"),rect:{top:A.top,left:A.left,width:A.width,height:A.height}}});h(x)},[d]);return L.useEffect(()=>{if(d){m(),window.addEventListener("resize",m);const g=setTimeout(m,100);return()=>{window.removeEventListener("resize",m),clearTimeout(g)}}else h([])},[d,m]),d?ey.createPortal(b.jsx("div",{className:"midi-mapping-global-overlay-container",children:p.map(g=>{const x=t[g.id],S=u?u[g.id]:null,A=a&&r===g.id||l&&o===g.id;let D=null;return a?D=x?x.label:null:l&&(D=S?S.label:null),b.jsx("div",{className:`midi-mapping-label-box ${A?"learning":""} ${D?"mapped":""} ${l?"artnet-mapping":""}`,style:{position:"fixed",top:g.rect.top,left:g.rect.left,width:g.rect.width,height:g.rect.height,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:b.jsx("div",{className:"mapping-label",children:D||"+"})},g.id)})}),document.body):null};/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||(function(){var a=(function(){try{var r={},l=Object.defineProperty,u=l(r,r,r)&&l}catch{}return u})(),t=function(r){if(this==null)throw TypeError();var l=String(this),u=l.length,o=r?Number(r):0;if(o!=o&&(o=0),!(o<0||o>=u)){var d=l.charCodeAt(o),p;return d>=55296&&d<=56319&&u>o+1&&(p=l.charCodeAt(o+1),p>=56320&&p<=57343)?(d-55296)*1024+p-56320+65536:d}};a?a(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t})();function y0(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var ny=new y0,ay=new y0,b0=new Uint8Array(30),S0=new Uint16Array(30),ry=new Uint8Array(30),iy=new Uint16Array(30);function x0(a,t,r,l){var u,o;for(u=0;u<r;++u)a[u]=0;for(u=0;u<30-r;++u)a[u+r]=u/r|0;for(o=l,u=0;u<30;++u)t[u]=o,o+=1<<a[u]}function ly(a,t){var r;for(r=0;r<7;++r)a.table[r]=0;for(a.table[7]=24,a.table[8]=152,a.table[9]=112,r=0;r<24;++r)a.trans[r]=256+r;for(r=0;r<144;++r)a.trans[24+r]=r;for(r=0;r<8;++r)a.trans[168+r]=280+r;for(r=0;r<112;++r)a.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}ly(ny,ay);x0(b0,S0,4,3);x0(ry,iy,2,1);b0[28]=0;S0[28]=258;function ui(a,t,r,l,u){return Math.pow(1-u,3)*a+3*Math.pow(1-u,2)*u*t+3*(1-u)*Math.pow(u,2)*r+Math.pow(u,3)*l}function Wa(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Wa.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Wa.prototype.addPoint=function(a,t){typeof a=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};Wa.prototype.addX=function(a){this.addPoint(a,null)};Wa.prototype.addY=function(a){this.addPoint(null,a)};Wa.prototype.addBezier=function(a,t,r,l,u,o,d,p){var h=[a,t],m=[r,l],g=[u,o],x=[d,p];this.addPoint(a,t),this.addPoint(d,p);for(var S=0;S<=1;S++){var A=6*h[S]-12*m[S]+6*g[S],D=-3*h[S]+9*m[S]-9*g[S]+3*x[S],w=3*m[S]-3*h[S];if(D===0){if(A===0)continue;var F=-w/A;0<F&&F<1&&(S===0&&this.addX(ui(h[S],m[S],g[S],x[S],F)),S===1&&this.addY(ui(h[S],m[S],g[S],x[S],F)));continue}var U=Math.pow(A,2)-4*w*D;if(!(U<0)){var Q=(-A+Math.sqrt(U))/(2*D);0<Q&&Q<1&&(S===0&&this.addX(ui(h[S],m[S],g[S],x[S],Q)),S===1&&this.addY(ui(h[S],m[S],g[S],x[S],Q)));var V=(-A-Math.sqrt(U))/(2*D);0<V&&V<1&&(S===0&&this.addX(ui(h[S],m[S],g[S],x[S],V)),S===1&&this.addY(ui(h[S],m[S],g[S],x[S],V)))}}};Wa.prototype.addQuad=function(a,t,r,l,u,o){var d=a+.6666666666666666*(r-a),p=t+2/3*(l-t),h=d+1/3*(u-a),m=p+1/3*(o-t);this.addBezier(a,t,d,p,h,m,u,o)};function Ct(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Ct.prototype.moveTo=function(a,t){this.commands.push({type:"M",x:a,y:t})};Ct.prototype.lineTo=function(a,t){this.commands.push({type:"L",x:a,y:t})};Ct.prototype.curveTo=Ct.prototype.bezierCurveTo=function(a,t,r,l,u,o){this.commands.push({type:"C",x1:a,y1:t,x2:r,y2:l,x:u,y:o})};Ct.prototype.quadTo=Ct.prototype.quadraticCurveTo=function(a,t,r,l){this.commands.push({type:"Q",x1:a,y1:t,x:r,y:l})};Ct.prototype.close=Ct.prototype.closePath=function(){this.commands.push({type:"Z"})};Ct.prototype.extend=function(a){if(a.commands)a=a.commands;else if(a instanceof Wa){var t=a;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,a)};Ct.prototype.getBoundingBox=function(){for(var a=new Wa,t=0,r=0,l=0,u=0,o=0;o<this.commands.length;o++){var d=this.commands[o];switch(d.type){case"M":a.addPoint(d.x,d.y),t=l=d.x,r=u=d.y;break;case"L":a.addPoint(d.x,d.y),l=d.x,u=d.y;break;case"Q":a.addQuad(l,u,d.x1,d.y1,d.x,d.y),l=d.x,u=d.y;break;case"C":a.addBezier(l,u,d.x1,d.y1,d.x2,d.y2,d.x,d.y),l=d.x,u=d.y;break;case"Z":l=t,u=r;break;default:throw new Error("Unexpected path command "+d.type)}}return a.isEmpty()&&a.addPoint(0,0),a};Ct.prototype.draw=function(a){a.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];r.type==="M"?a.moveTo(r.x,r.y):r.type==="L"?a.lineTo(r.x,r.y):r.type==="C"?a.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?a.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&a.closePath()}this.fill&&(a.fillStyle=this.fill,a.fill()),this.stroke&&(a.strokeStyle=this.stroke,a.lineWidth=this.strokeWidth,a.stroke())};Ct.prototype.toPathData=function(a){a=a!==void 0?a:2;function t(d){return Math.round(d)===d?""+Math.round(d):d.toFixed(a)}function r(){for(var d=arguments,p="",h=0;h<arguments.length;h+=1){var m=d[h];m>=0&&h>0&&(p+=" "),p+=t(m)}return p}for(var l="",u=0;u<this.commands.length;u+=1){var o=this.commands[u];o.type==="M"?l+="M"+r(o.x,o.y):o.type==="L"?l+="L"+r(o.x,o.y):o.type==="C"?l+="C"+r(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?l+="Q"+r(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(l+="Z")}return l};Ct.prototype.toSVG=function(a){var t='<path d="';return t+=this.toPathData(a),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};Ct.prototype.toDOMElement=function(a){var t=this.toPathData(a),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};function E0(a){throw new Error(a)}function Ep(a,t){a||E0(t)}var De={fail:E0,argument:Ep,assert:Ep},Tp=32768,Ap=2147483648,fi={},ue={},Re={};function Bn(a){return function(){return a}}ue.BYTE=function(a){return De.argument(a>=0&&a<=255,"Byte value should be between 0 and 255."),[a]};Re.BYTE=Bn(1);ue.CHAR=function(a){return[a.charCodeAt(0)]};Re.CHAR=Bn(1);ue.CHARARRAY=function(a){typeof a>"u"&&(a="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<a.length;r+=1)t[r]=a.charCodeAt(r);return t};Re.CHARARRAY=function(a){return typeof a>"u"?0:a.length};ue.USHORT=function(a){return[a>>8&255,a&255]};Re.USHORT=Bn(2);ue.SHORT=function(a){return a>=Tp&&(a=-(2*Tp-a)),[a>>8&255,a&255]};Re.SHORT=Bn(2);ue.UINT24=function(a){return[a>>16&255,a>>8&255,a&255]};Re.UINT24=Bn(3);ue.ULONG=function(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]};Re.ULONG=Bn(4);ue.LONG=function(a){return a>=Ap&&(a=-(2*Ap-a)),[a>>24&255,a>>16&255,a>>8&255,a&255]};Re.LONG=Bn(4);ue.FIXED=ue.ULONG;Re.FIXED=Re.ULONG;ue.FWORD=ue.SHORT;Re.FWORD=Re.SHORT;ue.UFWORD=ue.USHORT;Re.UFWORD=Re.USHORT;ue.LONGDATETIME=function(a){return[0,0,0,0,a>>24&255,a>>16&255,a>>8&255,a&255]};Re.LONGDATETIME=Bn(8);ue.TAG=function(a){return De.argument(a.length===4,"Tag should be exactly 4 ASCII characters."),[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]};Re.TAG=Bn(4);ue.Card8=ue.BYTE;Re.Card8=Re.BYTE;ue.Card16=ue.USHORT;Re.Card16=Re.USHORT;ue.OffSize=ue.BYTE;Re.OffSize=Re.BYTE;ue.SID=ue.USHORT;Re.SID=Re.USHORT;ue.NUMBER=function(a){return a>=-107&&a<=107?[a+139]:a>=108&&a<=1131?(a=a-108,[(a>>8)+247,a&255]):a>=-1131&&a<=-108?(a=-a-108,[(a>>8)+251,a&255]):a>=-32768&&a<=32767?ue.NUMBER16(a):ue.NUMBER32(a)};Re.NUMBER=function(a){return ue.NUMBER(a).length};ue.NUMBER16=function(a){return[28,a>>8&255,a&255]};Re.NUMBER16=Bn(3);ue.NUMBER32=function(a){return[29,a>>24&255,a>>16&255,a>>8&255,a&255]};Re.NUMBER32=Bn(5);ue.REAL=function(a){var t=a.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var l=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(a*l)/l).toString()}for(var u="",o=0,d=t.length;o<d;o+=1){var p=t[o];p==="e"?u+=t[++o]==="-"?"c":"b":p==="."?u+="a":p==="-"?u+="e":u+=p}u+=u.length&1?"f":"ff";for(var h=[30],m=0,g=u.length;m<g;m+=2)h.push(parseInt(u.substr(m,2),16));return h};Re.REAL=function(a){return ue.REAL(a).length};ue.NAME=ue.CHARARRAY;Re.NAME=Re.CHARARRAY;ue.STRING=ue.CHARARRAY;Re.STRING=Re.CHARARRAY;fi.UTF8=function(a,t,r){for(var l=[],u=r,o=0;o<u;o++,t+=1)l[o]=a.getUint8(t);return String.fromCharCode.apply(null,l)};fi.UTF16=function(a,t,r){for(var l=[],u=r/2,o=0;o<u;o++,t+=2)l[o]=a.getUint16(t);return String.fromCharCode.apply(null,l)};ue.UTF16=function(a){for(var t=[],r=0;r<a.length;r+=1){var l=a.charCodeAt(r);t[t.length]=l>>8&255,t[t.length]=l&255}return t};Re.UTF16=function(a){return a.length*2};var Sc={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};fi.MACSTRING=function(a,t,r,l){var u=Sc[l];if(u!==void 0){for(var o="",d=0;d<r;d++){var p=a.getUint8(t+d);p<=127?o+=String.fromCharCode(p):o+=u[p&127]}return o}};var Is=typeof WeakMap=="function"&&new WeakMap,Fs,sy=function(a){if(!Fs){Fs={};for(var t in Sc)Fs[t]=new String(t)}var r=Fs[a];if(r!==void 0){if(Is){var l=Is.get(r);if(l!==void 0)return l}var u=Sc[a];if(u!==void 0){for(var o={},d=0;d<u.length;d++)o[u.charCodeAt(d)]=d+128;return Is&&Is.set(r,o),o}}};ue.MACSTRING=function(a,t){var r=sy(t);if(r!==void 0){for(var l=[],u=0;u<a.length;u++){var o=a.charCodeAt(u);if(o>=128&&(o=r[o],o===void 0))return;l[u]=o}return l}};Re.MACSTRING=function(a,t){var r=ue.MACSTRING(a,t);return r!==void 0?r.length:0};function xc(a){return a>=-128&&a<=127}function uy(a,t,r){for(var l=0,u=a.length;t<u&&l<64&&a[t]===0;)++t,++l;return r.push(128|l-1),t}function oy(a,t,r){for(var l=0,u=a.length,o=t;o<u&&l<64;){var d=a[o];if(!xc(d)||d===0&&o+1<u&&a[o+1]===0)break;++o,++l}r.push(l-1);for(var p=t;p<o;++p)r.push(a[p]+256&255);return o}function cy(a,t,r){for(var l=0,u=a.length,o=t;o<u&&l<64;){var d=a[o];if(d===0||xc(d)&&o+1<u&&xc(a[o+1]))break;++o,++l}r.push(64|l-1);for(var p=t;p<o;++p){var h=a[p];r.push(h+65536>>8&255,h+256&255)}return o}ue.VARDELTAS=function(a){for(var t=0,r=[];t<a.length;){var l=a[t];l===0?t=uy(a,t,r):l>=-128&&l<=127?t=oy(a,t,r):t=cy(a,t,r)}return r};ue.INDEX=function(a){for(var t=1,r=[t],l=[],u=0;u<a.length;u+=1){var o=ue.OBJECT(a[u]);Array.prototype.push.apply(l,o),t+=o.length,r.push(t)}if(l.length===0)return[0,0];for(var d=[],p=1+Math.floor(Math.log(t)/Math.log(2))/8|0,h=[void 0,ue.BYTE,ue.USHORT,ue.UINT24,ue.ULONG][p],m=0;m<r.length;m+=1){var g=h(r[m]);Array.prototype.push.apply(d,g)}return Array.prototype.concat(ue.Card16(a.length),ue.OffSize(p),d,l)};Re.INDEX=function(a){return ue.INDEX(a).length};ue.DICT=function(a){for(var t=[],r=Object.keys(a),l=r.length,u=0;u<l;u+=1){var o=parseInt(r[u],0),d=a[o];t=t.concat(ue.OPERAND(d.value,d.type)),t=t.concat(ue.OPERATOR(o))}return t};Re.DICT=function(a){return ue.DICT(a).length};ue.OPERATOR=function(a){return a<1200?[a]:[12,a-1200]};ue.OPERAND=function(a,t){var r=[];if(Array.isArray(t))for(var l=0;l<t.length;l+=1)De.argument(a.length===t.length,"Not enough arguments given for type"+t),r=r.concat(ue.OPERAND(a[l],t[l]));else if(t==="SID")r=r.concat(ue.NUMBER(a));else if(t==="offset")r=r.concat(ue.NUMBER32(a));else if(t==="number")r=r.concat(ue.NUMBER(a));else if(t==="real")r=r.concat(ue.REAL(a));else throw new Error("Unknown operand type "+t);return r};ue.OP=ue.BYTE;Re.OP=Re.BYTE;var Gs=typeof WeakMap=="function"&&new WeakMap;ue.CHARSTRING=function(a){if(Gs){var t=Gs.get(a);if(t!==void 0)return t}for(var r=[],l=a.length,u=0;u<l;u+=1){var o=a[u];r=r.concat(ue[o.type](o.value))}return Gs&&Gs.set(a,r),r};Re.CHARSTRING=function(a){return ue.CHARSTRING(a).length};ue.OBJECT=function(a){var t=ue[a.type];return De.argument(t!==void 0,"No encoding function for type "+a.type),t(a.value)};Re.OBJECT=function(a){var t=Re[a.type];return De.argument(t!==void 0,"No sizeOf function for type "+a.type),t(a.value)};ue.TABLE=function(a){for(var t=[],r=a.fields.length,l=[],u=[],o=0;o<r;o+=1){var d=a.fields[o],p=ue[d.type];De.argument(p!==void 0,"No encoding function for field type "+d.type+" ("+d.name+")");var h=a[d.name];h===void 0&&(h=d.value);var m=p(h);d.type==="TABLE"?(u.push(t.length),t=t.concat([0,0]),l.push(m)):t=t.concat(m)}for(var g=0;g<l.length;g+=1){var x=u[g],S=t.length;De.argument(S<65536,"Table "+a.tableName+" too big."),t[x]=S>>8,t[x+1]=S&255,t=t.concat(l[g])}return t};Re.TABLE=function(a){for(var t=0,r=a.fields.length,l=0;l<r;l+=1){var u=a.fields[l],o=Re[u.type];De.argument(o!==void 0,"No sizeOf function for field type "+u.type+" ("+u.name+")");var d=a[u.name];d===void 0&&(d=u.value),t+=o(d),u.type==="TABLE"&&(t+=2)}return t};ue.RECORD=ue.TABLE;Re.RECORD=Re.TABLE;ue.LITERAL=function(a){return a};Re.LITERAL=function(a){return a.length};function _t(a,t,r){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var l=0;l<t.length;l+=1){var u=t[l];this[u.name]=u.value}if(this.tableName=a,this.fields=t,r)for(var o=Object.keys(r),d=0;d<o.length;d+=1){var p=o[d],h=r[p];this[p]!==void 0&&(this[p]=h)}}_t.prototype.encode=function(){return ue.TABLE(this)};_t.prototype.sizeOf=function(){return Re.TABLE(this)};function yl(a,t,r){r===void 0&&(r=t.length);var l=new Array(t.length+1);l[0]={name:a+"Count",type:"USHORT",value:r};for(var u=0;u<t.length;u++)l[u+1]={name:a+u,type:"USHORT",value:t[u]};return l}function Ec(a,t,r){var l=t.length,u=new Array(l+1);u[0]={name:a+"Count",type:"USHORT",value:l};for(var o=0;o<l;o++)u[o+1]={name:a+o,type:"TABLE",value:r(t[o],o)};return u}function bl(a,t,r){var l=t.length,u=[];u[0]={name:a+"Count",type:"USHORT",value:l};for(var o=0;o<l;o++)u=u.concat(r(t[o],o));return u}function qs(a){a.format===1?_t.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(yl("glyph",a.glyphs))):a.format===2?_t.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(bl("rangeRecord",a.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):De.assert(!1,"Coverage format must be 1 or 2.")}qs.prototype=Object.create(_t.prototype);qs.prototype.constructor=qs;function Vs(a){_t.call(this,"scriptListTable",bl("scriptRecord",a,function(t,r){var l=t.script,u=l.defaultLangSys;return De.assert(!!u,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:t.tag},{name:"script"+r,type:"TABLE",value:new _t("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new _t("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:u.reqFeatureIndex}].concat(yl("featureIndex",u.featureIndexes)))}].concat(bl("langSys",l.langSysRecords,function(o,d){var p=o.langSys;return[{name:"langSysTag"+d,type:"TAG",value:o.tag},{name:"langSys"+d,type:"TABLE",value:new _t("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:p.reqFeatureIndex}].concat(yl("featureIndex",p.featureIndexes)))}]})))}]}))}Vs.prototype=Object.create(_t.prototype);Vs.prototype.constructor=Vs;function Xs(a){_t.call(this,"featureListTable",bl("featureRecord",a,function(t,r){var l=t.feature;return[{name:"featureTag"+r,type:"TAG",value:t.tag},{name:"feature"+r,type:"TABLE",value:new _t("featureTable",[{name:"featureParams",type:"USHORT",value:l.featureParams}].concat(yl("lookupListIndex",l.lookupListIndexes)))}]}))}Xs.prototype=Object.create(_t.prototype);Xs.prototype.constructor=Xs;function Zs(a,t){_t.call(this,"lookupListTable",Ec("lookup",a,function(r){var l=t[r.lookupType];return De.assert(!!l,"Unable to write GSUB lookup type "+r.lookupType+" tables."),new _t("lookupTable",[{name:"lookupType",type:"USHORT",value:r.lookupType},{name:"lookupFlag",type:"USHORT",value:r.lookupFlag}].concat(Ec("subtable",r.subtables,l)))}))}Zs.prototype=Object.create(_t.prototype);Zs.prototype.constructor=Zs;var me={Table:_t,Record:_t,Coverage:qs,ScriptList:Vs,FeatureList:Xs,LookupList:Zs,ushortList:yl,tableList:Ec,recordList:bl};function Cp(a,t){return a.getUint8(t)}function Qs(a,t){return a.getUint16(t,!1)}function fy(a,t){return a.getInt16(t,!1)}function Oc(a,t){return a.getUint32(t,!1)}function T0(a,t){var r=a.getInt16(t,!1),l=a.getUint16(t+2,!1);return r+l/65535}function dy(a,t){for(var r="",l=t;l<t+4;l+=1)r+=String.fromCharCode(a.getInt8(l));return r}function hy(a,t,r){for(var l=0,u=0;u<r;u+=1)l<<=8,l+=a.getUint8(t+u);return l}function py(a,t,r){for(var l=[],u=t;u<r;u+=1)l.push(a.getUint8(u));return l}function my(a){for(var t="",r=0;r<a.length;r+=1)t+=String.fromCharCode(a[r]);return t}var vy={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function H(a,t){this.data=a,this.offset=t,this.relativeOffset=0}H.prototype.parseByte=function(){var a=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a};H.prototype.parseChar=function(){var a=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,a};H.prototype.parseCard8=H.prototype.parseByte;H.prototype.parseUShort=function(){var a=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a};H.prototype.parseCard16=H.prototype.parseUShort;H.prototype.parseSID=H.prototype.parseUShort;H.prototype.parseOffset16=H.prototype.parseUShort;H.prototype.parseShort=function(){var a=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,a};H.prototype.parseF2Dot14=function(){var a=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,a};H.prototype.parseULong=function(){var a=Oc(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a};H.prototype.parseOffset32=H.prototype.parseULong;H.prototype.parseFixed=function(){var a=T0(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,a};H.prototype.parseString=function(a){var t=this.data,r=this.offset+this.relativeOffset,l="";this.relativeOffset+=a;for(var u=0;u<a;u++)l+=String.fromCharCode(t.getUint8(r+u));return l};H.prototype.parseTag=function(){return this.parseString(4)};H.prototype.parseLongDateTime=function(){var a=Oc(this.data,this.offset+this.relativeOffset+4);return a-=2082844800,this.relativeOffset+=8,a};H.prototype.parseVersion=function(a){var t=Qs(this.data,this.offset+this.relativeOffset),r=Qs(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,a===void 0&&(a=4096),t+r/a/10};H.prototype.skip=function(a,t){t===void 0&&(t=1),this.relativeOffset+=vy[a]*t};H.prototype.parseULongList=function(a){a===void 0&&(a=this.parseULong());for(var t=new Array(a),r=this.data,l=this.offset+this.relativeOffset,u=0;u<a;u++)t[u]=r.getUint32(l),l+=4;return this.relativeOffset+=a*4,t};H.prototype.parseOffset16List=H.prototype.parseUShortList=function(a){a===void 0&&(a=this.parseUShort());for(var t=new Array(a),r=this.data,l=this.offset+this.relativeOffset,u=0;u<a;u++)t[u]=r.getUint16(l),l+=2;return this.relativeOffset+=a*2,t};H.prototype.parseShortList=function(a){for(var t=new Array(a),r=this.data,l=this.offset+this.relativeOffset,u=0;u<a;u++)t[u]=r.getInt16(l),l+=2;return this.relativeOffset+=a*2,t};H.prototype.parseByteList=function(a){for(var t=new Array(a),r=this.data,l=this.offset+this.relativeOffset,u=0;u<a;u++)t[u]=r.getUint8(l++);return this.relativeOffset+=a,t};H.prototype.parseList=function(a,t){t||(t=a,a=this.parseUShort());for(var r=new Array(a),l=0;l<a;l++)r[l]=t.call(this);return r};H.prototype.parseList32=function(a,t){t||(t=a,a=this.parseULong());for(var r=new Array(a),l=0;l<a;l++)r[l]=t.call(this);return r};H.prototype.parseRecordList=function(a,t){t||(t=a,a=this.parseUShort());for(var r=new Array(a),l=Object.keys(t),u=0;u<a;u++){for(var o={},d=0;d<l.length;d++){var p=l[d],h=t[p];o[p]=h.call(this)}r[u]=o}return r};H.prototype.parseRecordList32=function(a,t){t||(t=a,a=this.parseULong());for(var r=new Array(a),l=Object.keys(t),u=0;u<a;u++){for(var o={},d=0;d<l.length;d++){var p=l[d],h=t[p];o[p]=h.call(this)}r[u]=o}return r};H.prototype.parseStruct=function(a){if(typeof a=="function")return a.call(this);for(var t=Object.keys(a),r={},l=0;l<t.length;l++){var u=t[l],o=a[u];r[u]=o.call(this)}return r};H.prototype.parseValueRecord=function(a){if(a===void 0&&(a=this.parseUShort()),a!==0){var t={};return a&1&&(t.xPlacement=this.parseShort()),a&2&&(t.yPlacement=this.parseShort()),a&4&&(t.xAdvance=this.parseShort()),a&8&&(t.yAdvance=this.parseShort()),a&16&&(t.xPlaDevice=void 0,this.parseShort()),a&32&&(t.yPlaDevice=void 0,this.parseShort()),a&64&&(t.xAdvDevice=void 0,this.parseShort()),a&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};H.prototype.parseValueRecordList=function(){for(var a=this.parseUShort(),t=this.parseUShort(),r=new Array(t),l=0;l<t;l++)r[l]=this.parseValueRecord(a);return r};H.prototype.parsePointer=function(a){var t=this.parseOffset16();if(t>0)return new H(this.data,this.offset+t).parseStruct(a)};H.prototype.parsePointer32=function(a){var t=this.parseOffset32();if(t>0)return new H(this.data,this.offset+t).parseStruct(a)};H.prototype.parseListOfLists=function(a){for(var t=this.parseOffset16List(),r=t.length,l=this.relativeOffset,u=new Array(r),o=0;o<r;o++){var d=t[o];if(d===0){u[o]=void 0;continue}if(this.relativeOffset=d,a){for(var p=this.parseOffset16List(),h=new Array(p.length),m=0;m<p.length;m++)this.relativeOffset=d+p[m],h[m]=a.call(this);u[o]=h}else u[o]=this.parseUShortList()}return this.relativeOffset=l,u};H.prototype.parseCoverage=function(){var a=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(r)};if(t===2){for(var l=new Array(r),u=0;u<r;u++)l[u]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:l}}throw new Error("0x"+a.toString(16)+": Coverage format must be 1 or 2.")};H.prototype.parseClassDef=function(){var a=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:H.uShort,end:H.uShort,classId:H.uShort})};throw new Error("0x"+a.toString(16)+": ClassDef format must be 1 or 2.")};H.list=function(a,t){return function(){return this.parseList(a,t)}};H.list32=function(a,t){return function(){return this.parseList32(a,t)}};H.recordList=function(a,t){return function(){return this.parseRecordList(a,t)}};H.recordList32=function(a,t){return function(){return this.parseRecordList32(a,t)}};H.pointer=function(a){return function(){return this.parsePointer(a)}};H.pointer32=function(a){return function(){return this.parsePointer32(a)}};H.tag=H.prototype.parseTag;H.byte=H.prototype.parseByte;H.uShort=H.offset16=H.prototype.parseUShort;H.uShortList=H.prototype.parseUShortList;H.uLong=H.offset32=H.prototype.parseULong;H.uLongList=H.prototype.parseULongList;H.struct=H.prototype.parseStruct;H.coverage=H.prototype.parseCoverage;H.classDef=H.prototype.parseClassDef;var Mp={reserved:H.uShort,reqFeatureIndex:H.uShort,featureIndexes:H.uShortList};H.prototype.parseScriptList=function(){return this.parsePointer(H.recordList({tag:H.tag,script:H.pointer({defaultLangSys:H.pointer(Mp),langSysRecords:H.recordList({tag:H.tag,langSys:H.pointer(Mp)})})}))||[]};H.prototype.parseFeatureList=function(){return this.parsePointer(H.recordList({tag:H.tag,feature:H.pointer({featureParams:H.offset16,lookupListIndexes:H.uShortList})}))||[]};H.prototype.parseLookupList=function(a){return this.parsePointer(H.list(H.pointer(function(){var t=this.parseUShort();De.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),l=r&16;return{lookupType:t,lookupFlag:r,subtables:this.parseList(H.pointer(a[t])),markFilteringSet:l?this.parseUShort():void 0}})))||[]};H.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var a=this.parseUShort(),t=this.parseUShort();De.argument(a===1&&t<1,"GPOS/GSUB feature variations table unknown.");var r=this.parseRecordList32({conditionSetOffset:H.offset32,featureTableSubstitutionOffset:H.offset32});return r})||[]};var _e={getByte:Cp,getCard8:Cp,getUShort:Qs,getCard16:Qs,getShort:fy,getULong:Oc,getFixed:T0,getTag:dy,getOffset:hy,getBytes:py,bytesToString:my,Parser:H};function gy(a,t){t.parseUShort(),a.length=t.parseULong(),a.language=t.parseULong();var r;a.groupCount=r=t.parseULong(),a.glyphIndexMap={};for(var l=0;l<r;l+=1)for(var u=t.parseULong(),o=t.parseULong(),d=t.parseULong(),p=u;p<=o;p+=1)a.glyphIndexMap[p]=d,d++}function yy(a,t,r,l,u){a.length=t.parseUShort(),a.language=t.parseUShort();var o;a.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),a.glyphIndexMap={};for(var d=new _e.Parser(r,l+u+14),p=new _e.Parser(r,l+u+16+o*2),h=new _e.Parser(r,l+u+16+o*4),m=new _e.Parser(r,l+u+16+o*6),g=l+u+16+o*8,x=0;x<o-1;x+=1)for(var S=void 0,A=d.parseUShort(),D=p.parseUShort(),w=h.parseShort(),F=m.parseUShort(),U=D;U<=A;U+=1)F!==0?(g=m.offset+m.relativeOffset-2,g+=F,g+=(U-D)*2,S=_e.getUShort(r,g),S!==0&&(S=S+w&65535)):S=U+w&65535,a.glyphIndexMap[U]=S}function by(a,t){var r={};r.version=_e.getUShort(a,t),De.argument(r.version===0,"cmap table version should be 0."),r.numTables=_e.getUShort(a,t+2);for(var l=-1,u=r.numTables-1;u>=0;u-=1){var o=_e.getUShort(a,t+4+u*8),d=_e.getUShort(a,t+4+u*8+2);if(o===3&&(d===0||d===1||d===10)||o===0&&(d===0||d===1||d===2||d===3||d===4)){l=_e.getULong(a,t+4+u*8+4);break}}if(l===-1)throw new Error("No valid cmap sub-tables found.");var p=new _e.Parser(a,t+l);if(r.format=p.parseUShort(),r.format===12)gy(r,p);else if(r.format===4)yy(r,p,a,t,l);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");return r}function Sy(a,t,r){a.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}function xy(a){a.segments.push({end:65535,start:65535,delta:1,offset:0})}function Ey(a){var t=!0,r;for(r=a.length-1;r>0;r-=1){var l=a.get(r);if(l.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var u=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(u=u.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),u=u.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new me.Table("cmap",u);for(o.segments=[],r=0;r<a.length;r+=1){for(var d=a.get(r),p=0;p<d.unicodes.length;p+=1)Sy(o,d.unicodes[p],r);o.segments=o.segments.sort(function(Q,V){return Q.start-V.start})}xy(o);var h=o.segments.length,m=0,g=[],x=[],S=[],A=[],D=[],w=[];for(r=0;r<h;r+=1){var F=o.segments[r];F.end<=65535&&F.start<=65535?(g=g.concat({name:"end_"+r,type:"USHORT",value:F.end}),x=x.concat({name:"start_"+r,type:"USHORT",value:F.start}),S=S.concat({name:"idDelta_"+r,type:"SHORT",value:F.delta}),A=A.concat({name:"idRangeOffset_"+r,type:"USHORT",value:F.offset}),F.glyphId!==void 0&&(D=D.concat({name:"glyph_"+r,type:"USHORT",value:F.glyphId}))):m+=1,!t&&F.glyphIndex!==void 0&&(w=w.concat({name:"cmap12Start_"+r,type:"ULONG",value:F.start}),w=w.concat({name:"cmap12End_"+r,type:"ULONG",value:F.end}),w=w.concat({name:"cmap12Glyph_"+r,type:"ULONG",value:F.glyphIndex}))}if(o.segCountX2=(h-m)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(h-m)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(g),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(x),o.fields=o.fields.concat(S),o.fields=o.fields.concat(A),o.fields=o.fields.concat(D),o.cmap4Length=14+g.length*2+2+x.length*2+S.length*2+A.length*2+D.length*2,!t){var U=16+w.length*4;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:U},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:w.length/3}]),o.fields=o.fields.concat(w)}return o}var Ty={parse:by,make:Ey},Ps=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ay=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Cy=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Np=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function A0(a){this.font=a}A0.prototype.charToGlyphIndex=function(a){var t=a.codePointAt(0),r=this.font.glyphs;if(r){for(var l=0;l<r.length;l+=1)for(var u=r.get(l),o=0;o<u.unicodes.length;o+=1)if(u.unicodes[o]===t)return l}return null};function Ks(a,t){this.encoding=a,this.charset=t}Ks.prototype.charToGlyphIndex=function(a){var t=a.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)};function My(a,t,r,l,u){a.beginPath(),a.moveTo(t,r),a.lineTo(l,u),a.stroke()}var Sr={line:My};function Ny(a,t){var r=t||new Ct;return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(l){r=l}}}function Mn(a){this.bindConstructorValues(a)}Mn.prototype.bindConstructorValues=function(a){this.index=a.index||0,this.name=a.name||null,this.unicode=a.unicode||void 0,this.unicodes=a.unicodes||a.unicode!==void 0?[a.unicode]:[],"xMin"in a&&(this.xMin=a.xMin),"yMin"in a&&(this.yMin=a.yMin),"xMax"in a&&(this.xMax=a.xMax),"yMax"in a&&(this.yMax=a.yMax),"advanceWidth"in a&&(this.advanceWidth=a.advanceWidth),Object.defineProperty(this,"path",Ny(this,a.path))};Mn.prototype.addUnicode=function(a){this.unicodes.length===0&&(this.unicode=a),this.unicodes.push(a)};Mn.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Mn.prototype.getPath=function(a,t,r,l,u){a=a!==void 0?a:0,t=t!==void 0?t:0,r=r!==void 0?r:72;var o,d;l||(l={});var p=l.xScale,h=l.yScale;if(l.hinting&&u&&u.hinting&&(d=this.path&&u.hinting.exec(this,r)),d)o=u.hinting.getCommands(d),a=Math.round(a),t=Math.round(t),p=h=1;else{o=this.path.commands;var m=1/(this.path.unitsPerEm||1e3)*r;p===void 0&&(p=m),h===void 0&&(h=m)}for(var g=new Ct,x=0;x<o.length;x+=1){var S=o[x];S.type==="M"?g.moveTo(a+S.x*p,t+-S.y*h):S.type==="L"?g.lineTo(a+S.x*p,t+-S.y*h):S.type==="Q"?g.quadraticCurveTo(a+S.x1*p,t+-S.y1*h,a+S.x*p,t+-S.y*h):S.type==="C"?g.curveTo(a+S.x1*p,t+-S.y1*h,a+S.x2*p,t+-S.y2*h,a+S.x*p,t+-S.y*h):S.type==="Z"&&g.closePath()}return g};Mn.prototype.getContours=function(){if(this.points===void 0)return[];for(var a=[],t=[],r=0;r<this.points.length;r+=1){var l=this.points[r];t.push(l),l.lastPointOfContour&&(a.push(t),t=[])}return De.argument(t.length===0,"There are still points left in the current contour."),a};Mn.prototype.getMetrics=function(){for(var a=this.path.commands,t=[],r=[],l=0;l<a.length;l+=1){var u=a[l];u.type!=="Z"&&(t.push(u.x),r.push(u.y)),(u.type==="Q"||u.type==="C")&&(t.push(u.x1),r.push(u.y1)),u.type==="C"&&(t.push(u.x2),r.push(u.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};Mn.prototype.draw=function(a,t,r,l,u){this.getPath(t,r,l,u).draw(a)};Mn.prototype.drawPoints=function(a,t,r,l){function u(x,S,A,D){a.beginPath();for(var w=0;w<x.length;w+=1)a.moveTo(S+x[w].x*D,A+x[w].y*D),a.arc(S+x[w].x*D,A+x[w].y*D,2,0,Math.PI*2,!1);a.closePath(),a.fill()}t=t!==void 0?t:0,r=r!==void 0?r:0,l=l!==void 0?l:24;for(var o=1/this.path.unitsPerEm*l,d=[],p=[],h=this.path,m=0;m<h.commands.length;m+=1){var g=h.commands[m];g.x!==void 0&&d.push({x:g.x,y:-g.y}),g.x1!==void 0&&p.push({x:g.x1,y:-g.y1}),g.x2!==void 0&&p.push({x:g.x2,y:-g.y2})}a.fillStyle="blue",u(d,t,r,o),a.fillStyle="red",u(p,t,r,o)};Mn.prototype.drawMetrics=function(a,t,r,l){var u;t=t!==void 0?t:0,r=r!==void 0?r:0,l=l!==void 0?l:24,u=1/this.path.unitsPerEm*l,a.lineWidth=1,a.strokeStyle="black",Sr.line(a,t,-1e4,t,1e4),Sr.line(a,-1e4,r,1e4,r);var o=this.xMin||0,d=this.yMin||0,p=this.xMax||0,h=this.yMax||0,m=this.advanceWidth||0;a.strokeStyle="blue",Sr.line(a,t+o*u,-1e4,t+o*u,1e4),Sr.line(a,t+p*u,-1e4,t+p*u,1e4),Sr.line(a,-1e4,r+-d*u,1e4,r+-d*u),Sr.line(a,-1e4,r+-h*u,1e4,r+-h*u),a.strokeStyle="green",Sr.line(a,t+m*u,-1e4,t+m*u,1e4)};function zs(a,t,r){Object.defineProperty(a,t,{get:function(){return a.path,a[r]},set:function(l){a[r]=l},enumerable:!0,configurable:!0})}function Dc(a,t){if(this.font=a,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var l=t[r];l.path.unitsPerEm=a.unitsPerEm,this.glyphs[r]=l}this.length=t&&t.length||0}Dc.prototype.get=function(a){if(this.glyphs[a]===void 0){this.font._push(a),typeof this.glyphs[a]=="function"&&(this.glyphs[a]=this.glyphs[a]());var t=this.glyphs[a],r=this.font._IndexToUnicodeMap[a];if(r)for(var l=0;l<r.unicodes.length;l++)t.addUnicode(r.unicodes[l]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+a:t.name=this.font.cffEncoding.charset[a]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(a)),this.glyphs[a].advanceWidth=this.font._hmtxTableData[a].advanceWidth,this.glyphs[a].leftSideBearing=this.font._hmtxTableData[a].leftSideBearing}else typeof this.glyphs[a]=="function"&&(this.glyphs[a]=this.glyphs[a]());return this.glyphs[a]};Dc.prototype.push=function(a,t){this.glyphs[a]=t,this.length++};function Ry(a,t){return new Mn({index:t,font:a})}function wy(a,t,r,l,u,o){return function(){var d=new Mn({index:t,font:a});return d.path=function(){r(d,l,u);var p=o(a.glyphs,d);return p.unitsPerEm=a.unitsPerEm,p},zs(d,"xMin","_xMin"),zs(d,"xMax","_xMax"),zs(d,"yMin","_yMin"),zs(d,"yMax","_yMax"),d}}function Oy(a,t,r,l){return function(){var u=new Mn({index:t,font:a});return u.path=function(){var o=r(a,u,l);return o.unitsPerEm=a.unitsPerEm,o},u}}var Xn={GlyphSet:Dc,glyphLoader:Ry,ttfGlyphLoader:wy,cffGlyphLoader:Oy};function C0(a,t){if(a===t)return!0;if(Array.isArray(a)&&Array.isArray(t)){if(a.length!==t.length)return!1;for(var r=0;r<a.length;r+=1)if(!C0(a[r],t[r]))return!1;return!0}else return!1}function Tc(a){var t;return a.length<1240?t=107:a.length<33900?t=1131:t=32768,t}function qa(a,t,r){var l=[],u=[],o=_e.getCard16(a,t),d,p;if(o!==0){var h=_e.getByte(a,t+2);d=t+(o+1)*h+2;for(var m=t+3,g=0;g<o+1;g+=1)l.push(_e.getOffset(a,m,h)),m+=h;p=d+l[o]}else p=t+2;for(var x=0;x<l.length-1;x+=1){var S=_e.getBytes(a,d+l[x],d+l[x+1]);r&&(S=r(S)),u.push(S)}return{objects:u,startOffset:t,endOffset:p}}function Dy(a,t){var r=[],l=_e.getCard16(a,t),u,o;if(l!==0){var d=_e.getByte(a,t+2);u=t+(l+1)*d+2;for(var p=t+3,h=0;h<l+1;h+=1)r.push(_e.getOffset(a,p,d)),p+=d;o=u+r[l]}else o=t+2;return{offsets:r,startOffset:t,endOffset:o}}function _y(a,t,r,l,u){var o=_e.getCard16(r,l),d=0;if(o!==0){var p=_e.getByte(r,l+2);d=l+(o+1)*p+2}var h=_e.getBytes(r,d+t[a],d+t[a+1]);return h}function Uy(a){for(var t="",r=15,l=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var u=a.parseByte(),o=u>>4,d=u&15;if(o===r||(t+=l[o],d===r))break;t+=l[d]}return parseFloat(t)}function Ly(a,t){var r,l,u,o;if(t===28)return r=a.parseByte(),l=a.parseByte(),r<<8|l;if(t===29)return r=a.parseByte(),l=a.parseByte(),u=a.parseByte(),o=a.parseByte(),r<<24|l<<16|u<<8|o;if(t===30)return Uy(a);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return r=a.parseByte(),(t-247)*256+r+108;if(t>=251&&t<=254)return r=a.parseByte(),-(t-251)*256-r-108;throw new Error("Invalid b0 "+t)}function ky(a){for(var t={},r=0;r<a.length;r+=1){var l=a[r][0],u=a[r][1],o=void 0;if(u.length===1?o=u[0]:o=u,t.hasOwnProperty(l)&&!isNaN(t[l]))throw new Error("Object "+t+" already has key "+l);t[l]=o}return t}function M0(a,t,r){t=t!==void 0?t:0;var l=new _e.Parser(a,t),u=[],o=[];for(r=r!==void 0?r:a.length;l.relativeOffset<r;){var d=l.parseByte();d<=21?(d===12&&(d=1200+l.parseByte()),u.push([d,o]),o=[]):o.push(Ly(l,d))}return ky(u)}function gl(a,t){return t<=390?t=Ps[t]:t=a[t-391],t}function N0(a,t,r){for(var l={},u,o=0;o<t.length;o+=1){var d=t[o];if(Array.isArray(d.type)){var p=[];p.length=d.type.length;for(var h=0;h<d.type.length;h++)u=a[d.op]!==void 0?a[d.op][h]:void 0,u===void 0&&(u=d.value!==void 0&&d.value[h]!==void 0?d.value[h]:null),d.type[h]==="SID"&&(u=gl(r,u)),p[h]=u;l[d.name]=p}else u=a[d.op],u===void 0&&(u=d.value!==void 0?d.value:null),d.type==="SID"&&(u=gl(r,u)),l[d.name]=u}return l}function By(a,t){var r={};return r.formatMajor=_e.getCard8(a,t),r.formatMinor=_e.getCard8(a,t+1),r.size=_e.getCard8(a,t+2),r.offsetSize=_e.getCard8(a,t+3),r.startOffset=t,r.endOffset=t+4,r}var R0=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],w0=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Iy(a,t){var r=M0(a,0,a.byteLength);return N0(r,R0,t)}function O0(a,t,r,l){var u=M0(a,t,r);return N0(u,w0,l)}function Rp(a,t,r,l){for(var u=[],o=0;o<r.length;o+=1){var d=new DataView(new Uint8Array(r[o]).buffer),p=Iy(d,l);p._subrs=[],p._subrsBias=0,p._defaultWidthX=0,p._nominalWidthX=0;var h=p.private[0],m=p.private[1];if(h!==0&&m!==0){var g=O0(a,m+t,h,l);if(p._defaultWidthX=g.defaultWidthX,p._nominalWidthX=g.nominalWidthX,g.subrs!==0){var x=m+g.subrs,S=qa(a,x+t);p._subrs=S.objects,p._subrsBias=Tc(p._subrs)}p._privateDict=g}u.push(p)}return u}function Fy(a,t,r,l){var u,o,d=new _e.Parser(a,t);r-=1;var p=[".notdef"],h=d.parseCard8();if(h===0)for(var m=0;m<r;m+=1)u=d.parseSID(),p.push(gl(l,u));else if(h===1)for(;p.length<=r;){u=d.parseSID(),o=d.parseCard8();for(var g=0;g<=o;g+=1)p.push(gl(l,u)),u+=1}else if(h===2)for(;p.length<=r;){u=d.parseSID(),o=d.parseCard16();for(var x=0;x<=o;x+=1)p.push(gl(l,u)),u+=1}else throw new Error("Unknown charset format "+h);return p}function Gy(a,t,r){var l,u={},o=new _e.Parser(a,t),d=o.parseCard8();if(d===0)for(var p=o.parseCard8(),h=0;h<p;h+=1)l=o.parseCard8(),u[l]=h;else if(d===1){var m=o.parseCard8();l=1;for(var g=0;g<m;g+=1)for(var x=o.parseCard8(),S=o.parseCard8(),A=x;A<=x+S;A+=1)u[A]=l,l+=1}else throw new Error("Unknown encoding format "+d);return new Ks(u,r)}function wp(a,t,r){var l,u,o,d,p=new Ct,h=[],m=0,g=!1,x=!1,S=0,A=0,D,w,F,U;if(a.isCIDFont){var Q=a.tables.cff.topDict._fdSelect[t.index],V=a.tables.cff.topDict._fdArray[Q];D=V._subrs,w=V._subrsBias,F=V._defaultWidthX,U=V._nominalWidthX}else D=a.tables.cff.topDict._subrs,w=a.tables.cff.topDict._subrsBias,F=a.tables.cff.topDict._defaultWidthX,U=a.tables.cff.topDict._nominalWidthX;var te=F;function W(Ee,ge){x&&p.closePath(),p.moveTo(Ee,ge),x=!0}function oe(){var Ee;Ee=h.length%2!==0,Ee&&!g&&(te=h.shift()+U),m+=h.length>>1,h.length=0,g=!0}function xe(Ee){for(var ge,we,je,ve,P,le,ne,C,X,ie,Te,T,z=0;z<Ee.length;){var $=Ee[z];switch(z+=1,$){case 1:oe();break;case 3:oe();break;case 4:h.length>1&&!g&&(te=h.shift()+U,g=!0),A+=h.pop(),W(S,A);break;case 5:for(;h.length>0;)S+=h.shift(),A+=h.shift(),p.lineTo(S,A);break;case 6:for(;h.length>0&&(S+=h.shift(),p.lineTo(S,A),h.length!==0);)A+=h.shift(),p.lineTo(S,A);break;case 7:for(;h.length>0&&(A+=h.shift(),p.lineTo(S,A),h.length!==0);)S+=h.shift(),p.lineTo(S,A);break;case 8:for(;h.length>0;)l=S+h.shift(),u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),S=o+h.shift(),A=d+h.shift(),p.curveTo(l,u,o,d,S,A);break;case 10:P=h.pop()+w,le=D[P],le&&xe(le);break;case 11:return;case 12:switch($=Ee[z],z+=1,$){case 35:l=S+h.shift(),u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),ne=o+h.shift(),C=d+h.shift(),X=ne+h.shift(),ie=C+h.shift(),Te=X+h.shift(),T=ie+h.shift(),S=Te+h.shift(),A=T+h.shift(),h.shift(),p.curveTo(l,u,o,d,ne,C),p.curveTo(X,ie,Te,T,S,A);break;case 34:l=S+h.shift(),u=A,o=l+h.shift(),d=u+h.shift(),ne=o+h.shift(),C=d,X=ne+h.shift(),ie=d,Te=X+h.shift(),T=A,S=Te+h.shift(),p.curveTo(l,u,o,d,ne,C),p.curveTo(X,ie,Te,T,S,A);break;case 36:l=S+h.shift(),u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),ne=o+h.shift(),C=d,X=ne+h.shift(),ie=d,Te=X+h.shift(),T=ie+h.shift(),S=Te+h.shift(),p.curveTo(l,u,o,d,ne,C),p.curveTo(X,ie,Te,T,S,A);break;case 37:l=S+h.shift(),u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),ne=o+h.shift(),C=d+h.shift(),X=ne+h.shift(),ie=C+h.shift(),Te=X+h.shift(),T=ie+h.shift(),Math.abs(Te-S)>Math.abs(T-A)?S=Te+h.shift():A=T+h.shift(),p.curveTo(l,u,o,d,ne,C),p.curveTo(X,ie,Te,T,S,A);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+$),h.length=0}break;case 14:h.length>0&&!g&&(te=h.shift()+U,g=!0),x&&(p.closePath(),x=!1);break;case 18:oe();break;case 19:case 20:oe(),z+=m+7>>3;break;case 21:h.length>2&&!g&&(te=h.shift()+U,g=!0),A+=h.pop(),S+=h.pop(),W(S,A);break;case 22:h.length>1&&!g&&(te=h.shift()+U,g=!0),S+=h.pop(),W(S,A);break;case 23:oe();break;case 24:for(;h.length>2;)l=S+h.shift(),u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),S=o+h.shift(),A=d+h.shift(),p.curveTo(l,u,o,d,S,A);S+=h.shift(),A+=h.shift(),p.lineTo(S,A);break;case 25:for(;h.length>6;)S+=h.shift(),A+=h.shift(),p.lineTo(S,A);l=S+h.shift(),u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),S=o+h.shift(),A=d+h.shift(),p.curveTo(l,u,o,d,S,A);break;case 26:for(h.length%2&&(S+=h.shift());h.length>0;)l=S,u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),S=o,A=d+h.shift(),p.curveTo(l,u,o,d,S,A);break;case 27:for(h.length%2&&(A+=h.shift());h.length>0;)l=S+h.shift(),u=A,o=l+h.shift(),d=u+h.shift(),S=o+h.shift(),A=d,p.curveTo(l,u,o,d,S,A);break;case 28:ge=Ee[z],we=Ee[z+1],h.push((ge<<24|we<<16)>>16),z+=2;break;case 29:P=h.pop()+a.gsubrsBias,le=a.gsubrs[P],le&&xe(le);break;case 30:for(;h.length>0&&(l=S,u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),S=o+h.shift(),A=d+(h.length===1?h.shift():0),p.curveTo(l,u,o,d,S,A),h.length!==0);)l=S+h.shift(),u=A,o=l+h.shift(),d=u+h.shift(),A=d+h.shift(),S=o+(h.length===1?h.shift():0),p.curveTo(l,u,o,d,S,A);break;case 31:for(;h.length>0&&(l=S+h.shift(),u=A,o=l+h.shift(),d=u+h.shift(),A=d+h.shift(),S=o+(h.length===1?h.shift():0),p.curveTo(l,u,o,d,S,A),h.length!==0);)l=S,u=A+h.shift(),o=l+h.shift(),d=u+h.shift(),S=o+h.shift(),A=d+(h.length===1?h.shift():0),p.curveTo(l,u,o,d,S,A);break;default:$<32?console.log("Glyph "+t.index+": unknown operator "+$):$<247?h.push($-139):$<251?(ge=Ee[z],z+=1,h.push(($-247)*256+ge+108)):$<255?(ge=Ee[z],z+=1,h.push(-($-251)*256-ge-108)):(ge=Ee[z],we=Ee[z+1],je=Ee[z+2],ve=Ee[z+3],z+=4,h.push((ge<<24|we<<16|je<<8|ve)/65536))}}}return xe(r),t.advanceWidth=te,p}function zy(a,t,r,l){var u=[],o,d=new _e.Parser(a,t),p=d.parseCard8();if(p===0)for(var h=0;h<r;h++){if(o=d.parseCard8(),o>=l)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+l+")");u.push(o)}else if(p===3){var m=d.parseCard16(),g=d.parseCard16();if(g!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+g);for(var x,S=0;S<m;S++){if(o=d.parseCard8(),x=d.parseCard16(),o>=l)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+l+")");if(x>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+x);for(;g<x;g++)u.push(o);g=x}if(x!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+x)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+p);return u}function Hy(a,t,r,l){r.tables.cff={};var u=By(a,t),o=qa(a,u.endOffset,_e.bytesToString),d=qa(a,o.endOffset),p=qa(a,d.endOffset,_e.bytesToString),h=qa(a,p.endOffset);r.gsubrs=h.objects,r.gsubrsBias=Tc(r.gsubrs);var m=Rp(a,t,d.objects,p.objects);if(m.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+m.length);var g=m[0];if(r.tables.cff.topDict=g,g._privateDict&&(r.defaultWidthX=g._privateDict.defaultWidthX,r.nominalWidthX=g._privateDict.nominalWidthX),g.ros[0]!==void 0&&g.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var x=g.fdArray,S=g.fdSelect;if(x===0||S===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");x+=t;var A=qa(a,x),D=Rp(a,t,A.objects,p.objects);g._fdArray=D,S+=t,g._fdSelect=zy(a,S,r.numGlyphs,D.length)}var w=t+g.private[1],F=O0(a,w,g.private[0],p.objects);if(r.defaultWidthX=F.defaultWidthX,r.nominalWidthX=F.nominalWidthX,F.subrs!==0){var U=w+F.subrs,Q=qa(a,U);r.subrs=Q.objects,r.subrsBias=Tc(r.subrs)}else r.subrs=[],r.subrsBias=0;var V;l.lowMemory?(V=Dy(a,t+g.charStrings),r.nGlyphs=V.offsets.length):(V=qa(a,t+g.charStrings),r.nGlyphs=V.objects.length);var te=Fy(a,t+g.charset,r.nGlyphs,p.objects);if(g.encoding===0?r.cffEncoding=new Ks(Ay,te):g.encoding===1?r.cffEncoding=new Ks(Cy,te):r.cffEncoding=Gy(a,t+g.encoding,te),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new Xn.GlyphSet(r),l.lowMemory)r._push=function(xe){var Ee=_y(xe,V.offsets,a,t+g.charStrings);r.glyphs.push(xe,Xn.cffGlyphLoader(r,xe,wp,Ee))};else for(var W=0;W<r.nGlyphs;W+=1){var oe=V.objects[W];r.glyphs.push(W,Xn.cffGlyphLoader(r,W,wp,oe))}}function D0(a,t){var r,l=Ps.indexOf(a);return l>=0&&(r=l),l=t.indexOf(a),l>=0?r=l+Ps.length:(r=Ps.length+t.length,t.push(a)),r}function jy(){return new me.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Py(a){var t=new me.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<a.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:a[r]});return t}function _0(a,t,r){for(var l={},u=0;u<a.length;u+=1){var o=a[u],d=t[o.name];d!==void 0&&!C0(d,o.value)&&(o.type==="SID"&&(d=D0(d,r)),l[o.op]={name:o.name,type:o.type,value:d})}return l}function Op(a,t){var r=new me.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=_0(R0,a,t),r}function Dp(a){var t=new me.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:a}],t}function Yy(a){var t=new me.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<a.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:a[r]});return t}function qy(){return new me.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Vy(a,t){for(var r=new me.Record("Charsets",[{name:"format",type:"Card8",value:0}]),l=0;l<a.length;l+=1){var u=a[l],o=D0(u,t);r.fields.push({name:"glyph_"+l,type:"SID",value:o})}return r}function Xy(a){var t=[],r=a.path;t.push({name:"width",type:"NUMBER",value:a.advanceWidth});for(var l=0,u=0,o=0;o<r.commands.length;o+=1){var d=void 0,p=void 0,h=r.commands[o];if(h.type==="Q"){var m=.3333333333333333,g=2/3;h={type:"C",x:h.x,y:h.y,x1:Math.round(m*l+g*h.x1),y1:Math.round(m*u+g*h.y1),x2:Math.round(m*h.x+g*h.x1),y2:Math.round(m*h.y+g*h.y1)}}if(h.type==="M")d=Math.round(h.x-l),p=Math.round(h.y-u),t.push({name:"dx",type:"NUMBER",value:d}),t.push({name:"dy",type:"NUMBER",value:p}),t.push({name:"rmoveto",type:"OP",value:21}),l=Math.round(h.x),u=Math.round(h.y);else if(h.type==="L")d=Math.round(h.x-l),p=Math.round(h.y-u),t.push({name:"dx",type:"NUMBER",value:d}),t.push({name:"dy",type:"NUMBER",value:p}),t.push({name:"rlineto",type:"OP",value:5}),l=Math.round(h.x),u=Math.round(h.y);else if(h.type==="C"){var x=Math.round(h.x1-l),S=Math.round(h.y1-u),A=Math.round(h.x2-h.x1),D=Math.round(h.y2-h.y1);d=Math.round(h.x-h.x2),p=Math.round(h.y-h.y2),t.push({name:"dx1",type:"NUMBER",value:x}),t.push({name:"dy1",type:"NUMBER",value:S}),t.push({name:"dx2",type:"NUMBER",value:A}),t.push({name:"dy2",type:"NUMBER",value:D}),t.push({name:"dx",type:"NUMBER",value:d}),t.push({name:"dy",type:"NUMBER",value:p}),t.push({name:"rrcurveto",type:"OP",value:8}),l=Math.round(h.x),u=Math.round(h.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function Zy(a){for(var t=new me.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<a.length;r+=1){var l=a.get(r),u=Xy(l);t.charStrings.push({name:l.name,type:"CHARSTRING",value:u})}return t}function Qy(a,t){var r=new me.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=_0(w0,a,t),r}function Ky(a,t){for(var r=new me.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),l=1/t.unitsPerEm,u={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[l,0,0,l,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},d=[],p,h=1;h<a.length;h+=1)p=a.get(h),d.push(p.name);var m=[];r.header=jy(),r.nameIndex=Py([t.postScriptName]);var g=Op(u,m);r.topDictIndex=Dp(g),r.globalSubrIndex=qy(),r.charsets=Vy(d,m),r.charStringsIndex=Zy(a),r.privateDict=Qy(o,m),r.stringIndex=Yy(m);var x=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return u.charset=x,u.encoding=0,u.charStrings=u.charset+r.charsets.sizeOf(),u.private[1]=u.charStrings+r.charStringsIndex.sizeOf(),g=Op(u,m),r.topDictIndex=Dp(g),r}var Wy={parse:Hy,make:Ky};function Jy(a,t){var r={},l=new _e.Parser(a,t);return r.version=l.parseVersion(),r.fontRevision=Math.round(l.parseFixed()*1e3)/1e3,r.checkSumAdjustment=l.parseULong(),r.magicNumber=l.parseULong(),De.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=l.parseUShort(),r.unitsPerEm=l.parseUShort(),r.created=l.parseLongDateTime(),r.modified=l.parseLongDateTime(),r.xMin=l.parseShort(),r.yMin=l.parseShort(),r.xMax=l.parseShort(),r.yMax=l.parseShort(),r.macStyle=l.parseUShort(),r.lowestRecPPEM=l.parseUShort(),r.fontDirectionHint=l.parseShort(),r.indexToLocFormat=l.parseShort(),r.glyphDataFormat=l.parseShort(),r}function $y(a){var t=Math.round(new Date().getTime()/1e3)+2082844800,r=t;return a.createdTimestamp&&(r=a.createdTimestamp+2082844800),new me.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],a)}var e1={parse:Jy,make:$y};function t1(a,t){var r={},l=new _e.Parser(a,t);return r.version=l.parseVersion(),r.ascender=l.parseShort(),r.descender=l.parseShort(),r.lineGap=l.parseShort(),r.advanceWidthMax=l.parseUShort(),r.minLeftSideBearing=l.parseShort(),r.minRightSideBearing=l.parseShort(),r.xMaxExtent=l.parseShort(),r.caretSlopeRise=l.parseShort(),r.caretSlopeRun=l.parseShort(),r.caretOffset=l.parseShort(),l.relativeOffset+=8,r.metricDataFormat=l.parseShort(),r.numberOfHMetrics=l.parseUShort(),r}function n1(a){return new me.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],a)}var a1={parse:t1,make:n1};function r1(a,t,r,l,u){for(var o,d,p=new _e.Parser(a,t),h=0;h<l;h+=1){h<r&&(o=p.parseUShort(),d=p.parseShort());var m=u.get(h);m.advanceWidth=o,m.leftSideBearing=d}}function i1(a,t,r,l,u){a._hmtxTableData={};for(var o,d,p=new _e.Parser(t,r),h=0;h<u;h+=1)h<l&&(o=p.parseUShort(),d=p.parseShort()),a._hmtxTableData[h]={advanceWidth:o,leftSideBearing:d}}function l1(a,t,r,l,u,o,d){d.lowMemory?i1(a,t,r,l,u):r1(t,r,l,u,o)}function s1(a){for(var t=new me.Table("hmtx",[]),r=0;r<a.length;r+=1){var l=a.get(r),u=l.advanceWidth||0,o=l.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:u}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}var u1={parse:l1,make:s1};function o1(a){for(var t=new me.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:a.length}]),r="",l=12+a.length*4,u=0;u<a.length;++u){var o=r.indexOf(a[u]);o<0&&(o=r.length,r+=a[u]),t.fields.push({name:"offset "+u,type:"USHORT",value:l+o}),t.fields.push({name:"length "+u,type:"USHORT",value:a[u].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function c1(a,t){var r=new _e.Parser(a,t),l=r.parseULong();De.argument(l===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var u=r.parseULong(),o=[],d=0;d<u;d++){for(var p="",h=t+r.parseUShort(),m=r.parseUShort(),g=h;g<h+m;++g)p+=String.fromCharCode(a.getInt8(g));o.push(p)}return o}var f1={make:o1,parse:c1};function d1(a,t){var r={},l=new _e.Parser(a,t);return r.version=l.parseVersion(),r.numGlyphs=l.parseUShort(),r.version===1&&(r.maxPoints=l.parseUShort(),r.maxContours=l.parseUShort(),r.maxCompositePoints=l.parseUShort(),r.maxCompositeContours=l.parseUShort(),r.maxZones=l.parseUShort(),r.maxTwilightPoints=l.parseUShort(),r.maxStorage=l.parseUShort(),r.maxFunctionDefs=l.parseUShort(),r.maxInstructionDefs=l.parseUShort(),r.maxStackElements=l.parseUShort(),r.maxSizeOfInstructions=l.parseUShort(),r.maxComponentElements=l.parseUShort(),r.maxComponentDepth=l.parseUShort()),r}function h1(a){return new me.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:a}])}var p1={parse:d1,make:h1},U0=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],L0={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},m1={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},k0={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function v1(a,t,r){switch(a){case 0:if(t===65535)return"und";if(r)return r[t];break;case 1:return L0[t];case 3:return k0[t]}}var Ac="utf-16",g1={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},y1={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function B0(a,t,r){switch(a){case 0:return Ac;case 1:return y1[r]||g1[t];case 3:if(t===1||t===10)return Ac;break}}function b1(a,t,r){for(var l={},u=new _e.Parser(a,t),o=u.parseUShort(),d=u.parseUShort(),p=u.offset+u.parseUShort(),h=0;h<d;h++){var m=u.parseUShort(),g=u.parseUShort(),x=u.parseUShort(),S=u.parseUShort(),A=U0[S]||S,D=u.parseUShort(),w=u.parseUShort(),F=v1(m,x,r),U=B0(m,g,x);if(U!==void 0&&F!==void 0){var Q=void 0;if(U===Ac?Q=fi.UTF16(a,p+w,D):Q=fi.MACSTRING(a,p+w,D,U),Q){var V=l[A];V===void 0&&(V=l[A]={}),V[F]=Q}}}return o===1&&u.parseUShort(),l}function fc(a){var t={};for(var r in a)t[a[r]]=parseInt(r);return t}function _p(a,t,r,l,u,o){return new me.Record("NameRecord",[{name:"platformID",type:"USHORT",value:a},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:l},{name:"length",type:"USHORT",value:u},{name:"offset",type:"USHORT",value:o}])}function S1(a,t){var r=a.length,l=t.length-r+1;e:for(var u=0;u<l;u++)for(;u<l;u++){for(var o=0;o<r;o++)if(t[u+o]!==a[o])continue e;return u}return-1}function Up(a,t){var r=S1(a,t);if(r<0){r=t.length;for(var l=0,u=a.length;l<u;++l)t.push(a[l])}return r}function x1(a,t){var r,l=[],u={},o=fc(U0);for(var d in a){var p=o[d];if(p===void 0&&(p=d),r=parseInt(p),isNaN(r))throw new Error('Name table entry "'+d+'" does not exist, see nameTableNames for complete list.');u[r]=a[d],l.push(r)}for(var h=fc(L0),m=fc(k0),g=[],x=[],S=0;S<l.length;S++){r=l[S];var A=u[r];for(var D in A){var w=A[D],F=1,U=h[D],Q=m1[U],V=B0(F,Q,U),te=ue.MACSTRING(w,V);te===void 0&&(F=0,U=t.indexOf(D),U<0&&(U=t.length,t.push(D)),Q=4,te=ue.UTF16(w));var W=Up(te,x);g.push(_p(F,Q,U,r,te.length,W));var oe=m[D];if(oe!==void 0){var xe=ue.UTF16(w),Ee=Up(xe,x);g.push(_p(3,1,oe,r,xe.length,Ee))}}}g.sort(function(je,ve){return je.platformID-ve.platformID||je.encodingID-ve.encodingID||je.languageID-ve.languageID||je.nameID-ve.nameID});for(var ge=new me.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:g.length},{name:"stringOffset",type:"USHORT",value:6+g.length*12}]),we=0;we<g.length;we++)ge.fields.push({name:"record_"+we,type:"RECORD",value:g[we]});return ge.fields.push({name:"strings",type:"LITERAL",value:x}),ge}var E1={parse:b1,make:x1},Cc=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function T1(a){for(var t=0;t<Cc.length;t+=1){var r=Cc[t];if(a>=r.begin&&a<r.end)return t}return-1}function A1(a,t){var r={},l=new _e.Parser(a,t);r.version=l.parseUShort(),r.xAvgCharWidth=l.parseShort(),r.usWeightClass=l.parseUShort(),r.usWidthClass=l.parseUShort(),r.fsType=l.parseUShort(),r.ySubscriptXSize=l.parseShort(),r.ySubscriptYSize=l.parseShort(),r.ySubscriptXOffset=l.parseShort(),r.ySubscriptYOffset=l.parseShort(),r.ySuperscriptXSize=l.parseShort(),r.ySuperscriptYSize=l.parseShort(),r.ySuperscriptXOffset=l.parseShort(),r.ySuperscriptYOffset=l.parseShort(),r.yStrikeoutSize=l.parseShort(),r.yStrikeoutPosition=l.parseShort(),r.sFamilyClass=l.parseShort(),r.panose=[];for(var u=0;u<10;u++)r.panose[u]=l.parseByte();return r.ulUnicodeRange1=l.parseULong(),r.ulUnicodeRange2=l.parseULong(),r.ulUnicodeRange3=l.parseULong(),r.ulUnicodeRange4=l.parseULong(),r.achVendID=String.fromCharCode(l.parseByte(),l.parseByte(),l.parseByte(),l.parseByte()),r.fsSelection=l.parseUShort(),r.usFirstCharIndex=l.parseUShort(),r.usLastCharIndex=l.parseUShort(),r.sTypoAscender=l.parseShort(),r.sTypoDescender=l.parseShort(),r.sTypoLineGap=l.parseShort(),r.usWinAscent=l.parseUShort(),r.usWinDescent=l.parseUShort(),r.version>=1&&(r.ulCodePageRange1=l.parseULong(),r.ulCodePageRange2=l.parseULong()),r.version>=2&&(r.sxHeight=l.parseShort(),r.sCapHeight=l.parseShort(),r.usDefaultChar=l.parseUShort(),r.usBreakChar=l.parseUShort(),r.usMaxContent=l.parseUShort()),r}function C1(a){return new me.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],a)}var Lp={parse:A1,make:C1,unicodeRanges:Cc,getUnicodeRange:T1};function M1(a,t){var r={},l=new _e.Parser(a,t);switch(r.version=l.parseVersion(),r.italicAngle=l.parseFixed(),r.underlinePosition=l.parseShort(),r.underlineThickness=l.parseShort(),r.isFixedPitch=l.parseULong(),r.minMemType42=l.parseULong(),r.maxMemType42=l.parseULong(),r.minMemType1=l.parseULong(),r.maxMemType1=l.parseULong(),r.version){case 1:r.names=Np.slice();break;case 2:r.numberOfGlyphs=l.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var u=0;u<r.numberOfGlyphs;u++)r.glyphNameIndex[u]=l.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=Np.length){var d=l.parseChar();r.names.push(l.parseString(d))}break;case 2.5:r.numberOfGlyphs=l.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var p=0;p<r.numberOfGlyphs;p++)r.offset[p]=l.parseChar();break}return r}function N1(){return new me.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var R1={parse:M1,make:N1},Ln=new Array(9);Ln[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(H.coverage),deltaGlyphId:this.parseUShort()};if(r===2)return{substFormat:2,coverage:this.parsePointer(H.coverage),substitute:this.parseOffset16List()};De.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};Ln[2]=function(){var t=this.parseUShort();return De.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(H.coverage),sequences:this.parseListOfLists()}};Ln[3]=function(){var t=this.parseUShort();return De.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(H.coverage),alternateSets:this.parseListOfLists()}};Ln[4]=function(){var t=this.parseUShort();return De.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(H.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var ci={sequenceIndex:H.uShort,lookupListIndex:H.uShort};Ln[5]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:r,coverage:this.parsePointer(H.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),d=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(d,ci)}})};if(r===2)return{substFormat:r,coverage:this.parsePointer(H.coverage),classDef:this.parsePointer(H.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),d=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(d,ci)}})};if(r===3){var l=this.parseUShort(),u=this.parseUShort();return{substFormat:r,coverages:this.parseList(l,H.pointer(H.coverage)),lookupRecords:this.parseRecordList(u,ci)}}De.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Ln[6]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(H.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ci)}})};if(r===2)return{substFormat:2,coverage:this.parsePointer(H.coverage),backtrackClassDef:this.parsePointer(H.classDef),inputClassDef:this.parsePointer(H.classDef),lookaheadClassDef:this.parsePointer(H.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ci)}})};if(r===3)return{substFormat:3,backtrackCoverage:this.parseList(H.pointer(H.coverage)),inputCoverage:this.parseList(H.pointer(H.coverage)),lookaheadCoverage:this.parseList(H.pointer(H.coverage)),lookupRecords:this.parseRecordList(ci)};De.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Ln[7]=function(){var t=this.parseUShort();De.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.parseUShort(),l=new H(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:r,extension:Ln[r].call(l)}};Ln[8]=function(){var t=this.parseUShort();return De.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(H.coverage),backtrackCoverage:this.parseList(H.pointer(H.coverage)),lookaheadCoverage:this.parseList(H.pointer(H.coverage)),substitutes:this.parseUShortList()}};function w1(a,t){t=t||0;var r=new H(a,t),l=r.parseVersion(1);return De.argument(l===1||l===1.1,"Unsupported GSUB table version."),l===1?{version:l,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Ln)}:{version:l,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Ln),variations:r.parseFeatureVariationsList()}}var di=new Array(9);di[1]=function(t){return t.substFormat===1?new me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new me.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new me.Coverage(t.coverage)}].concat(me.ushortList("substitute",t.substitute)))};di[2]=function(t){return De.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new me.Coverage(t.coverage)}].concat(me.tableList("seqSet",t.sequences,function(r){return new me.Table("sequenceSetTable",me.ushortList("sequence",r))})))};di[3]=function(t){return De.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new me.Coverage(t.coverage)}].concat(me.tableList("altSet",t.alternateSets,function(r){return new me.Table("alternateSetTable",me.ushortList("alternate",r))})))};di[4]=function(t){return De.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new me.Coverage(t.coverage)}].concat(me.tableList("ligSet",t.ligatureSets,function(r){return new me.Table("ligatureSetTable",me.tableList("ligature",r,function(l){return new me.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:l.ligGlyph}].concat(me.ushortList("component",l.components,l.components.length+1)))}))})))};di[6]=function(t){if(t.substFormat===1){var r=new me.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new me.Coverage(t.coverage)}].concat(me.tableList("chainRuleSet",t.chainRuleSets,function(o){return new me.Table("chainRuleSetTable",me.tableList("chainRule",o,function(d){var p=me.ushortList("backtrackGlyph",d.backtrack,d.backtrack.length).concat(me.ushortList("inputGlyph",d.input,d.input.length+1)).concat(me.ushortList("lookaheadGlyph",d.lookahead,d.lookahead.length)).concat(me.ushortList("substitution",[],d.lookupRecords.length));return d.lookupRecords.forEach(function(h,m){p=p.concat({name:"sequenceIndex"+m,type:"USHORT",value:h.sequenceIndex}).concat({name:"lookupListIndex"+m,type:"USHORT",value:h.lookupListIndex})}),new me.Table("chainRuleTable",p)}))})));return r}else if(t.substFormat===2)De.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var l=[{name:"substFormat",type:"USHORT",value:t.substFormat}];l.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(o,d){l.push({name:"backtrackCoverage"+d,type:"TABLE",value:new me.Coverage(o)})}),l.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(o,d){l.push({name:"inputCoverage"+d,type:"TABLE",value:new me.Coverage(o)})}),l.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(o,d){l.push({name:"lookaheadCoverage"+d,type:"TABLE",value:new me.Coverage(o)})}),l.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(o,d){l=l.concat({name:"sequenceIndex"+d,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+d,type:"USHORT",value:o.lookupListIndex})});var u=new me.Table("chainContextTable",l);return u}De.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function O1(a){return new me.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new me.ScriptList(a.scripts)},{name:"features",type:"TABLE",value:new me.FeatureList(a.features)},{name:"lookups",type:"TABLE",value:new me.LookupList(a.lookups,di)}])}var D1={parse:w1,make:O1};function _1(a,t){var r=new _e.Parser(a,t),l=r.parseULong();De.argument(l===1,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var u=r.parseULong(),o={},d=0;d<u;d++){var p=r.parseTag(),h=r.parseULong(),m=r.parseULong(),g=fi.UTF8(a,t+h,m);o[p]=g}return o}function U1(a){var t=Object.keys(a).length,r="",l=16+t*12,u=new me.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:l},{name:"numTags",type:"ULONG",value:t}]);for(var o in a){var d=r.length;r+=a[o],u.fields.push({name:"tag "+o,type:"TAG",value:o}),u.fields.push({name:"offset "+o,type:"ULONG",value:l+d}),u.fields.push({name:"length "+o,type:"ULONG",value:a[o].length})}return u.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),u}var L1={parse:_1,make:U1};function kp(a){return Math.log(a)/Math.log(2)|0}function _c(a){for(;a.length%4!==0;)a.push(0);for(var t=0,r=0;r<a.length;r+=4)t+=(a[r]<<24)+(a[r+1]<<16)+(a[r+2]<<8)+a[r+3];return t%=Math.pow(2,32),t}function Bp(a,t,r,l){return new me.Record("Table Record",[{name:"tag",type:"TAG",value:a!==void 0?a:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:l!==void 0?l:0}])}function I0(a){var t=new me.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=a,t.numTables=a.length;var r=Math.pow(2,kp(t.numTables));t.searchRange=16*r,t.entrySelector=kp(r),t.rangeShift=t.numTables*16-t.searchRange;for(var l=[],u=[],o=t.sizeOf()+Bp().sizeOf()*t.numTables;o%4!==0;)o+=1,u.push({name:"padding",type:"BYTE",value:0});for(var d=0;d<a.length;d+=1){var p=a[d];De.argument(p.tableName.length===4,"Table name"+p.tableName+" is invalid.");var h=p.sizeOf(),m=Bp(p.tableName,_c(p.encode()),o,h);for(l.push({name:m.tag+" Table Record",type:"RECORD",value:m}),u.push({name:p.tableName+" table",type:"RECORD",value:p}),o+=h,De.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,u.push({name:"padding",type:"BYTE",value:0})}return l.sort(function(g,x){return g.value.tag>x.value.tag?1:-1}),t.fields=t.fields.concat(l),t.fields=t.fields.concat(u),t}function Ip(a,t,r){for(var l=0;l<t.length;l+=1){var u=a.charToGlyphIndex(t[l]);if(u>0){var o=a.glyphs.get(u);return o.getMetrics()}}return r}function k1(a){for(var t=0,r=0;r<a.length;r+=1)t+=a[r];return t/a.length}function B1(a){for(var t=[],r=[],l=[],u=[],o=[],d=[],p=[],h,m=0,g=0,x=0,S=0,A=0,D=0;D<a.glyphs.length;D+=1){var w=a.glyphs.get(D),F=w.unicode|0;if(isNaN(w.advanceWidth))throw new Error("Glyph "+w.name+" ("+D+"): advanceWidth is not a number.");(h>F||h===void 0)&&F>0&&(h=F),m<F&&(m=F);var U=Lp.getUnicodeRange(F);if(U<32)g|=1<<U;else if(U<64)x|=1<<U-32;else if(U<96)S|=1<<U-64;else if(U<123)A|=1<<U-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(w.name!==".notdef"){var Q=w.getMetrics();t.push(Q.xMin),r.push(Q.yMin),l.push(Q.xMax),u.push(Q.yMax),d.push(Q.leftSideBearing),p.push(Q.rightSideBearing),o.push(w.advanceWidth)}}var V={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,l),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:k1(o),minLeftSideBearing:Math.min.apply(null,d),maxLeftSideBearing:Math.max.apply(null,d),minRightSideBearing:Math.min.apply(null,p)};V.ascender=a.ascender,V.descender=a.descender;var te=e1.make({flags:3,unitsPerEm:a.unitsPerEm,xMin:V.xMin,yMin:V.yMin,xMax:V.xMax,yMax:V.yMax,lowestRecPPEM:3,createdTimestamp:a.createdTimestamp}),W=a1.make({ascender:V.ascender,descender:V.descender,advanceWidthMax:V.advanceWidthMax,minLeftSideBearing:V.minLeftSideBearing,minRightSideBearing:V.minRightSideBearing,xMaxExtent:V.maxLeftSideBearing+(V.xMax-V.xMin),numberOfHMetrics:a.glyphs.length}),oe=p1.make(a.glyphs.length),xe=Lp.make(Object.assign({xAvgCharWidth:Math.round(V.advanceWidthAvg),usFirstCharIndex:h,usLastCharIndex:m,ulUnicodeRange1:g,ulUnicodeRange2:x,ulUnicodeRange3:S,ulUnicodeRange4:A,sTypoAscender:V.ascender,sTypoDescender:V.descender,sTypoLineGap:0,usWinAscent:V.yMax,usWinDescent:Math.abs(V.yMin),ulCodePageRange1:1,sxHeight:Ip(a,"xyvw",{yMax:Math.round(V.ascender/2)}).yMax,sCapHeight:Ip(a,"HIKLEFJMNTZBDPRAGOQSUVWXY",V).yMax,usDefaultChar:a.hasChar(" ")?32:0,usBreakChar:a.hasChar(" ")?32:0},a.tables.os2)),Ee=u1.make(a.glyphs),ge=Ty.make(a.glyphs),we=a.getEnglishName("fontFamily"),je=a.getEnglishName("fontSubfamily"),ve=we+" "+je,P=a.getEnglishName("postScriptName");P||(P=we.replace(/\s/g,"")+"-"+je);var le={};for(var ne in a.names)le[ne]=a.names[ne];le.uniqueID||(le.uniqueID={en:a.getEnglishName("manufacturer")+":"+ve}),le.postScriptName||(le.postScriptName={en:P}),le.preferredFamily||(le.preferredFamily=a.names.fontFamily),le.preferredSubfamily||(le.preferredSubfamily=a.names.fontSubfamily);var C=[],X=E1.make(le,C),ie=C.length>0?f1.make(C):void 0,Te=R1.make(),T=Wy.make(a.glyphs,{version:a.getEnglishName("version"),fullName:ve,familyName:we,weightName:je,postScriptName:P,unitsPerEm:a.unitsPerEm,fontBBox:[0,V.yMin,V.ascender,V.advanceWidthMax]}),z=a.metas&&Object.keys(a.metas).length>0?L1.make(a.metas):void 0,$=[te,W,oe,xe,X,ge,Te,T,Ee];ie&&$.push(ie),a.tables.gsub&&$.push(D1.make(a.tables.gsub)),z&&$.push(z);for(var ae=I0($),se=ae.encode(),be=_c(se),fe=ae.fields,qe=!1,Pe=0;Pe<fe.length;Pe+=1)if(fe[Pe].name==="head table"){fe[Pe].value.checkSumAdjustment=2981146554-be,qe=!0;break}if(!qe)throw new Error("Could not find head table with checkSum to adjust.");return ae}var I1={make:I0,fontToTable:B1,computeCheckSum:_c};function dc(a,t){for(var r=0,l=a.length-1;r<=l;){var u=r+l>>>1,o=a[u].tag;if(o===t)return u;o<t?r=u+1:l=u-1}return-r-1}function Fp(a,t){for(var r=0,l=a.length-1;r<=l;){var u=r+l>>>1,o=a[u];if(o===t)return u;o<t?r=u+1:l=u-1}return-r-1}function Gp(a,t){for(var r,l=0,u=a.length-1;l<=u;){var o=l+u>>>1;r=a[o];var d=r.start;if(d===t)return r;d<t?l=o+1:u=o-1}if(l>0)return r=a[l-1],t>r.end?0:r}function xl(a,t){this.font=a,this.tableName=t}xl.prototype={searchTag:dc,binSearch:Fp,getTable:function(a){var t=this.font.tables[this.tableName];return!t&&a&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var a=this.getTable();return a?a.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var a=this.getTable();if(a){for(var t=!1,r=0;r<a.scripts.length;r++){var l=a.scripts[r].tag;if(l==="DFLT")return l;l==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(a,t){var r=this.getTable(t);if(r){a=a||"DFLT";var l=r.scripts,u=dc(r.scripts,a);if(u>=0)return l[u].script;if(t){var o={tag:a,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return l.splice(-1-u,0,o),o.script}}},getLangSysTable:function(a,t,r){var l=this.getScriptTable(a,r);if(l){if(!t||t==="dflt"||t==="DFLT")return l.defaultLangSys;var u=dc(l.langSysRecords,t);if(u>=0)return l.langSysRecords[u].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return l.langSysRecords.splice(-1-u,0,o),o.langSys}}},getFeatureTable:function(a,t,r,l){var u=this.getLangSysTable(a,t,l);if(u){for(var o,d=u.featureIndexes,p=this.font.tables[this.tableName].features,h=0;h<d.length;h++)if(o=p[d[h]],o.tag===r)return o.feature;if(l){var m=p.length;return De.assert(m===0||r>=p[m-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},p.push(o),d.push(m),o.feature}}},getLookupTables:function(a,t,r,l,u){var o=this.getFeatureTable(a,t,r,u),d=[];if(o){for(var p,h=o.lookupListIndexes,m=this.font.tables[this.tableName].lookups,g=0;g<h.length;g++)p=m[h[g]],p.lookupType===l&&d.push(p);if(d.length===0&&u){p={lookupType:l,lookupFlag:0,subtables:[],markFilteringSet:void 0};var x=m.length;return m.push(p),h.push(x),[p]}}return d},getGlyphClass:function(a,t){switch(a.format){case 1:return a.startGlyph<=t&&t<a.startGlyph+a.classes.length?a.classes[t-a.startGlyph]:0;case 2:var r=Gp(a.ranges,t);return r?r.classId:0}},getCoverageIndex:function(a,t){switch(a.format){case 1:var r=Fp(a.glyphs,t);return r>=0?r:-1;case 2:var l=Gp(a.ranges,t);return l?l.index+t-l.start:-1}},expandCoverage:function(a){if(a.format===1)return a.glyphs;for(var t=[],r=a.ranges,l=0;l<r.length;l++)for(var u=r[l],o=u.start,d=u.end,p=o;p<=d;p++)t.push(p);return t}};function El(a){xl.call(this,a,"gpos")}El.prototype=xl.prototype;El.prototype.init=function(){var a=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(a)};El.prototype.getKerningValue=function(a,t,r){for(var l=0;l<a.length;l++)for(var u=a[l].subtables,o=0;o<u.length;o++){var d=u[o],p=this.getCoverageIndex(d.coverage,t);if(!(p<0))switch(d.posFormat){case 1:for(var h=d.pairSets[p],m=0;m<h.length;m++){var g=h[m];if(g.secondGlyph===r)return g.value1&&g.value1.xAdvance||0}break;case 2:var x=this.getGlyphClass(d.classDef1,t),S=this.getGlyphClass(d.classDef2,r),A=d.classRecords[x][S];return A.value1&&A.value1.xAdvance||0}}return 0};El.prototype.getKerningTables=function(a,t){if(this.font.tables.gpos)return this.getLookupTables(a,t,"kern",2)};function hn(a){xl.call(this,a,"gsub")}function F1(a,t){var r=a.length;if(r!==t.length)return!1;for(var l=0;l<r;l++)if(a[l]!==t[l])return!1;return!0}function Uc(a,t,r){for(var l=a.subtables,u=0;u<l.length;u++){var o=l[u];if(o.substFormat===t)return o}if(r)return l.push(r),r}hn.prototype=xl.prototype;hn.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};hn.prototype.getSingle=function(a,t,r){for(var l=[],u=this.getLookupTables(t,r,a,1),o=0;o<u.length;o++)for(var d=u[o].subtables,p=0;p<d.length;p++){var h=d[p],m=this.expandCoverage(h.coverage),g=void 0;if(h.substFormat===1){var x=h.deltaGlyphId;for(g=0;g<m.length;g++){var S=m[g];l.push({sub:S,by:S+x})}}else{var A=h.substitute;for(g=0;g<m.length;g++)l.push({sub:m[g],by:A[g]})}}return l};hn.prototype.getMultiple=function(a,t,r){for(var l=[],u=this.getLookupTables(t,r,a,2),o=0;o<u.length;o++)for(var d=u[o].subtables,p=0;p<d.length;p++){var h=d[p],m=this.expandCoverage(h.coverage),g=void 0;for(g=0;g<m.length;g++){var x=m[g],S=h.sequences[g];l.push({sub:x,by:S})}}return l};hn.prototype.getAlternates=function(a,t,r){for(var l=[],u=this.getLookupTables(t,r,a,3),o=0;o<u.length;o++)for(var d=u[o].subtables,p=0;p<d.length;p++)for(var h=d[p],m=this.expandCoverage(h.coverage),g=h.alternateSets,x=0;x<m.length;x++)l.push({sub:m[x],by:g[x]});return l};hn.prototype.getLigatures=function(a,t,r){for(var l=[],u=this.getLookupTables(t,r,a,4),o=0;o<u.length;o++)for(var d=u[o].subtables,p=0;p<d.length;p++)for(var h=d[p],m=this.expandCoverage(h.coverage),g=h.ligatureSets,x=0;x<m.length;x++)for(var S=m[x],A=g[x],D=0;D<A.length;D++){var w=A[D];l.push({sub:[S].concat(w.components),by:w.ligGlyph})}return l};hn.prototype.addSingle=function(a,t,r,l){var u=this.getLookupTables(r,l,a,1,!0)[0],o=Uc(u,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});De.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var d=t.sub,p=this.binSearch(o.coverage.glyphs,d);p<0&&(p=-1-p,o.coverage.glyphs.splice(p,0,d),o.substitute.splice(p,0,0)),o.substitute[p]=t.by};hn.prototype.addMultiple=function(a,t,r,l){De.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var u=this.getLookupTables(r,l,a,2,!0)[0],o=Uc(u,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});De.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var d=t.sub,p=this.binSearch(o.coverage.glyphs,d);p<0&&(p=-1-p,o.coverage.glyphs.splice(p,0,d),o.sequences.splice(p,0,0)),o.sequences[p]=t.by};hn.prototype.addAlternate=function(a,t,r,l){var u=this.getLookupTables(r,l,a,3,!0)[0],o=Uc(u,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});De.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var d=t.sub,p=this.binSearch(o.coverage.glyphs,d);p<0&&(p=-1-p,o.coverage.glyphs.splice(p,0,d),o.alternateSets.splice(p,0,0)),o.alternateSets[p]=t.by};hn.prototype.addLigature=function(a,t,r,l){var u=this.getLookupTables(r,l,a,4,!0)[0],o=u.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},u.subtables[0]=o),De.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var d=t.sub[0],p=t.sub.slice(1),h={ligGlyph:t.by,components:p},m=this.binSearch(o.coverage.glyphs,d);if(m>=0){for(var g=o.ligatureSets[m],x=0;x<g.length;x++)if(F1(g[x].components,p))return;g.push(h)}else m=-1-m,o.coverage.glyphs.splice(m,0,d),o.ligatureSets.splice(m,0,[h])};hn.prototype.getFeature=function(a,t,r){if(/ss\d\d/.test(a))return this.getSingle(a,t,r);switch(a){case"aalt":case"salt":return this.getSingle(a,t,r).concat(this.getAlternates(a,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(a,t,r);case"ccmp":return this.getMultiple(a,t,r).concat(this.getLigatures(a,t,r));case"stch":return this.getMultiple(a,t,r)}};hn.prototype.add=function(a,t,r,l){if(/ss\d\d/.test(a))return this.addSingle(a,t,r,l);switch(a){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(a,t,r,l):this.addAlternate(a,t,r,l);case"dlig":case"liga":case"rlig":return this.addLigature(a,t,r,l);case"ccmp":return t.by instanceof Array?this.addMultiple(a,t,r,l):this.addLigature(a,t,r,l)}};function G1(){return typeof window<"u"}function z1(a){for(var t=new Buffer(a.byteLength),r=new Uint8Array(a),l=0;l<t.length;++l)t[l]=r[l];return t}function vl(a,t){if(!a)throw t}function zp(a,t,r,l,u){var o;return(t&l)>0?(o=a.parseByte(),(t&u)===0&&(o=-o),o=r+o):(t&u)>0?o=r:o=r+a.parseShort(),o}function F0(a,t,r){var l=new _e.Parser(t,r);a.numberOfContours=l.parseShort(),a._xMin=l.parseShort(),a._yMin=l.parseShort(),a._xMax=l.parseShort(),a._yMax=l.parseShort();var u,o;if(a.numberOfContours>0){for(var d=a.endPointIndices=[],p=0;p<a.numberOfContours;p+=1)d.push(l.parseUShort());a.instructionLength=l.parseUShort(),a.instructions=[];for(var h=0;h<a.instructionLength;h+=1)a.instructions.push(l.parseByte());var m=d[d.length-1]+1;u=[];for(var g=0;g<m;g+=1)if(o=l.parseByte(),u.push(o),(o&8)>0)for(var x=l.parseByte(),S=0;S<x;S+=1)u.push(o),g+=1;if(De.argument(u.length===m,"Bad flags."),d.length>0){var A=[],D;if(m>0){for(var w=0;w<m;w+=1)o=u[w],D={},D.onCurve=!!(o&1),D.lastPointOfContour=d.indexOf(w)>=0,A.push(D);for(var F=0,U=0;U<m;U+=1)o=u[U],D=A[U],D.x=zp(l,o,F,2,16),F=D.x;for(var Q=0,V=0;V<m;V+=1)o=u[V],D=A[V],D.y=zp(l,o,Q,4,32),Q=D.y}a.points=A}else a.points=[]}else if(a.numberOfContours===0)a.points=[];else{a.isComposite=!0,a.points=[],a.components=[];for(var te=!0;te;){u=l.parseUShort();var W={glyphIndex:l.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(u&1)>0?(u&2)>0?(W.dx=l.parseShort(),W.dy=l.parseShort()):W.matchedPoints=[l.parseUShort(),l.parseUShort()]:(u&2)>0?(W.dx=l.parseChar(),W.dy=l.parseChar()):W.matchedPoints=[l.parseByte(),l.parseByte()],(u&8)>0?W.xScale=W.yScale=l.parseF2Dot14():(u&64)>0?(W.xScale=l.parseF2Dot14(),W.yScale=l.parseF2Dot14()):(u&128)>0&&(W.xScale=l.parseF2Dot14(),W.scale01=l.parseF2Dot14(),W.scale10=l.parseF2Dot14(),W.yScale=l.parseF2Dot14()),a.components.push(W),te=!!(u&32)}if(u&256){a.instructionLength=l.parseUShort(),a.instructions=[];for(var oe=0;oe<a.instructionLength;oe+=1)a.instructions.push(l.parseByte())}}}function hc(a,t){for(var r=[],l=0;l<a.length;l+=1){var u=a[l],o={x:t.xScale*u.x+t.scale01*u.y+t.dx,y:t.scale10*u.x+t.yScale*u.y+t.dy,onCurve:u.onCurve,lastPointOfContour:u.lastPointOfContour};r.push(o)}return r}function H1(a){for(var t=[],r=[],l=0;l<a.length;l+=1){var u=a[l];r.push(u),u.lastPointOfContour&&(t.push(r),r=[])}return De.argument(r.length===0,"There are still points left in the current contour."),t}function G0(a){var t=new Ct;if(!a)return t;for(var r=H1(a),l=0;l<r.length;++l){var u=r[l],o=null,d=u[u.length-1],p=u[0];if(d.onCurve)t.moveTo(d.x,d.y);else if(p.onCurve)t.moveTo(p.x,p.y);else{var h={x:(d.x+p.x)*.5,y:(d.y+p.y)*.5};t.moveTo(h.x,h.y)}for(var m=0;m<u.length;++m)if(o=d,d=p,p=u[(m+1)%u.length],d.onCurve)t.lineTo(d.x,d.y);else{var g=p;o.onCurve||((d.x+o.x)*.5,(d.y+o.y)*.5),p.onCurve||(g={x:(d.x+p.x)*.5,y:(d.y+p.y)*.5}),t.quadraticCurveTo(d.x,d.y,g.x,g.y)}t.closePath()}return t}function z0(a,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var l=t.components[r],u=a.get(l.glyphIndex);if(u.getPath(),u.points){var o=void 0;if(l.matchedPoints===void 0)o=hc(u.points,l);else{if(l.matchedPoints[0]>t.points.length-1||l.matchedPoints[1]>u.points.length-1)throw Error("Matched points out of range in "+t.name);var d=t.points[l.matchedPoints[0]],p=u.points[l.matchedPoints[1]],h={xScale:l.xScale,scale01:l.scale01,scale10:l.scale10,yScale:l.yScale,dx:0,dy:0};p=hc([p],h)[0],h.dx=d.x-p.x,h.dy=d.y-p.y,o=hc(u.points,h)}t.points=t.points.concat(o)}}return G0(t.points)}function j1(a,t,r,l){for(var u=new Xn.GlyphSet(l),o=0;o<r.length-1;o+=1){var d=r[o],p=r[o+1];d!==p?u.push(o,Xn.ttfGlyphLoader(l,o,F0,a,t+d,z0)):u.push(o,Xn.glyphLoader(l,o))}return u}function P1(a,t,r,l){var u=new Xn.GlyphSet(l);return l._push=function(o){var d=r[o],p=r[o+1];d!==p?u.push(o,Xn.ttfGlyphLoader(l,o,F0,a,t+d,z0)):u.push(o,Xn.glyphLoader(l,o))},u}function Y1(a,t,r,l,u){return u.lowMemory?P1(a,t,r,l):j1(a,t,r,l)}var q1={getPath:G0,parse:Y1},H0,Er,j0,Mc;function P0(a){this.font=a,this.getCommands=function(t){return q1.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function V1(a){return a}function Y0(a){return Math.sign(a)*Math.round(Math.abs(a))}function X1(a){return Math.sign(a)*Math.round(Math.abs(a*2))/2}function Z1(a){return Math.sign(a)*(Math.round(Math.abs(a)+.5)-.5)}function Q1(a){return Math.sign(a)*Math.ceil(Math.abs(a))}function K1(a){return Math.sign(a)*Math.floor(Math.abs(a))}var q0=function(a){var t=this.srPeriod,r=this.srPhase,l=this.srThreshold,u=1;return a<0&&(a=-a,u=-1),a+=l-r,a=Math.trunc(a/t)*t,a+=r,a<0?r*u:a*u},Vn={x:1,y:0,axis:"x",distance:function(a,t,r,l){return(r?a.xo:a.x)-(l?t.xo:t.x)},interpolate:function(a,t,r,l){var u,o,d,p,h,m,g;if(!l||l===this){if(u=a.xo-t.xo,o=a.xo-r.xo,h=t.x-t.xo,m=r.x-r.xo,d=Math.abs(u),p=Math.abs(o),g=d+p,g===0){a.x=a.xo+(h+m)/2;return}a.x=a.xo+(h*p+m*d)/g;return}if(u=l.distance(a,t,!0,!0),o=l.distance(a,r,!0,!0),h=l.distance(t,t,!1,!0),m=l.distance(r,r,!1,!0),d=Math.abs(u),p=Math.abs(o),g=d+p,g===0){Vn.setRelative(a,a,(h+m)/2,l,!0);return}Vn.setRelative(a,a,(h*p+m*d)/g,l,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(a,t,r,l,u){if(!l||l===this){a.x=(u?t.xo:t.x)+r;return}var o=u?t.xo:t.x,d=u?t.yo:t.y,p=o+r*l.x,h=d+r*l.y;a.x=p+(a.y-h)/l.normalSlope},slope:0,touch:function(a){a.xTouched=!0},touched:function(a){return a.xTouched},untouch:function(a){a.xTouched=!1}},da={x:0,y:1,axis:"y",distance:function(a,t,r,l){return(r?a.yo:a.y)-(l?t.yo:t.y)},interpolate:function(a,t,r,l){var u,o,d,p,h,m,g;if(!l||l===this){if(u=a.yo-t.yo,o=a.yo-r.yo,h=t.y-t.yo,m=r.y-r.yo,d=Math.abs(u),p=Math.abs(o),g=d+p,g===0){a.y=a.yo+(h+m)/2;return}a.y=a.yo+(h*p+m*d)/g;return}if(u=l.distance(a,t,!0,!0),o=l.distance(a,r,!0,!0),h=l.distance(t,t,!1,!0),m=l.distance(r,r,!1,!0),d=Math.abs(u),p=Math.abs(o),g=d+p,g===0){da.setRelative(a,a,(h+m)/2,l,!0);return}da.setRelative(a,a,(h*p+m*d)/g,l,!0)},normalSlope:0,setRelative:function(a,t,r,l,u){if(!l||l===this){a.y=(u?t.yo:t.y)+r;return}var o=u?t.xo:t.x,d=u?t.yo:t.y,p=o+r*l.x,h=d+r*l.y;a.y=h+l.normalSlope*(a.x-p)},slope:Number.POSITIVE_INFINITY,touch:function(a){a.yTouched=!0},touched:function(a){return a.yTouched},untouch:function(a){a.yTouched=!1}};Object.freeze(Vn);Object.freeze(da);function Tl(a,t){this.x=a,this.y=t,this.axis=void 0,this.slope=t/a,this.normalSlope=-a/t,Object.freeze(this)}Tl.prototype.distance=function(a,t,r,l){return this.x*Vn.distance(a,t,r,l)+this.y*da.distance(a,t,r,l)};Tl.prototype.interpolate=function(a,t,r,l){var u,o,d,p,h,m,g;if(d=l.distance(a,t,!0,!0),p=l.distance(a,r,!0,!0),u=l.distance(t,t,!1,!0),o=l.distance(r,r,!1,!0),h=Math.abs(d),m=Math.abs(p),g=h+m,g===0){this.setRelative(a,a,(u+o)/2,l,!0);return}this.setRelative(a,a,(u*m+o*h)/g,l,!0)};Tl.prototype.setRelative=function(a,t,r,l,u){l=l||this;var o=u?t.xo:t.x,d=u?t.yo:t.y,p=o+r*l.x,h=d+r*l.y,m=l.normalSlope,g=this.slope,x=a.x,S=a.y;a.x=(g*x-m*p+h-S)/(g-m),a.y=g*(a.x-x)+S};Tl.prototype.touch=function(a){a.xTouched=!0,a.yTouched=!0};function Al(a,t){var r=Math.sqrt(a*a+t*t);return a/=r,t/=r,a===1&&t===0?Vn:a===0&&t===1?da:new Tl(a,t)}function ha(a,t,r,l){this.x=this.xo=Math.round(a*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=r,this.onCurve=l,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}ha.prototype.nextTouched=function(a){for(var t=this.nextPointOnContour;!a.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};ha.prototype.prevTouched=function(a){for(var t=this.prevPointOnContour;!a.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Sl=Object.freeze(new ha(0,0)),W1={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Va(a,t){switch(this.env=a,this.stack=[],this.prog=t,a){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Vn,this.round=Y0}}P0.prototype.exec=function(a,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,l=this._prepState;if(!l||l.ppem!==t){var u=this._fpgmState;if(!u){Va.prototype=W1,u=this._fpgmState=new Va("fpgm",r.tables.fpgm),u.funcs=[],u.font=r,exports.DEBUG&&(console.log("---EXEC FPGM---"),u.step=-1);try{Er(u)}catch(m){console.log("Hinting error in FPGM:"+m),this._errorState=3;return}}Va.prototype=u,l=this._prepState=new Va("prep",r.tables.prep),l.ppem=t;var o=r.tables.cvt;if(o)for(var d=l.cvt=new Array(o.length),p=t/r.unitsPerEm,h=0;h<o.length;h++)d[h]=o[h]*p;else l.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),l.step=-1);try{Er(l)}catch(m){this._errorState<2&&console.log("Hinting error in PREP:"+m),this._errorState=2}}if(!(this._errorState>1))try{return j0(a,l)}catch(m){this._errorState<1&&(console.log("Hinting error:"+m),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};j0=function(a,t){var r=t.ppem/t.font.unitsPerEm,l=r,u=a.components,o,d,p;if(Va.prototype=t,!u)p=new Va("glyf",a.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),p.step=-1),Mc(a,p,r,l),d=p.gZone;else{var h=t.font;d=[],o=[];for(var m=0;m<u.length;m++){var g=u[m],x=h.glyphs.get(g.glyphIndex);p=new Va("glyf",x.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+m+"---"),p.step=-1),Mc(x,p,r,l);for(var S=Math.round(g.dx*r),A=Math.round(g.dy*l),D=p.gZone,w=p.contours,F=0;F<D.length;F++){var U=D[F];U.xTouched=U.yTouched=!1,U.xo=U.x=U.x+S,U.yo=U.y=U.y+A}var Q=d.length;d.push.apply(d,D);for(var V=0;V<w.length;V++)o.push(w[V]+Q)}a.instructions&&!p.inhibitGridFit&&(p=new Va("glyf",a.instructions),p.gZone=p.z0=p.z1=p.z2=d,p.contours=o,d.push(new ha(0,0),new ha(Math.round(a.advanceWidth*r),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),p.step=-1),Er(p),d.length-=2)}return d};Mc=function(a,t,r,l){for(var u=a.points||[],o=u.length,d=t.gZone=t.z0=t.z1=t.z2=[],p=t.contours=[],h,m=0;m<o;m++)h=u[m],d[m]=new ha(h.x*r,h.y*l,h.lastPointOfContour,h.onCurve);for(var g,x,S=0;S<o;S++)h=d[S],g||(g=h,p.push(S)),h.lastPointOfContour?(h.nextPointOnContour=g,g.prevPointOnContour=h,g=void 0):(x=d[S+1],h.nextPointOnContour=x,x.prevPointOnContour=h);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var A=0;A<o;A++)console.log(A,d[A].x,d[A].y)}if(d.push(new ha(0,0),new ha(Math.round(a.advanceWidth*r),0)),Er(t),d.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var D=0;D<o;D++)console.log(D,d[D].x,d[D].y)}}};Er=function(a){var t=a.prog;if(t){var r=t.length,l;for(a.ip=0;a.ip<r;a.ip++){if(exports.DEBUG&&a.step++,l=H0[t[a.ip]],!l)throw new Error("unknown instruction: 0x"+Number(t[a.ip]).toString(16));l(a)}}};function Js(a){for(var t=a.tZone=new Array(a.gZone.length),r=0;r<t.length;r++)t[r]=new ha(0,0)}function V0(a,t){var r=a.prog,l=a.ip,u=1,o;do if(o=r[++l],o===88)u++;else if(o===89)u--;else if(o===64)l+=r[l+1]+1;else if(o===65)l+=2*r[l+1]+1;else if(o>=176&&o<=183)l+=o-176+1;else if(o>=184&&o<=191)l+=(o-184+1)*2;else if(t&&u===1&&o===27)break;while(u>0);a.ip=l}function Hp(a,t){exports.DEBUG&&console.log(t.step,"SVTCA["+a.axis+"]"),t.fv=t.pv=t.dpv=a}function jp(a,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+a.axis+"]"),t.pv=t.dpv=a}function Pp(a,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+a.axis+"]"),t.fv=a}function Yp(a,t){var r=t.stack,l=r.pop(),u=r.pop(),o=t.z2[l],d=t.z1[u];exports.DEBUG&&console.log("SPVTL["+a+"]",l,u);var p,h;a?(p=o.y-d.y,h=d.x-o.x):(p=d.x-o.x,h=d.y-o.y),t.pv=t.dpv=Al(p,h)}function qp(a,t){var r=t.stack,l=r.pop(),u=r.pop(),o=t.z2[l],d=t.z1[u];exports.DEBUG&&console.log("SFVTL["+a+"]",l,u);var p,h;a?(p=o.y-d.y,h=d.x-o.x):(p=d.x-o.x,h=d.y-o.y),t.fv=Al(p,h)}function J1(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"SPVFS[]",r,l),a.pv=a.dpv=Al(l,r)}function $1(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"SPVFS[]",r,l),a.fv=Al(l,r)}function eb(a){var t=a.stack,r=a.pv;exports.DEBUG&&console.log(a.step,"GPV[]"),t.push(r.x*16384),t.push(r.y*16384)}function tb(a){var t=a.stack,r=a.fv;exports.DEBUG&&console.log(a.step,"GFV[]"),t.push(r.x*16384),t.push(r.y*16384)}function nb(a){a.fv=a.pv,exports.DEBUG&&console.log(a.step,"SFVTPV[]")}function ab(a){var t=a.stack,r=t.pop(),l=t.pop(),u=t.pop(),o=t.pop(),d=t.pop(),p=a.z0,h=a.z1,m=p[r],g=p[l],x=h[u],S=h[o],A=a.z2[d];exports.DEBUG&&console.log("ISECT[], ",r,l,u,o,d);var D=m.x,w=m.y,F=g.x,U=g.y,Q=x.x,V=x.y,te=S.x,W=S.y,oe=(D-F)*(V-W)-(w-U)*(Q-te),xe=D*U-w*F,Ee=Q*W-V*te;A.x=(xe*(Q-te)-Ee*(D-F))/oe,A.y=(xe*(V-W)-Ee*(w-U))/oe}function rb(a){a.rp0=a.stack.pop(),exports.DEBUG&&console.log(a.step,"SRP0[]",a.rp0)}function ib(a){a.rp1=a.stack.pop(),exports.DEBUG&&console.log(a.step,"SRP1[]",a.rp1)}function lb(a){a.rp2=a.stack.pop(),exports.DEBUG&&console.log(a.step,"SRP2[]",a.rp2)}function sb(a){var t=a.stack.pop();switch(exports.DEBUG&&console.log(a.step,"SZP0[]",t),a.zp0=t,t){case 0:a.tZone||Js(a),a.z0=a.tZone;break;case 1:a.z0=a.gZone;break;default:throw new Error("Invalid zone pointer")}}function ub(a){var t=a.stack.pop();switch(exports.DEBUG&&console.log(a.step,"SZP1[]",t),a.zp1=t,t){case 0:a.tZone||Js(a),a.z1=a.tZone;break;case 1:a.z1=a.gZone;break;default:throw new Error("Invalid zone pointer")}}function ob(a){var t=a.stack.pop();switch(exports.DEBUG&&console.log(a.step,"SZP2[]",t),a.zp2=t,t){case 0:a.tZone||Js(a),a.z2=a.tZone;break;case 1:a.z2=a.gZone;break;default:throw new Error("Invalid zone pointer")}}function cb(a){var t=a.stack.pop();switch(exports.DEBUG&&console.log(a.step,"SZPS[]",t),a.zp0=a.zp1=a.zp2=t,t){case 0:a.tZone||Js(a),a.z0=a.z1=a.z2=a.tZone;break;case 1:a.z0=a.z1=a.z2=a.gZone;break;default:throw new Error("Invalid zone pointer")}}function fb(a){a.loop=a.stack.pop(),exports.DEBUG&&console.log(a.step,"SLOOP[]",a.loop)}function db(a){exports.DEBUG&&console.log(a.step,"RTG[]"),a.round=Y0}function hb(a){exports.DEBUG&&console.log(a.step,"RTHG[]"),a.round=Z1}function pb(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"SMD[]",t),a.minDis=t/64}function mb(a){exports.DEBUG&&console.log(a.step,"ELSE[]"),V0(a,!1)}function vb(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"JMPR[]",t),a.ip+=t-1}function gb(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"SCVTCI[]",t),a.cvCutIn=t/64}function yb(a){var t=a.stack;exports.DEBUG&&console.log(a.step,"DUP[]"),t.push(t[t.length-1])}function pc(a){exports.DEBUG&&console.log(a.step,"POP[]"),a.stack.pop()}function bb(a){exports.DEBUG&&console.log(a.step,"CLEAR[]"),a.stack.length=0}function Sb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"SWAP[]"),t.push(r),t.push(l)}function xb(a){var t=a.stack;exports.DEBUG&&console.log(a.step,"DEPTH[]"),t.push(t.length)}function Eb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"LOOPCALL[]",r,l);var u=a.ip,o=a.prog;a.prog=a.funcs[r];for(var d=0;d<l;d++)Er(a),exports.DEBUG&&console.log(++a.step,d+1<l?"next loopcall":"done loopcall",d);a.ip=u,a.prog=o}function Tb(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"CALL[]",t);var r=a.ip,l=a.prog;a.prog=a.funcs[t],Er(a),a.ip=r,a.prog=l,exports.DEBUG&&console.log(++a.step,"returning from",t)}function Ab(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"CINDEX[]",r),t.push(t[t.length-r])}function Cb(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])}function Mb(a){if(a.env!=="fpgm")throw new Error("FDEF not allowed here");var t=a.stack,r=a.prog,l=a.ip,u=t.pop(),o=l;for(exports.DEBUG&&console.log(a.step,"FDEF[]",u);r[++l]!==45;);a.ip=l,a.funcs[u]=r.slice(o+1,l)}function Vp(a,t){var r=t.stack.pop(),l=t.z0[r],u=t.fv,o=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+a+"]",r);var d=o.distance(l,Sl);a&&(d=t.round(d)),u.setRelative(l,Sl,d,o),u.touch(l),t.rp0=t.rp1=r}function Xp(a,t){var r=t.z2,l=r.length-2,u,o,d;exports.DEBUG&&console.log(t.step,"IUP["+a.axis+"]");for(var p=0;p<l;p++)u=r[p],!a.touched(u)&&(o=u.prevTouched(a),o!==u&&(d=u.nextTouched(a),o===d&&a.setRelative(u,u,a.distance(o,o,!1,!0),a,!0),a.interpolate(u,o,d,a)))}function Zp(a,t){for(var r=t.stack,l=a?t.rp1:t.rp2,u=(a?t.z0:t.z1)[l],o=t.fv,d=t.pv,p=t.loop,h=t.z2;p--;){var m=r.pop(),g=h[m],x=d.distance(u,u,!1,!0);o.setRelative(g,g,x,d),o.touch(g),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-p)+": ":"")+"SHP["+(a?"rp1":"rp2")+"]",m)}t.loop=1}function Qp(a,t){var r=t.stack,l=a?t.rp1:t.rp2,u=(a?t.z0:t.z1)[l],o=t.fv,d=t.pv,p=r.pop(),h=t.z2[t.contours[p]],m=h;exports.DEBUG&&console.log(t.step,"SHC["+a+"]",p);var g=d.distance(u,u,!1,!0);do m!==u&&o.setRelative(m,m,g,d),m=m.nextPointOnContour;while(m!==h)}function Kp(a,t){var r=t.stack,l=a?t.rp1:t.rp2,u=(a?t.z0:t.z1)[l],o=t.fv,d=t.pv,p=r.pop();exports.DEBUG&&console.log(t.step,"SHZ["+a+"]",p);var h;switch(p){case 0:h=t.tZone;break;case 1:h=t.gZone;break;default:throw new Error("Invalid zone")}for(var m,g=d.distance(u,u,!1,!0),x=h.length-2,S=0;S<x;S++)m=h[S],o.setRelative(m,m,g,d)}function Nb(a){for(var t=a.stack,r=a.loop,l=a.fv,u=t.pop()/64,o=a.z2;r--;){var d=t.pop(),p=o[d];exports.DEBUG&&console.log(a.step,(a.loop>1?"loop "+(a.loop-r)+": ":"")+"SHPIX[]",d,u),l.setRelative(p,p,u),l.touch(p)}a.loop=1}function Rb(a){for(var t=a.stack,r=a.rp1,l=a.rp2,u=a.loop,o=a.z0[r],d=a.z1[l],p=a.fv,h=a.dpv,m=a.z2;u--;){var g=t.pop(),x=m[g];exports.DEBUG&&console.log(a.step,(a.loop>1?"loop "+(a.loop-u)+": ":"")+"IP[]",g,r,"<->",l),p.interpolate(x,o,d,h),p.touch(x)}a.loop=1}function Wp(a,t){var r=t.stack,l=r.pop()/64,u=r.pop(),o=t.z1[u],d=t.z0[t.rp0],p=t.fv,h=t.pv;p.setRelative(o,d,l,h),p.touch(o),exports.DEBUG&&console.log(t.step,"MSIRP["+a+"]",l,u),t.rp1=t.rp0,t.rp2=u,a&&(t.rp0=u)}function wb(a){for(var t=a.stack,r=a.rp0,l=a.z0[r],u=a.loop,o=a.fv,d=a.pv,p=a.z1;u--;){var h=t.pop(),m=p[h];exports.DEBUG&&console.log(a.step,(a.loop>1?"loop "+(a.loop-u)+": ":"")+"ALIGNRP[]",h),o.setRelative(m,l,0,d),o.touch(m)}a.loop=1}function Ob(a){exports.DEBUG&&console.log(a.step,"RTDG[]"),a.round=X1}function Jp(a,t){var r=t.stack,l=r.pop(),u=r.pop(),o=t.z0[u],d=t.fv,p=t.pv,h=t.cvt[l];exports.DEBUG&&console.log(t.step,"MIAP["+a+"]",l,"(",h,")",u);var m=p.distance(o,Sl);a&&(Math.abs(m-h)<t.cvCutIn&&(m=h),m=t.round(m)),d.setRelative(o,Sl,m,p),t.zp0===0&&(o.xo=o.x,o.yo=o.y),d.touch(o),t.rp0=t.rp1=u}function Db(a){var t=a.prog,r=a.ip,l=a.stack,u=t[++r];exports.DEBUG&&console.log(a.step,"NPUSHB[]",u);for(var o=0;o<u;o++)l.push(t[++r]);a.ip=r}function _b(a){var t=a.ip,r=a.prog,l=a.stack,u=r[++t];exports.DEBUG&&console.log(a.step,"NPUSHW[]",u);for(var o=0;o<u;o++){var d=r[++t]<<8|r[++t];d&32768&&(d=-((d^65535)+1)),l.push(d)}a.ip=t}function Ub(a){var t=a.stack,r=a.store;r||(r=a.store=[]);var l=t.pop(),u=t.pop();exports.DEBUG&&console.log(a.step,"WS",l,u),r[u]=l}function Lb(a){var t=a.stack,r=a.store,l=t.pop();exports.DEBUG&&console.log(a.step,"RS",l);var u=r&&r[l]||0;t.push(u)}function kb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"WCVTP",r,l),a.cvt[l]=r/64}function Bb(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"RCVT",r),t.push(a.cvt[r]*64)}function $p(a,t){var r=t.stack,l=r.pop(),u=t.z2[l];exports.DEBUG&&console.log(t.step,"GC["+a+"]",l),r.push(t.dpv.distance(u,Sl,a,!1)*64)}function e0(a,t){var r=t.stack,l=r.pop(),u=r.pop(),o=t.z1[l],d=t.z0[u],p=t.dpv.distance(d,o,a,a);exports.DEBUG&&console.log(t.step,"MD["+a+"]",l,u,"->",p),t.stack.push(Math.round(p*64))}function Ib(a){exports.DEBUG&&console.log(a.step,"MPPEM[]"),a.stack.push(a.ppem)}function Fb(a){exports.DEBUG&&console.log(a.step,"FLIPON[]"),a.autoFlip=!0}function Gb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"LT[]",r,l),t.push(l<r?1:0)}function zb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"LTEQ[]",r,l),t.push(l<=r?1:0)}function Hb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"GT[]",r,l),t.push(l>r?1:0)}function jb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"GTEQ[]",r,l),t.push(l>=r?1:0)}function Pb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"EQ[]",r,l),t.push(r===l?1:0)}function Yb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"NEQ[]",r,l),t.push(r!==l?1:0)}function qb(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)}function Vb(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)}function Xb(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"IF[]",t),t||(V0(a,!0),exports.DEBUG&&console.log(a.step,"EIF[]"))}function Zb(a){exports.DEBUG&&console.log(a.step,"EIF[]")}function Qb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"AND[]",r,l),t.push(r&&l?1:0)}function Kb(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"OR[]",r,l),t.push(r||l?1:0)}function Wb(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"NOT[]",r),t.push(r?0:1)}function mc(a,t){var r=t.stack,l=r.pop(),u=t.fv,o=t.pv,d=t.ppem,p=t.deltaBase+(a-1)*16,h=t.deltaShift,m=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+a+"]",l,r);for(var g=0;g<l;g++){var x=r.pop(),S=r.pop(),A=p+((S&240)>>4);if(A===d){var D=(S&15)-8;D>=0&&D++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",x,"by",D*h);var w=m[x];u.setRelative(w,w,D*h,o)}}}function Jb(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"SDB[]",r),a.deltaBase=r}function $b(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"SDS[]",r),a.deltaShift=Math.pow(.5,r)}function eS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"ADD[]",r,l),t.push(l+r)}function tS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"SUB[]",r,l),t.push(l-r)}function nS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"DIV[]",r,l),t.push(l*64/r)}function aS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"MUL[]",r,l),t.push(l*r/64)}function rS(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"ABS[]",r),t.push(Math.abs(r))}function iS(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"NEG[]",r),t.push(-r)}function lS(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"FLOOR[]",r),t.push(Math.floor(r/64)*64)}function sS(a){var t=a.stack,r=t.pop();exports.DEBUG&&console.log(a.step,"CEILING[]",r),t.push(Math.ceil(r/64)*64)}function Hs(a,t){var r=t.stack,l=r.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),r.push(t.round(l/64)*64)}function uS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"WCVTF[]",r,l),a.cvt[l]=r*a.ppem/a.font.unitsPerEm}function vc(a,t){var r=t.stack,l=r.pop(),u=t.ppem,o=t.deltaBase+(a-1)*16,d=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+a+"]",l,r);for(var p=0;p<l;p++){var h=r.pop(),m=r.pop(),g=o+((m&240)>>4);if(g===u){var x=(m&15)-8;x>=0&&x++;var S=x*d;exports.DEBUG&&console.log(t.step,"DELTACFIX",h,"by",S),t.cvt[h]+=S}}}function oS(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"SROUND[]",t),a.round=q0;var r;switch(t&192){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(a.srPeriod=r,t&48){case 0:a.srPhase=0;break;case 16:a.srPhase=.25*r;break;case 32:a.srPhase=.5*r;break;case 48:a.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?a.srThreshold=0:a.srThreshold=(t/8-.5)*r}function cS(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"S45ROUND[]",t),a.round=q0;var r;switch(t&192){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(a.srPeriod=r,t&48){case 0:a.srPhase=0;break;case 16:a.srPhase=.25*r;break;case 32:a.srPhase=.5*r;break;case 48:a.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?a.srThreshold=0:a.srThreshold=(t/8-.5)*r}function fS(a){exports.DEBUG&&console.log(a.step,"ROFF[]"),a.round=V1}function dS(a){exports.DEBUG&&console.log(a.step,"RUTG[]"),a.round=Q1}function hS(a){exports.DEBUG&&console.log(a.step,"RDTG[]"),a.round=K1}function pS(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"SCANCTRL[]",t)}function t0(a,t){var r=t.stack,l=r.pop(),u=r.pop(),o=t.z2[l],d=t.z1[u];exports.DEBUG&&console.log(t.step,"SDPVTL["+a+"]",l,u);var p,h;a?(p=o.y-d.y,h=d.x-o.x):(p=d.x-o.x,h=d.y-o.y),t.dpv=Al(p,h)}function mS(a){var t=a.stack,r=t.pop(),l=0;exports.DEBUG&&console.log(a.step,"GETINFO[]",r),r&1&&(l=35),r&32&&(l|=4096),t.push(l)}function vS(a){var t=a.stack,r=t.pop(),l=t.pop(),u=t.pop();exports.DEBUG&&console.log(a.step,"ROLL[]"),t.push(l),t.push(r),t.push(u)}function gS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"MAX[]",r,l),t.push(Math.max(l,r))}function yS(a){var t=a.stack,r=t.pop(),l=t.pop();exports.DEBUG&&console.log(a.step,"MIN[]",r,l),t.push(Math.min(l,r))}function bS(a){var t=a.stack.pop();exports.DEBUG&&console.log(a.step,"SCANTYPE[]",t)}function SS(a){var t=a.stack.pop(),r=a.stack.pop();switch(exports.DEBUG&&console.log(a.step,"INSTCTRL[]",t,r),t){case 1:a.inhibitGridFit=!!r;return;case 2:a.ignoreCvt=!!r;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Pa(a,t){var r=t.stack,l=t.prog,u=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+a+"]");for(var o=0;o<a;o++)r.push(l[++u]);t.ip=u}function Ya(a,t){var r=t.ip,l=t.prog,u=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+a+"]");for(var o=0;o<a;o++){var d=l[++r]<<8|l[++r];d&32768&&(d=-((d^65535)+1)),u.push(d)}t.ip=r}function pe(a,t,r,l,u,o){var d=o.stack,p=a&&d.pop(),h=d.pop(),m=o.rp0,g=o.z0[m],x=o.z1[h],S=o.minDis,A=o.fv,D=o.dpv,w,F,U,Q;F=w=D.distance(x,g,!0,!0),U=F>=0?1:-1,F=Math.abs(F),a&&(Q=o.cvt[p],l&&Math.abs(F-Q)<o.cvCutIn&&(F=Q)),r&&F<S&&(F=S),l&&(F=o.round(F)),A.setRelative(x,g,U*F,D),A.touch(x),exports.DEBUG&&console.log(o.step,(a?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(l?"R":"_")+(u===0?"Gr":u===1?"Bl":u===2?"Wh":"")+"]",a?p+"("+o.cvt[p]+","+Q+")":"",h,"(d =",w,"->",U*F,")"),o.rp1=o.rp0,o.rp2=h,t&&(o.rp0=h)}H0=[Hp.bind(void 0,da),Hp.bind(void 0,Vn),jp.bind(void 0,da),jp.bind(void 0,Vn),Pp.bind(void 0,da),Pp.bind(void 0,Vn),Yp.bind(void 0,0),Yp.bind(void 0,1),qp.bind(void 0,0),qp.bind(void 0,1),J1,$1,eb,tb,nb,ab,rb,ib,lb,sb,ub,ob,cb,fb,db,hb,pb,mb,vb,gb,void 0,void 0,yb,pc,bb,Sb,xb,Ab,Cb,void 0,void 0,void 0,Eb,Tb,Mb,void 0,Vp.bind(void 0,0),Vp.bind(void 0,1),Xp.bind(void 0,da),Xp.bind(void 0,Vn),Zp.bind(void 0,0),Zp.bind(void 0,1),Qp.bind(void 0,0),Qp.bind(void 0,1),Kp.bind(void 0,0),Kp.bind(void 0,1),Nb,Rb,Wp.bind(void 0,0),Wp.bind(void 0,1),wb,Ob,Jp.bind(void 0,0),Jp.bind(void 0,1),Db,_b,Ub,Lb,kb,Bb,$p.bind(void 0,0),$p.bind(void 0,1),void 0,e0.bind(void 0,0),e0.bind(void 0,1),Ib,void 0,Fb,void 0,void 0,Gb,zb,Hb,jb,Pb,Yb,qb,Vb,Xb,Zb,Qb,Kb,Wb,mc.bind(void 0,1),Jb,$b,eS,tS,nS,aS,rS,iS,lS,sS,Hs.bind(void 0,0),Hs.bind(void 0,1),Hs.bind(void 0,2),Hs.bind(void 0,3),void 0,void 0,void 0,void 0,uS,mc.bind(void 0,2),mc.bind(void 0,3),vc.bind(void 0,1),vc.bind(void 0,2),vc.bind(void 0,3),oS,cS,void 0,void 0,fS,void 0,dS,hS,pc,pc,void 0,void 0,void 0,void 0,void 0,pS,t0.bind(void 0,0),t0.bind(void 0,1),mS,void 0,vS,gS,yS,bS,SS,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Pa.bind(void 0,1),Pa.bind(void 0,2),Pa.bind(void 0,3),Pa.bind(void 0,4),Pa.bind(void 0,5),Pa.bind(void 0,6),Pa.bind(void 0,7),Pa.bind(void 0,8),Ya.bind(void 0,1),Ya.bind(void 0,2),Ya.bind(void 0,3),Ya.bind(void 0,4),Ya.bind(void 0,5),Ya.bind(void 0,6),Ya.bind(void 0,7),Ya.bind(void 0,8),pe.bind(void 0,0,0,0,0,0),pe.bind(void 0,0,0,0,0,1),pe.bind(void 0,0,0,0,0,2),pe.bind(void 0,0,0,0,0,3),pe.bind(void 0,0,0,0,1,0),pe.bind(void 0,0,0,0,1,1),pe.bind(void 0,0,0,0,1,2),pe.bind(void 0,0,0,0,1,3),pe.bind(void 0,0,0,1,0,0),pe.bind(void 0,0,0,1,0,1),pe.bind(void 0,0,0,1,0,2),pe.bind(void 0,0,0,1,0,3),pe.bind(void 0,0,0,1,1,0),pe.bind(void 0,0,0,1,1,1),pe.bind(void 0,0,0,1,1,2),pe.bind(void 0,0,0,1,1,3),pe.bind(void 0,0,1,0,0,0),pe.bind(void 0,0,1,0,0,1),pe.bind(void 0,0,1,0,0,2),pe.bind(void 0,0,1,0,0,3),pe.bind(void 0,0,1,0,1,0),pe.bind(void 0,0,1,0,1,1),pe.bind(void 0,0,1,0,1,2),pe.bind(void 0,0,1,0,1,3),pe.bind(void 0,0,1,1,0,0),pe.bind(void 0,0,1,1,0,1),pe.bind(void 0,0,1,1,0,2),pe.bind(void 0,0,1,1,0,3),pe.bind(void 0,0,1,1,1,0),pe.bind(void 0,0,1,1,1,1),pe.bind(void 0,0,1,1,1,2),pe.bind(void 0,0,1,1,1,3),pe.bind(void 0,1,0,0,0,0),pe.bind(void 0,1,0,0,0,1),pe.bind(void 0,1,0,0,0,2),pe.bind(void 0,1,0,0,0,3),pe.bind(void 0,1,0,0,1,0),pe.bind(void 0,1,0,0,1,1),pe.bind(void 0,1,0,0,1,2),pe.bind(void 0,1,0,0,1,3),pe.bind(void 0,1,0,1,0,0),pe.bind(void 0,1,0,1,0,1),pe.bind(void 0,1,0,1,0,2),pe.bind(void 0,1,0,1,0,3),pe.bind(void 0,1,0,1,1,0),pe.bind(void 0,1,0,1,1,1),pe.bind(void 0,1,0,1,1,2),pe.bind(void 0,1,0,1,1,3),pe.bind(void 0,1,1,0,0,0),pe.bind(void 0,1,1,0,0,1),pe.bind(void 0,1,1,0,0,2),pe.bind(void 0,1,1,0,0,3),pe.bind(void 0,1,1,0,1,0),pe.bind(void 0,1,1,0,1,1),pe.bind(void 0,1,1,0,1,2),pe.bind(void 0,1,1,0,1,3),pe.bind(void 0,1,1,1,0,0),pe.bind(void 0,1,1,1,0,1),pe.bind(void 0,1,1,1,0,2),pe.bind(void 0,1,1,1,0,3),pe.bind(void 0,1,1,1,1,0),pe.bind(void 0,1,1,1,1,1),pe.bind(void 0,1,1,1,1,2),pe.bind(void 0,1,1,1,1,3)];function hi(a){this.char=a,this.state={},this.activeState=null}function Lc(a,t,r){this.contextName=r,this.startIndex=a,this.endOffset=t}function xS(a,t,r){this.contextName=a,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function kn(a,t){this.context=a,this.index=t,this.length=a.length,this.current=a[t],this.backtrack=a.slice(0,t),this.lookahead=a.slice(t+1)}function $s(a){this.eventId=a,this.subscribers=[]}function ES(a){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach(function(u){Object.defineProperty(t.events,u,{value:new $s(u)})}),a&&r.forEach(function(u){var o=a[u];typeof o=="function"&&t.events[u].subscribe(o)});var l=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];l.forEach(function(u){t.events[u].subscribe(t.updateContextsRanges)})}function mt(a){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],ES.call(this,a)}hi.prototype.setState=function(a,t){return this.state[a]=t,this.activeState={key:a,value:this.state[a]},this.activeState};hi.prototype.getState=function(a){return this.state[a]||null};mt.prototype.inboundIndex=function(a){return a>=0&&a<this.tokens.length};mt.prototype.composeRUD=function(a){var t=this,r=!0,l=a.map(function(o){return t[o[0]].apply(t,o.slice(1).concat(r))}),u=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(l.every(u))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:l.filter(u)};this.dispatch("composeRUD",[l.filter(function(o){return!u(o)})])};mt.prototype.replaceRange=function(a,t,r,l){t=t!==null?t:this.tokens.length;var u=r.every(function(d){return d instanceof hi});if(!isNaN(a)&&this.inboundIndex(a)&&u){var o=this.tokens.splice.apply(this.tokens,[a,t].concat(r));return l||this.dispatch("replaceToken",[a,t,r]),[o,r]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};mt.prototype.replaceToken=function(a,t,r){if(!isNaN(a)&&this.inboundIndex(a)&&t instanceof hi){var l=this.tokens.splice(a,1,t);return r||this.dispatch("replaceToken",[a,t]),[l[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};mt.prototype.removeRange=function(a,t,r){t=isNaN(t)?this.tokens.length:t;var l=this.tokens.splice(a,t);return r||this.dispatch("removeRange",[l,a,t]),l};mt.prototype.removeToken=function(a,t){if(!isNaN(a)&&this.inboundIndex(a)){var r=this.tokens.splice(a,1);return t||this.dispatch("removeToken",[r,a]),r}else return{FAIL:"removeToken: invalid token index."}};mt.prototype.insertToken=function(a,t,r){var l=a.every(function(u){return u instanceof hi});return l?(this.tokens.splice.apply(this.tokens,[t,0].concat(a)),r||this.dispatch("insertToken",[a,t]),a):{FAIL:"insertToken: invalid token(s)."}};mt.prototype.registerModifier=function(a,t,r){this.events.newToken.subscribe(function(l,u){var o=[l,u],d=t===null||t.apply(this,o)===!0,p=[l,u];if(d){var h=r.apply(this,p);l.setState(a,h)}}),this.registeredModifiers.push(a)};$s.prototype.subscribe=function(a){return typeof a=="function"?this.subscribers.push(a)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};$s.prototype.unsubscribe=function(a){this.subscribers.splice(a,1)};kn.prototype.setCurrentIndex=function(a){this.index=a,this.current=this.context[a],this.backtrack=this.context.slice(0,a),this.lookahead=this.context.slice(a+1)};kn.prototype.get=function(a){switch(!0){case a===0:return this.current;case(a<0&&Math.abs(a)<=this.backtrack.length):return this.backtrack.slice(a)[0];case(a>0&&a<=this.lookahead.length):return this.lookahead[a-1];default:return null}};mt.prototype.rangeToText=function(a){if(a instanceof Lc)return this.getRangeTokens(a).map(function(t){return t.char}).join("")};mt.prototype.getText=function(){return this.tokens.map(function(a){return a.char}).join("")};mt.prototype.getContext=function(a){var t=this.registeredContexts[a];return t||null};mt.prototype.on=function(a,t){var r=this.events[a];return r?r.subscribe(t):null};mt.prototype.dispatch=function(a,t){var r=this,l=this.events[a];l instanceof $s&&l.subscribers.forEach(function(u){u.apply(r,t||[])})};mt.prototype.registerContextChecker=function(a,t,r){if(this.getContext(a))return{FAIL:"context name '"+a+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof r!="function")return{FAIL:"missing context end check."};var l=new xS(a,t,r);return this.registeredContexts[a]=l,this.contextCheckers.push(l),l};mt.prototype.getRangeTokens=function(a){var t=a.startIndex+a.endOffset;return[].concat(this.tokens.slice(a.startIndex,t))};mt.prototype.getContextRanges=function(a){var t=this.getContext(a);return t?t.ranges:{FAIL:"context checker '"+a+"' is not registered."}};mt.prototype.resetContextsRanges=function(){var a=this.registeredContexts;for(var t in a)if(a.hasOwnProperty(t)){var r=a[t];r.ranges=[]}};mt.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var a=this.tokens.map(function(l){return l.char}),t=0;t<a.length;t++){var r=new kn(a,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])};mt.prototype.setEndOffset=function(a,t){var r=this.getContext(t).openRange.startIndex,l=new Lc(r,a,t),u=this.getContext(t).ranges;return l.rangeId=t+"."+u.length,u.push(l),this.getContext(t).openRange=null,l};mt.prototype.runContextCheck=function(a){var t=this,r=a.index;this.contextCheckers.forEach(function(l){var u=l.contextName,o=t.getContext(u).openRange;if(!o&&l.checkStart(a)&&(o=new Lc(r,null,u),t.getContext(u).openRange=o,t.dispatch("contextStart",[u,r])),o&&l.checkEnd(a)){var d=r-o.startIndex+1,p=t.setEndOffset(d,u);t.dispatch("contextEnd",[u,p])}})};mt.prototype.tokenize=function(a){this.tokens=[],this.resetContextsRanges();var t=Array.from(a);this.dispatch("start");for(var r=0;r<t.length;r++){var l=t[r],u=new kn(t,r);this.dispatch("next",[u]),this.runContextCheck(u);var o=new hi(l);this.tokens.push(o),this.dispatch("newToken",[o,u])}return this.dispatch("end",[this.tokens]),this.tokens};function Xa(a){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(a)}function X0(a){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(a)}function Qa(a){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(a)}function Ys(a){return/[A-z]/.test(a)}function TS(a){return/\s/.test(a)}function pn(a){this.font=a,this.features={}}function xr(a){this.id=a.id,this.tag=a.tag,this.substitution=a.substitution}function Cl(a,t){if(!a)return-1;switch(t.format){case 1:return t.glyphs.indexOf(a);case 2:for(var r=t.ranges,l=0;l<r.length;l++){var u=r[l];if(a>=u.start&&a<=u.end){var o=a-u.start;return u.index+o}}break;default:return-1}return-1}function AS(a,t){var r=Cl(a,t.coverage);return r===-1?null:a+t.deltaGlyphId}function CS(a,t){var r=Cl(a,t.coverage);return r===-1?null:t.substitute[r]}function gc(a,t){for(var r=[],l=0;l<a.length;l++){var u=a[l],o=t.current;o=Array.isArray(o)?o[0]:o;var d=Cl(o,u);d!==-1&&r.push(d)}return r.length!==a.length?-1:r}function MS(a,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(a.context.length<r)return[];var l=gc(t.inputCoverage,a);if(l===-1)return[];var u=t.inputCoverage.length-1;if(a.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=a.lookahead.slice(u);o.length&&Qa(o[0].char);)o.shift();var d=new kn(o,0),p=gc(t.lookaheadCoverage,d),h=[].concat(a.backtrack);for(h.reverse();h.length&&Qa(h[0].char);)h.shift();if(h.length<t.backtrackCoverage.length)return[];var m=new kn(h,0),g=gc(t.backtrackCoverage,m),x=l.length===t.inputCoverage.length&&p.length===t.lookaheadCoverage.length&&g.length===t.backtrackCoverage.length,S=[];if(x)for(var A=0;A<t.lookupRecords.length;A++)for(var D=t.lookupRecords[A],w=D.lookupListIndex,F=this.getLookupByIndex(w),U=0;U<F.subtables.length;U++){var Q=F.subtables[U],V=this.getLookupMethod(F,Q),te=this.getSubstitutionType(F,Q);if(te==="12")for(var W=0;W<l.length;W++){var oe=a.get(W),xe=V(oe);xe&&S.push(xe)}}return S}function NS(a,t){var r=a.current,l=Cl(r,t.coverage);if(l===-1)return null;for(var u,o=t.ligatureSets[l],d=0;d<o.length;d++){u=o[d];for(var p=0;p<u.components.length;p++){var h=a.lookahead[p],m=u.components[p];if(h!==m)break;if(p===u.components.length-1)return u}}return null}function RS(a,t){var r=Cl(a,t.coverage);return r===-1?null:t.sequences[r]}pn.prototype.getDefaultScriptFeaturesIndexes=function(){for(var a=this.font.tables.gsub.scripts,t=0;t<a.length;t++){var r=a[t];if(r.tag==="DFLT")return r.script.defaultLangSys.featureIndexes}return[]};pn.prototype.getScriptFeaturesIndexes=function(a){var t=this.font.tables;if(!t.gsub)return[];if(!a)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.tables.gsub.scripts,l=0;l<r.length;l++){var u=r[l];if(u.tag===a&&u.script.defaultLangSys)return u.script.defaultLangSys.featureIndexes;var o=u.langSysRecords;if(o)for(var d=0;d<o.length;d++){var p=o[d];if(p.tag===a){var h=p.langSys;return h.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};pn.prototype.mapTagsToFeatures=function(a,t){for(var r={},l=0;l<a.length;l++){var u=a[l].tag,o=a[l].feature;r[u]=o}this.features[t].tags=r};pn.prototype.getScriptFeatures=function(a){var t=this.features[a];if(this.features.hasOwnProperty(a))return t;var r=this.getScriptFeaturesIndexes(a);if(!r)return null;var l=this.font.tables.gsub;return t=r.map(function(u){return l.features[u]}),this.features[a]=t,this.mapTagsToFeatures(t,a),t};pn.prototype.getSubstitutionType=function(a,t){var r=a.lookupType.toString(),l=t.substFormat.toString();return r+l};pn.prototype.getLookupMethod=function(a,t){var r=this,l=this.getSubstitutionType(a,t);switch(l){case"11":return function(u){return AS.apply(r,[u,t])};case"12":return function(u){return CS.apply(r,[u,t])};case"63":return function(u){return MS.apply(r,[u,t])};case"41":return function(u){return NS.apply(r,[u,t])};case"21":return function(u){return RS.apply(r,[u,t])};default:throw new Error("lookupType: "+a.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};pn.prototype.lookupFeature=function(a){var t=a.contextParams,r=t.index,l=this.getFeature({tag:a.tag,script:a.script});if(!l)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+a.tag+"' for script '"+a.script+"'.");for(var u=this.getFeatureLookups(l),o=[].concat(t.context),d=0;d<u.length;d++)for(var p=u[d],h=this.getLookupSubtables(p),m=0;m<h.length;m++){var g=h[m],x=this.getSubstitutionType(p,g),S=this.getLookupMethod(p,g),A=void 0;switch(x){case"11":A=S(t.current),A&&o.splice(r,1,new xr({id:11,tag:a.tag,substitution:A}));break;case"12":A=S(t.current),A&&o.splice(r,1,new xr({id:12,tag:a.tag,substitution:A}));break;case"63":A=S(t),Array.isArray(A)&&A.length&&o.splice(r,1,new xr({id:63,tag:a.tag,substitution:A}));break;case"41":A=S(t),A&&o.splice(r,1,new xr({id:41,tag:a.tag,substitution:A}));break;case"21":A=S(t.current),A&&o.splice(r,1,new xr({id:21,tag:a.tag,substitution:A}));break}t=new kn(o,r),!(Array.isArray(A)&&!A.length)&&(A=null)}return o.length?o:null};pn.prototype.supports=function(a){if(!a.script)return!1;this.getScriptFeatures(a.script);var t=this.features.hasOwnProperty(a.script);if(!a.tag)return t;var r=this.features[a.script].some(function(l){return l.tag===a.tag});return t&&r};pn.prototype.getLookupSubtables=function(a){return a.subtables||null};pn.prototype.getLookupByIndex=function(a){var t=this.font.tables.gsub.lookups;return t[a]||null};pn.prototype.getFeatureLookups=function(a){return a.lookupListIndexes.map(this.getLookupByIndex.bind(this))};pn.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var r=this.features[t.script];return r?r.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function wS(a){var t=a.current,r=a.get(-1);return r===null&&Xa(t)||!Xa(r)&&Xa(t)}function OS(a){var t=a.get(1);return t===null||!Xa(t)}var DS={startCheck:wS,endCheck:OS};function _S(a){var t=a.current,r=a.get(-1);return(Xa(t)||Qa(t))&&!Xa(r)}function US(a){var t=a.get(1);switch(!0){case t===null:return!0;case(!Xa(t)&&!Qa(t)):var r=TS(t);if(!r)return!0;if(r){var l=!1;if(l=a.lookahead.some(function(u){return Xa(u)||Qa(u)}),!l)return!0}break;default:return!1}}var LS={startCheck:_S,endCheck:US};function kS(a,t,r){t[r].setState(a.tag,a.substitution)}function BS(a,t,r){t[r].setState(a.tag,a.substitution)}function IS(a,t,r){a.substitution.forEach(function(l,u){var o=t[r+u];o.setState(a.tag,l)})}function FS(a,t,r){var l=t[r];l.setState(a.tag,a.substitution.ligGlyph);for(var u=a.substitution.components.length,o=0;o<u;o++)l=t[r+o+1],l.setState("deleted",!0)}var n0={11:kS,12:BS,63:IS,41:FS};function kc(a,t,r){a instanceof xr&&n0[a.id]&&n0[a.id](a,t,r)}function GS(a){for(var t=[].concat(a.backtrack),r=t.length-1;r>=0;r--){var l=t[r],u=X0(l),o=Qa(l);if(!u&&!o)return!0;if(u)return!1}return!1}function zS(a){if(X0(a.current))return!1;for(var t=0;t<a.lookahead.length;t++){var r=a.lookahead[t],l=Qa(r);if(!l)return!0}return!1}function HS(a){var t=this,r="arab",l=this.featuresTags[r],u=this.tokenizer.getRangeTokens(a);if(u.length!==1){var o=new kn(u.map(function(p){return p.getState("glyphIndex")}),0),d=new kn(u.map(function(p){return p.char}),0);u.forEach(function(p,h){if(!Qa(p.char)){o.setCurrentIndex(h),d.setCurrentIndex(h);var m=0;GS(d)&&(m|=1),zS(d)&&(m|=2);var g;switch(m){case 1:g="fina";break;case 2:g="init";break;case 3:g="medi";break}if(l.indexOf(g)!==-1){var x=t.query.lookupFeature({tag:g,script:r,contextParams:o});if(x instanceof Error)return console.info(x.message);x.forEach(function(S,A){S instanceof xr&&(kc(S,u,A),o.context[A]=S.substitution)})}}})}}function a0(a,t){var r=a.map(function(l){return l.activeState.value});return new kn(r,0)}function jS(a){var t=this,r="arab",l=this.tokenizer.getRangeTokens(a),u=a0(l);u.context.forEach(function(o,d){u.setCurrentIndex(d);var p=t.query.lookupFeature({tag:"rlig",script:r,contextParams:u});p.length&&(p.forEach(function(h){return kc(h,l,d)}),u=a0(l))})}function PS(a){var t=a.current,r=a.get(-1);return r===null&&Ys(t)||!Ys(r)&&Ys(t)}function YS(a){var t=a.get(1);return t===null||!Ys(t)}var qS={startCheck:PS,endCheck:YS};function r0(a,t){var r=a.map(function(l){return l.activeState.value});return new kn(r,0)}function VS(a){var t=this,r="latn",l=this.tokenizer.getRangeTokens(a),u=r0(l);u.context.forEach(function(o,d){u.setCurrentIndex(d);var p=t.query.lookupFeature({tag:"liga",script:r,contextParams:u});p.length&&(p.forEach(function(h){return kc(h,l,d)}),u=r0(l))})}function In(a){this.baseDir=a||"ltr",this.tokenizer=new mt,this.featuresTags={}}In.prototype.setText=function(a){this.text=a};In.prototype.contextChecks={latinWordCheck:qS,arabicWordCheck:DS,arabicSentenceCheck:LS};function yc(a){var t=this.contextChecks[a+"Check"];return this.tokenizer.registerContextChecker(a,t.startCheck,t.endCheck)}function XS(){return yc.call(this,"latinWord"),yc.call(this,"arabicWord"),yc.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function ZS(){var a=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(r){var l=a.tokenizer.getRangeTokens(r);a.tokenizer.replaceRange(r.startIndex,r.endOffset,l.reverse())})}In.prototype.registerFeatures=function(a,t){var r=this,l=t.filter(function(u){return r.query.supports({script:a,tag:u})});this.featuresTags.hasOwnProperty(a)?this.featuresTags[a]=this.featuresTags[a].concat(l):this.featuresTags[a]=l};In.prototype.applyFeatures=function(a,t){if(!a)throw new Error("No valid font was provided to apply features");this.query||(this.query=new pn(a));for(var r=0;r<t.length;r++){var l=t[r];this.query.supports({script:l.script})&&this.registerFeatures(l.script,l.tags)}};In.prototype.registerModifier=function(a,t,r){this.tokenizer.registerModifier(a,t,r)};function Bc(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function QS(){var a=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){Bc.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(l){HS.call(a,l)})}}function KS(){var a=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("rlig")!==-1){Bc.call(this);var l=this.tokenizer.getContextRanges("arabicWord");l.forEach(function(u){jS.call(a,u)})}}}function WS(){var a=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("liga")!==-1){Bc.call(this);var l=this.tokenizer.getContextRanges("latinWord");l.forEach(function(u){VS.call(a,u)})}}}In.prototype.checkContextReady=function(a){return!!this.tokenizer.getContext(a)};In.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(QS.call(this),KS.call(this)),this.checkContextReady("latinWord")&&WS.call(this),this.checkContextReady("arabicSentence")&&ZS.call(this)};In.prototype.processText=function(a){(!this.text||this.text!==a)&&(this.setText(a),XS.call(this),this.applyFeaturesToContexts())};In.prototype.getBidiText=function(a){return this.processText(a),this.tokenizer.getText()};In.prototype.getTextGlyphs=function(a){this.processText(a);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var l=this.tokenizer.tokens[r];if(!l.state.deleted){var u=l.activeState.value;t.push(Array.isArray(u)?u[0]:u)}}return t};function ut(a){a=a||{},a.tables=a.tables||{},a.empty||(vl(a.familyName,"When creating a new Font object, familyName is required."),vl(a.styleName,"When creating a new Font object, styleName is required."),vl(a.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),vl(a.ascender,"When creating a new Font object, ascender is required."),vl(a.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:a.familyName||" "},fontSubfamily:{en:a.styleName||" "},fullName:{en:a.fullName||a.familyName+" "+a.styleName},postScriptName:{en:a.postScriptName||(a.familyName+a.styleName).replace(/\s/g,"")},designer:{en:a.designer||" "},designerURL:{en:a.designerURL||" "},manufacturer:{en:a.manufacturer||" "},manufacturerURL:{en:a.manufacturerURL||" "},license:{en:a.license||" "},licenseURL:{en:a.licenseURL||" "},version:{en:a.version||"Version 0.1"},description:{en:a.description||" "},copyright:{en:a.copyright||" "},trademark:{en:a.trademark||" "}},this.unitsPerEm=a.unitsPerEm||1e3,this.ascender=a.ascender,this.descender=a.descender,this.createdTimestamp=a.createdTimestamp,this.tables=Object.assign(a.tables,{os2:Object.assign({usWeightClass:a.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:a.widthClass||this.usWidthClasses.MEDIUM,fsSelection:a.fsSelection||this.fsSelectionValues.REGULAR},a.tables.os2)})),this.supported=!0,this.glyphs=new Xn.GlyphSet(this,a.glyphs||[]),this.encoding=new A0(this),this.position=new El(this),this.substitution=new hn(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new P0(this)}})}ut.prototype.hasChar=function(a){return this.encoding.charToGlyphIndex(a)!==null};ut.prototype.charToGlyphIndex=function(a){return this.encoding.charToGlyphIndex(a)};ut.prototype.charToGlyph=function(a){var t=this.charToGlyphIndex(a),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};ut.prototype.updateFeatures=function(a){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(r){return a[r]})}:t})};ut.prototype.stringToGlyphs=function(a,t){var r=this,l=new In,u=function(x){return r.charToGlyphIndex(x.char)};l.registerModifier("glyphIndex",null,u);var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;l.applyFeatures(this,o);for(var d=l.getTextGlyphs(a),p=d.length,h=new Array(p),m=this.glyphs.get(0),g=0;g<p;g+=1)h[g]=this.glyphs.get(d[g])||m;return h};ut.prototype.nameToGlyphIndex=function(a){return this.glyphNames.nameToGlyphIndex(a)};ut.prototype.nameToGlyph=function(a){var t=this.nameToGlyphIndex(a),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};ut.prototype.glyphIndexToName=function(a){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(a):""};ut.prototype.getKerningValue=function(a,t){a=a.index||a,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,a,t):this.kerningPairs[a+","+t]||0};ut.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};ut.prototype.forEachGlyph=function(a,t,r,l,u,o){t=t!==void 0?t:0,r=r!==void 0?r:0,l=l!==void 0?l:72,u=Object.assign({},this.defaultRenderOptions,u);var d=1/this.unitsPerEm*l,p=this.stringToGlyphs(a,u),h;if(u.kerning){var m=u.script||this.position.getDefaultScriptName();h=this.position.getKerningTables(m,u.language)}for(var g=0;g<p.length;g+=1){var x=p[g];if(o.call(this,x,t,r,l,u),x.advanceWidth&&(t+=x.advanceWidth*d),u.kerning&&g<p.length-1){var S=h?this.position.getKerningValue(h,x.index,p[g+1].index):this.getKerningValue(x,p[g+1]);t+=S*d}u.letterSpacing?t+=u.letterSpacing*l:u.tracking&&(t+=u.tracking/1e3*l)}return t};ut.prototype.getPath=function(a,t,r,l,u){var o=new Ct;return this.forEachGlyph(a,t,r,l,u,function(d,p,h,m){var g=d.getPath(p,h,m,u,this);o.extend(g)}),o};ut.prototype.getPaths=function(a,t,r,l,u){var o=[];return this.forEachGlyph(a,t,r,l,u,function(d,p,h,m){var g=d.getPath(p,h,m,u,this);o.push(g)}),o};ut.prototype.getAdvanceWidth=function(a,t,r){return this.forEachGlyph(a,0,0,t,r,function(){})};ut.prototype.draw=function(a,t,r,l,u,o){this.getPath(t,r,l,u,o).draw(a)};ut.prototype.drawPoints=function(a,t,r,l,u,o){this.forEachGlyph(t,r,l,u,o,function(d,p,h,m){d.drawPoints(a,p,h,m)})};ut.prototype.drawMetrics=function(a,t,r,l,u,o){this.forEachGlyph(t,r,l,u,o,function(d,p,h,m){d.drawMetrics(a,p,h,m)})};ut.prototype.getEnglishName=function(a){var t=this.names[a];if(t)return t.en};ut.prototype.validate=function(){var a=this;function t(l,u){}function r(l){var u=a.getEnglishName(l);u&&u.trim().length>0}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm>0};ut.prototype.toTables=function(){return I1.fontToTable(this)};ut.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};ut.prototype.toArrayBuffer=function(){for(var a=this.toTables(),t=a.encode(),r=new ArrayBuffer(t.length),l=new Uint8Array(r),u=0;u<t.length;u++)l[u]=t[u];return r};ut.prototype.download=function(a){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");a=a||t.replace(/\s/g,"")+"-"+r+".otf";var l=this.toArrayBuffer();if(G1())if(window.URL=window.URL||window.webkitURL,window.URL){var u=new DataView(l),o=new Blob([u],{type:"font/opentype"}),d=document.createElement("a");d.href=window.URL.createObjectURL(o),d.download=a;var p=document.createEvent("MouseEvents");p.initEvent("click",!0,!1),d.dispatchEvent(p)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var h=require("fs"),m=z1(l);h.writeFileSync(a,m)}};ut.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};ut.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};ut.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var pa=new Array(10);pa[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{posFormat:1,coverage:this.parsePointer(H.coverage),value:this.parseValueRecord()};if(r===2)return{posFormat:2,coverage:this.parsePointer(H.coverage),values:this.parseValueRecordList()};De.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};pa[2]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();De.assert(r===1||r===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var l=this.parsePointer(H.coverage),u=this.parseUShort(),o=this.parseUShort();if(r===1)return{posFormat:r,coverage:l,valueFormat1:u,valueFormat2:o,pairSets:this.parseList(H.pointer(H.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(u),value2:this.parseValueRecord(o)}})))};if(r===2){var d=this.parsePointer(H.classDef),p=this.parsePointer(H.classDef),h=this.parseUShort(),m=this.parseUShort();return{posFormat:r,coverage:l,valueFormat1:u,valueFormat2:o,classDef1:d,classDef2:p,class1Count:h,class2Count:m,classRecords:this.parseList(h,H.list(m,function(){return{value1:this.parseValueRecord(u),value2:this.parseValueRecord(o)}}))}}};pa[3]=function(){return{error:"GPOS Lookup 3 not supported"}};pa[4]=function(){return{error:"GPOS Lookup 4 not supported"}};pa[5]=function(){return{error:"GPOS Lookup 5 not supported"}};pa[6]=function(){return{error:"GPOS Lookup 6 not supported"}};pa[7]=function(){return{error:"GPOS Lookup 7 not supported"}};pa[8]=function(){return{error:"GPOS Lookup 8 not supported"}};pa[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);const JS=Za.memo(({playbackFps:a,onSpeedChange:t})=>b.jsxs("div",{className:"master-speed-slider",children:[b.jsxs("label",{htmlFor:"masterSpeedRange",children:[a," FPS"]}),b.jsx(At,{id:"master_speed",children:b.jsx("input",{type:"range",min:"1",max:"120",value:a,className:"slider_hor",id:"masterSpeedRange",onChange:r=>t(parseInt(r.target.value))})})]})),$S=Za.memo(({isWorldOutputActive:a,onToggleWorldOutput:t})=>b.jsx("div",{className:"container",children:b.jsx(At,{id:"laser_output",children:b.jsx("input",{type:"checkbox",checked:a,onChange:t})})})),Z0=a=>({columns:Array.from({length:8},(t,r)=>`Col ${r+1}`),layers:Array.from({length:5},(t,r)=>`Layer ${r+1}`),clipContents:Array(5).fill(null).map(()=>Array(8).fill(null).map(()=>({parsing:!1}))),clipNames:Array(5).fill(null).map((t,r)=>Array(8).fill(null).map((l,u)=>`Clip ${r+1}-${u+1}`)),thumbnailFrameIndexes:Array(5).fill(null).map(()=>Array(8).fill(0)),layerEffects:Array(5).fill([]),layerIntensities:Array(5).fill(1),layerBlackouts:Array(5).fill(!1),layerSolos:Array(5).fill(!1),masterIntensity:1,globalBlackout:!1,selectedLayerIndex:null,selectedColIndex:null,notification:{message:"",visible:!1},dacs:[],selectedDac:a?.dacAssignment?.selectedDac??null,ildaFrames:[],selectedIldaWorkerId:null,selectedIldaTotalFrames:0,bpm:a?.bpm??120,showBeamEffect:a?.renderSettings?.showBeamEffect??!0,beamAlpha:a?.renderSettings?.beamAlpha??.1,fadeAlpha:a?.renderSettings?.fadeAlpha??.13,playbackFps:a?.renderSettings?.playbackFps??60,previewScanRate:a?.renderSettings?.previewScanRate??1,beamRenderMode:a?.renderSettings?.beamRenderMode??"points",activeClipIndexes:Array(5).fill(null),isPlaying:!1,isStopped:!0,isWorldOutputActive:!1,thumbnailRenderMode:a?.thumbnailRenderMode??"still",theme:a?.theme??"orange",projectLoadTimestamp:null,clipClipboard:null});function ex(a,t){switch(t.type){case"SET_COLUMNS":return{...a,columns:t.payload};case"SET_COLUMN_NAME":{const l=[...a.columns];return l[t.payload.index]=t.payload.name,{...a,columns:l}}case"SET_LAYERS":return{...a,layers:t.payload};case"SET_LAYER_NAME":{const l=[...a.layers];return l[t.payload.index]=t.payload.name,{...a,layers:l}}case"SET_CLIP_CONTENT":{const l=[...a.clipContents];if(!l[t.payload.layerIndex])return console.error(`Reducer Error: Layer array at index ${t.payload.layerIndex} is undefined. Action:`,t),a;l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u=l[t.payload.layerIndex][t.payload.colIndex]||{};return l[t.payload.layerIndex][t.payload.colIndex]={...u,...t.payload.content},{...a,clipContents:l}}case"SET_CLIP_NAME":{const l=[...a.clipNames];return l[t.payload.layerIndex][t.payload.colIndex]=t.payload.name,{...a,clipNames:l}}case"SET_THUMBNAIL_FRAME_INDEX":{const l=[...a.thumbnailFrameIndexes];return l[t.payload.layerIndex][t.payload.colIndex]=t.payload.index,{...a,thumbnailFrameIndexes:l}}case"ADD_LAYER_EFFECT":{const l=[...a.layerEffects];return l[t.payload.layerIndex].push(t.payload.effect),{...a,layerEffects:l}}case"ADD_CLIP_EFFECT":{const l=[...a.clipContents];if(!l[t.payload.layerIndex])return console.error(`Reducer Error: Layer array at index ${t.payload.layerIndex} is undefined. Action:`,t),a;l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u=l[t.payload.layerIndex][t.payload.colIndex]||{},o={...t.payload.effect,params:{...t.payload.effect.defaultParams}},d={...u,effects:[...u.effects||[],o]};return l[t.payload.layerIndex][t.payload.colIndex]=d,{...a,clipContents:l}}case"SET_SELECTED_CLIP":return{...a,selectedLayerIndex:t.payload.layerIndex,selectedColIndex:t.payload.colIndex};case"SET_NOTIFICATION":return{...a,notification:t.payload};case"SET_ILDA_FRAMES":return{...a,ildaFrames:t.payload};case"SET_SELECTED_ILDA_DATA":return{...a,selectedIldaWorkerId:t.payload.workerId,selectedIldaTotalFrames:t.payload.totalFrames,selectedGeneratorId:t.payload.generatorId,selectedGeneratorParams:t.payload.generatorParams};case"SET_ACTIVE_CLIP":{const l=[...a.activeClipIndexes];return l[t.payload.layerIndex]=t.payload.colIndex,{...a,activeClipIndexes:l}}case"CLEAR_CLIP":{const l=[...a.clipContents];l[t.payload.layerIndex]=[...l[t.payload.layerIndex]],l[t.payload.layerIndex][t.payload.colIndex]=null;const u=[...a.clipNames];u[t.payload.layerIndex][t.payload.colIndex]=`Clip ${t.payload.layerIndex+1}-${t.payload.colIndex+1}`;const o=[...a.thumbnailFrameIndexes];o[t.payload.layerIndex][t.payload.colIndex]=0;const d=[...a.activeClipIndexes];return d[t.payload.layerIndex]===t.payload.colIndex&&(d[t.payload.layerIndex]=null),a.selectedLayerIndex===t.payload.layerIndex&&a.selectedColIndex===t.payload.colIndex?{...a,clipContents:l,clipNames:u,thumbnailFrameIndexes:o,activeClipIndexes:d,selectedLayerIndex:null,selectedColIndex:null,selectedIldaWorkerId:null,selectedIldaTotalFrames:0,selectedGeneratorId:null,selectedGeneratorParams:{}}:{...a,clipContents:l,clipNames:u,thumbnailFrameIndexes:o,activeClipIndexes:d}}case"DEACTIVATE_LAYER_CLIPS":{const l=[...a.activeClipIndexes];return l[t.payload.layerIndex]=null,{...a,activeClipIndexes:l}}case"CLEAR_ALL_ACTIVE_CLIPS":return{...a,activeClipIndexes:Array(a.layers.length).fill(null)};case"SET_LAYER_INTENSITY":{const l=[...a.layerIntensities];return l[t.payload.layerIndex]=t.payload.intensity,{...a,layerIntensities:l}}case"TOGGLE_LAYER_BLACKOUT":{const l=[...a.layerBlackouts];return l[t.payload.layerIndex]=!l[t.payload.layerIndex],{...a,layerBlackouts:l}}case"TOGGLE_LAYER_SOLO":{const l=[...a.layerSolos],u=l[t.payload.layerIndex];return l.fill(!1),u||(l[t.payload.layerIndex]=!0),{...a,layerSolos:l}}case"SET_MASTER_INTENSITY":return{...a,masterIntensity:t.payload};case"TOGGLE_GLOBAL_BLACKOUT":return{...a,globalBlackout:!a.globalBlackout};case"SET_RENDER_SETTING":return{...a,[t.payload.setting]:t.payload.value};case"REMOVE_CLIP_EFFECT":{const l=[...a.clipContents];l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u={...l[t.payload.layerIndex][t.payload.colIndex]};if(u&&u.effects){const o=[...u.effects];o.splice(t.payload.effectIndex,1),u.effects=o,l[t.payload.layerIndex][t.payload.colIndex]=u}return{...a,clipContents:l}}case"UPDATE_EFFECT_PARAMETER":{const l=[...a.clipContents];l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u={...l[t.payload.layerIndex][t.payload.colIndex]};if(u&&u.effects){const o=[...u.effects],d={...o[t.payload.effectIndex]};d.params={...d.params,[t.payload.paramName]:t.payload.newValue},o[t.payload.effectIndex]=d,u.effects=o,l[t.payload.layerIndex][t.payload.colIndex]=u}return{...a,clipContents:l}}case"UPDATE_CLIP_PLAYBACK_SETTINGS":{const l=[...a.clipContents];l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u={...l[t.payload.layerIndex][t.payload.colIndex]};return u&&(u.playbackSettings={...u.playbackSettings||{mode:"fps",duration:1,beats:8,speedMultiplier:1},...t.payload.settings},l[t.payload.layerIndex][t.payload.colIndex]=u),{...a,clipContents:l}}case"SET_CLIP_PARAM_SYNC":{const{layerIndex:l,colIndex:u,paramId:o,syncMode:d}=t.payload,p=[...a.clipContents];p[l]=[...p[l]];const h={...p[l][u]};if(h){const m=h.syncSettings||{},g=m[o]===d?null:d;h.syncSettings={...m,[o]:g},p[l][u]=h}return{...a,clipContents:p}}case"UPDATE_GENERATOR_PARAM":{const l=[...a.clipContents];l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u={...l[t.payload.layerIndex][t.payload.colIndex]};return u&&u.type==="generator"&&u.currentParams&&(u.currentParams={...u.currentParams,[t.payload.paramName]:t.payload.newValue},l[t.payload.layerIndex][t.payload.colIndex]=u,a.selectedLayerIndex===t.payload.layerIndex&&a.selectedColIndex===t.payload.colIndex)?{...a,clipContents:l,selectedGeneratorParams:u.currentParams}:{...a,clipContents:l}}case"SET_DACS":return{...a,dacs:t.payload};case"SET_BPM":return{...a,bpm:t.payload};case"SET_SELECTED_DAC":return{...a,selectedDac:t.payload};case"SET_IS_PLAYING":return{...a,isPlaying:t.payload};case"SET_IS_STOPPED":return{...a,isStopped:t.payload};case"SET_WORLD_OUTPUT_ACTIVE":return{...a,isWorldOutputActive:t.payload};case"TOGGLE_WORLD_OUTPUT_ACTIVE":return{...a,isWorldOutputActive:!a.isWorldOutputActive};case"SET_CLIPBOARD":return{...a,clipClipboard:t.payload};case"SET_CLIP_DAC":{console.log("App.jsx Reducer: SET_CLIP_DAC payload.dac:",t.payload.dac);const l=[...a.clipContents];if(!l[t.payload.layerIndex])return console.error(`Reducer Error: Layer array at index ${t.payload.layerIndex} is undefined. Action:`,t),a;l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const u=l[t.payload.layerIndex][t.payload.colIndex]||{},o=u.assignedDacs||[];if(o.some(p=>p.ip===t.payload.dac.ip&&p.channel===t.payload.dac.channel))return a;const d={...u,assignedDacs:[...o,{...t.payload.dac,mirrorX:!1,mirrorY:!1}]};return l[t.payload.layerIndex][t.payload.colIndex]=d,{...a,clipContents:l}}case"TOGGLE_CLIP_DAC_MIRROR":{const{layerIndex:l,colIndex:u,dacIndex:o,axis:d}=t.payload,p=[...a.clipContents];p[l]=[...p[l]];const h={...p[l][u]};if(h&&h.assignedDacs){const m=[...h.assignedDacs],g={...m[o]};return d==="x"&&(g.mirrorX=!g.mirrorX),d==="y"&&(g.mirrorY=!g.mirrorY),m[o]=g,h.assignedDacs=m,p[l][u]=h,{...a,clipContents:p}}return a}case"REMOVE_CLIP_DAC":{const l=[...a.clipContents];l[t.payload.layerIndex]=[...l[t.payload.layerIndex]];const{layerIndex:u,colIndex:o,dacIndex:d}=t.payload,p=l[u][o];if(p&&p.assignedDacs){const h=[...p.assignedDacs];return h.splice(d,1),l[t.payload.layerIndex][t.payload.colIndex]={...p,assignedDacs:h},{...a,clipContents:l}}return a}case"SET_CLIP_AUDIO":{const l=[...a.clipContents],{layerIndex:u,colIndex:o,audioFile:d}=t.payload;l[u]=[...l[u]];const p=l[u][o];return p?(l[u][o]={...p,audioFile:d},{...a,clipContents:l}):a}case"REMOVE_CLIP_AUDIO":{const l=[...a.clipContents],{layerIndex:u,colIndex:o}=t.payload;l[u]=[...l[u]];const d=l[u][o];return d?(l[u][o]={...d,audioFile:null},{...a,clipContents:l}):a}case"SET_CLIP_PARSING_STATUS":{const{layerIndex:l,colIndex:u,status:o}=t.payload,d=[...a.clipContents];d[l]=[...d[l]];const p=d[l][u]||{};return d[l][u]={...p,parsing:o},{...a,clipContents:d}}case"SET_THUMBNAIL_RENDER_MODE":return{...a,thumbnailRenderMode:t.payload};case"SET_CLIP_TRIGGER_STYLE":{const{layerIndex:l,colIndex:u,style:o}=t.payload,d=[...a.clipContents];d[l]=[...d[l]];const p=d[l][u]||{};return d[l][u]={...p,triggerStyle:o},{...a,clipContents:d}}case"SET_THEME":return{...a,theme:t.payload};case"UPDATE_THUMBNAIL":{const{layerIndex:l,colIndex:u,frameIndex:o}=t.payload,d=[...a.thumbnailFrameIndexes];return d[l][u]=o,{...a,thumbnailFrameIndexes:d}}case"RESET_STATE":return Z0({});case"LOAD_PROJECT":const r={...a,...t.payload};return r.clipContents=r.clipContents.map(l=>l.map(u=>u&&u.type==="ilda"?{...u,workerId:null}:u)),r.activeClipIndexes=Array(a.layers.length).fill(null),r.selectedLayerIndex=null,r.selectedColIndex=null,r.selectedIldaWorkerId=null,r.selectedIldaTotalFrames=0,r.selectedGeneratorId=null,r.selectedGeneratorParams={},r.projectLoadTimestamp=Date.now(),r;case"LOAD_SETTINGS":return{...a,showBeamEffect:t.payload.renderSettings?.showBeamEffect??a.showBeamEffect,beamAlpha:t.payload.renderSettings?.beamAlpha??a.beamAlpha,fadeAlpha:t.payload.renderSettings?.fadeAlpha??a.fadeAlpha,playbackFps:t.payload.renderSettings?.playbackFps??a.playbackFps,previewScanRate:t.payload.renderSettings?.previewScanRate??a.previewScanRate,beamRenderMode:t.payload.renderSettings?.beamRenderMode??a.beamRenderMode,theme:t.payload.theme??a.theme,thumbnailRenderMode:t.payload.thumbnailRenderMode??a.thumbnailRenderMode,selectedDac:t.payload.selectedDac??a.selectedDac};default:return a}}const i0={orange:{full:9,dim:10},yellow:{full:13,dim:14},cyan:{full:36,dim:35},"light-blue":{full:41,dim:43},blue:{full:45,dim:46},magenta:{full:53,dim:54},red:{full:5,dim:6},green:{full:21,dim:22},white:{full:3,dim:1}},tx=({isPlaying:a,globalBlackout:t,layerBlackouts:r,layerSolos:l,isWorldOutputActive:u,clipContents:o,activeClipIndexes:d,theme:p,bpm:h})=>{const{sendFeedback:m,mappings:g,selectedMidiInputId:x,midiInitialized:S}=Ws();return L.useEffect(()=>{if(!x||!S||!a){S&&x&&js(x,"F#6",0,1);return}let A=!1;const D=6e4/(h||120),w=setInterval(()=>{A=!A,js(x,"F#6",A?127:0,1)},D/2);return()=>{clearInterval(w),js(x,"F#6",0,1)}},[a,h,x,S]),L.useEffect(()=>{m("transport_play",a),m("transport_stop",!a)},[a,m]),L.useEffect(()=>{m("comp_blackout",t)},[t,m]),L.useEffect(()=>{m("laser_output",u)},[u,m]),L.useEffect(()=>{r.forEach((A,D)=>{m(`layer_${D}_blackout`,A)})},[r,m]),L.useEffect(()=>{l.forEach((A,D)=>{m(`layer_${D}_solo`,A)})},[l,m]),L.useEffect(()=>{if(!o||!d)return;const A=i0[p]||i0.orange;o.forEach((D,w)=>{D.forEach((F,U)=>{const Q=`clip_${w}_${U}`;if(g[Q]){const V=d[w]===U,te=F!==null&&(F.type==="ilda"||F.type==="generator"),W=F?.triggerStyle||"normal";let oe=0,xe=null;V?(oe=A.full,W==="toggle"&&(xe=10)):te&&(oe=A.dim),m(Q,oe,xe)}})})},[o,d,p,g,m]),null};function nx(){const a=Zg(),t=Wg(),{playAudio:r,stopAudio:l,pauseAllAudio:u,resumeAllAudio:o,setPlaybackRate:d,resetAllAudio:p,stopAllAudio:h,getAudioInfo:m}=Jg();L.useRef(new Set),L.useRef(0);const g=L.useRef({}),x=L.useRef({}),[S,A]=L.useState(0),D=L.useRef({}),w=L.useRef({}),[F,U]=L.useState(null),[Q,V]=L.useState(!1),[te,W]=L.useState(!1),[oe,xe]=L.useState({midi:!1,artnet:!1,osc:!1,keyboard:!1}),[Ee,ge]=L.useState(!1),[we,je]=L.useState({title:"",initialValue:"",onSave:()=>{}}),[ve,P]=L.useReducer(ex,Z0(Q?F:{})),{columns:le,layers:ne,clipContents:C,clipNames:X,thumbnailFrameIndexes:ie,layerEffects:Te,layerIntensities:T,layerBlackouts:z,layerSolos:$,masterIntensity:ae,globalBlackout:se,selectedLayerIndex:be,selectedColIndex:fe,notification:qe,dacs:Pe,selectedDac:qt,ildaFrames:Ml,selectedIldaWorkerId:Vt,selectedIldaTotalFrames:Tr,showBeamEffect:Ar,beamAlpha:Cr,fadeAlpha:Nl,playbackFps:Zn,previewScanRate:en,beamRenderMode:Rl,activeClipIndexes:tn,isPlaying:nn,isWorldOutputActive:Nn,selectedGeneratorId:Ic,selectedGeneratorParams:eu,thumbnailRenderMode:pi,theme:Mr}=ve,ma=L.useRef(T),It=L.useRef(ae),Rn=L.useRef(z),Ut=L.useRef($),wl=L.useRef(se);L.useEffect(()=>{ma.current=T,It.current=ae,Rn.current=z,Ut.current=$,wl.current=se},[T,ae,z,$,se]);const mi=L.useCallback(B=>{P({type:"SET_RENDER_SETTING",payload:{setting:"playbackFps",value:B}})},[]);L.useEffect(()=>{const B=Zn/60;d(B)},[Zn,d]);const Fn=B=>{P({type:"SET_NOTIFICATION",payload:{message:B,visible:!0}}),setTimeout(()=>{P({type:"SET_NOTIFICATION",payload:{message:"",visible:!1}})},3e3)},Xt=L.useMemo(()=>ne.map((B,N)=>{const K=tn[N];if(K!==null){const G=C[N][K];if(G){let J,de=null;if(G.type==="ilda"&&G.workerId&&G.totalFrames)return J=G.workerId,de=G.stillFrame,{type:"ilda",workerId:J,totalFrames:G.totalFrames,effects:G.effects||[],dac:G.dac||null,assignedDacs:G.assignedDacs||[],ildaFormat:G.ildaFormat||0,stillFrame:de,layerIndex:N};if(G.type==="generator"&&G.frames&&G.generatorDefinition)return J=`generator-${N}-${K}`,de=G.frames[0],{type:"generator",workerId:J,totalFrames:G.frames.length,effects:G.effects||[],dac:G.dac||null,assignedDacs:G.assignedDacs||[],ildaFormat:0,stillFrame:de,layerIndex:N}}}return null}).filter(Boolean),[ne,tn,C]);L.useEffect(()=>{const B={orange:"#ff5e00",yellow:"#ffd400",cyan:"#00fff3","light-blue":"#0089ff",blue:"#005aff",magenta:"#fb00ff",red:"#ff0000",green:"#00ff00",white:"#ffffff"},N=B[Mr]||B.orange;document.documentElement.style.setProperty("--theme-color",N);const K=parseInt(N.slice(1,3),16),G=parseInt(N.slice(3,5),16),J=parseInt(N.slice(5,7),16);document.documentElement.style.setProperty("--theme-color-transparent",`rgba(${K}, ${G}, ${J}, 0.2)`),window.electronAPI&&window.electronAPI.setTheme&&window.electronAPI.setTheme(Mr)},[Mr]);const Nr=L.useMemo(()=>{const B=new Set;return Vt&&B.add(Vt),Xt.forEach(N=>{N&&N.type==="ilda"&&N.workerId&&B.add(N.workerId)}),Array.from(B)},[Vt,Xt]);L.useEffect(()=>{if(!a)return;const B=Me=>{if(Me.data.type==="get-frame"&&Me.data.success)if(Me.data.isStillFrame){const{workerId:Je,frame:ce,layerIndex:tt,colIndex:it}=Me.data;P({type:"SET_CLIP_CONTENT",payload:{layerIndex:tt,colIndex:it,content:{stillFrame:ce,parsing:!1}}})}else g.current[Me.data.workerId]=Me.data.frame;else if(Me.data.type==="parse-ilda"&&Me.data.success){const{workerId:Je,totalFrames:ce,ildaFormat:tt,fileName:it,filePath:Oe,layerIndex:Ve,colIndex:ct}=Me.data,Ke=ve.clipContents[Ve][ct]||{},Ge={...Ke,type:"ilda",workerId:Je,totalFrames:ce,ildaFormat:tt,fileName:it,filePath:Oe,stillFrame:null,parsing:!0,playbackSettings:Ke.playbackSettings||{mode:"fps",duration:ce/60,beats:8,speedMultiplier:1}};P({type:"SET_CLIP_CONTENT",payload:{layerIndex:Ve,colIndex:ct,content:Ge}}),P({type:"SET_CLIP_NAME",payload:{layerIndex:Ve,colIndex:ct,name:it}}),a.postMessage({type:"get-frame",workerId:Je,frameIndex:0,isStillFrame:!0,layerIndex:Ve,colIndex:ct})}else if(Me.data.success===!1){Fn(`Worker error: ${Me.data.error}`);const{layerIndex:Je,colIndex:ce}=Me.data;Je!==void 0&&ce!==void 0&&P({type:"SET_CLIP_PARSING_STATUS",payload:{layerIndex:Je,colIndex:ce,status:!1}})}};a.addEventListener("message",B);let N,K,G,J=0,de=0;const Se=60,We=1e3/Se,Zt=1e3/30,vn=Me=>{if(Me.length===0)return null;if(Me.length===1)return Me[0];let Je=0;Me.forEach((it,Oe)=>{const ct=it.points instanceof Float32Array||it.isTypedArray?it.points.length/8:it.points.length;Je+=ct,Oe<Me.length-1&&(Je+=2)});const ce=new Float32Array(Je*8);let tt=0;return Me.forEach((it,Oe)=>{const Ve=it.points instanceof Float32Array||it.isTypedArray,ct=Ve?it.points.length/8:it.points.length;for(let Ke=0;Ke<ct;Ke++){const Ge=(tt+Ke)*8;if(Ve){const Fe=Ke*8;ce.set(it.points.subarray(Fe,Fe+8),Ge)}else{const Fe=it.points[Ke];ce[Ge]=Fe.x,ce[Ge+1]=Fe.y,ce[Ge+2]=Fe.z||0,ce[Ge+3]=Fe.r,ce[Ge+4]=Fe.g,ce[Ge+5]=Fe.b,ce[Ge+6]=Fe.blanking?1:0,ce[Ge+7]=Fe.lastPoint?1:0}ce[Ge+7]=0}if(tt+=ct,Oe<Me.length-1){const Ke=Me[Oe+1],Ge=Ke.points instanceof Float32Array||Ke.isTypedArray,Fe=ce[(tt-1)*8],Mt=ce[(tt-1)*8+1];let Xe,Nt;Ge?(Xe=Ke.points[0],Nt=Ke.points[1]):(Xe=Ke.points[0].x,Nt=Ke.points[0].y);let Pt=tt*8;ce[Pt]=Fe,ce[Pt+1]=Mt,ce[Pt+6]=1,ce[Pt+3]=0,ce[Pt+4]=0,ce[Pt+5]=0;let xt=(tt+1)*8;ce[xt]=Xe,ce[xt+1]=Nt,ce[xt+6]=1,ce[xt+3]=0,ce[xt+4]=0,ce[xt+5]=0,tt+=2}}),ce[(Je-1)*8+7]=1,{points:ce,isTypedArray:!0}},nr=Me=>{if(!Nn){cancelAnimationFrame(K);return}if(Me-J>We){if(window.electronAPI&&Xt.length>0&&Nn){const Je=new Map;Xt.forEach(ce=>{if(ce&&g.current[ce.workerId]){const tt=ce.assignedDacs&&ce.assignedDacs.length>0?ce.assignedDacs:qt?[qt]:[];if(tt.length===0)return;const it=ce.effects||[],Oe=g.current[ce.workerId],Ve=ma.current[ce.layerIndex],ct=wl.current,Ke=Rn.current[ce.layerIndex],Ge=Ut.current[ce.layerIndex],Fe=Ut.current.some(ze=>ze);let Mt=Ve;ct?Mt=0:Fe?Ge?Ke&&(Mt=0):Mt=0:Ke&&(Mt=0);const Xe=Mt*It.current;if(Xe<=0)return;const Nt=x.current[ce.workerId]||0,Pt=ce.syncSettings||{},xt={...Oe,points:gn(Oe.points)?Oe.points:Oe.points.map(ze=>({...ze,r:Math.round(ze.r*Xe),g:Math.round(ze.g*Xe),b:Math.round(ze.b*Xe)}))};if(gn(xt.points)){const ze=xt.points,Rt=ze.length/8,an=new Float32Array(ze);for(let dt=0;dt<Rt;dt++)an[dt*8+3]*=Xe,an[dt*8+4]*=Xe,an[dt*8+5]*=Xe;xt.points=an}const Gt=it.map(ze=>{const Rt={...ze.params},an=Cn.find(dt=>dt.id===ze.id);return an&&an.paramControls.forEach(dt=>{const ar=`${ze.id}.${dt.id}`,rn=Pt[ar];if(rn&&(dt.type==="range"||dt.type==="number")){let Wn=0;rn==="fps"?Wn=Me*.001*(Zn/60)%1:(rn==="timeline"||rn==="bpm")&&(Wn=Nt),Rt[dt.id]=dt.min+(dt.max-dt.min)*Wn}}),{...ze,params:Rt}}),Kn=f0(xt,Gt,{progress:Nt,time:Me});tt.forEach(ze=>{const Rt=ze.ip,an=ze.channel||(ze.channels&&ze.channels.length>0?ze.channels[0].serviceID:0);if(an!==0){const dt=`${Rt}:${an}`;Je.has(dt)||Je.set(dt,{ip:Rt,channel:an,frames:[]});let ar=Kn;if(ze.mirrorX||ze.mirrorY){const rn=Kn.points,Wn=Kn.isTypedArray,ru=Wn?rn.length/8:rn.length,Qt=Wn?new Float32Array(rn):rn.map(zt=>({...zt}));for(let zt=0;zt<ru;zt++)Wn?(ze.mirrorX&&(Qt[zt*8]=-Qt[zt*8]),ze.mirrorY&&(Qt[zt*8+1]=-Qt[zt*8+1])):(ze.mirrorX&&(Qt[zt].x=-Qt[zt].x),ze.mirrorY&&(Qt[zt].y=-Qt[zt].y));ar={...Kn,points:Qt}}Je.get(dt).frames.push(ar)}})}}),Je.forEach(ce=>{const tt=vn(ce.frames);tt&&window.electronAPI.sendFrame(ce.ip,ce.channel,tt,Se)})}J=Me}K=requestAnimationFrame(nr)};function gn(Me){return!!Me&&(Me instanceof Float32Array||Me.buffer instanceof ArrayBuffer)}const Or=Me=>{const Je=1e3/Zn;if(ne.forEach((ce,tt)=>{const it=tn[tt];if(it===null)return;const Oe=C[tt][it];if(!Oe)return;let Ve=Oe.type==="ilda"?Oe.workerId:Oe.type==="generator"?`generator-${tt}-${it}`:null;if(!Ve)return;D.current[Ve]||(D.current[Ve]=Me);const ct=Me-D.current[Ve],Ke=m(tt);let Ge=w.current[Ve]||0,Fe=0;const Mt=Oe.totalFrames||1,Xe=Oe.playbackSettings||{mode:"fps",duration:Mt/60,beats:8,speedMultiplier:1};if(Ke&&nn&&!Ke.paused)Fe=Ke.currentTime/Ke.duration,Ge=Math.floor(Fe*Mt);else if(Xe.mode==="timeline"){const Nt=Xe.duration*1e3/(Xe.speedMultiplier||1);nn&&(Fe=ct/Nt%1,Ge=Math.floor(Fe*Mt))}else if(Xe.mode==="bpm"){const Nt=6e4/(ve.bpm||120),Pt=Xe.beats*Nt/(Xe.speedMultiplier||1);nn&&(Fe=ct/Pt%1,Ge=Math.floor(Fe*Mt))}else if(ct>=Je){const Nt=Math.floor(ct/Je);D.current[Ve]=Me-ct%Je,nn&&(Ge=Ge+Nt),Fe=Ge%Mt/Mt}else return;if(x.current[Ve]=Fe,Mt>0&&(Ge=Ge%Mt),w.current[Ve]!==Ge||!g.current[Ve]){if(w.current[Ve]=Ge,Oe.type==="ilda")a.postMessage({type:"get-frame",workerId:Ve,frameIndex:Ge});else if(Oe.type==="generator"){const Nt={...Oe.currentParams},Pt=Oe.syncSettings||{},xt=Oe.generatorDefinition;xt&&xt.paramControls.forEach(Gt=>{const Kn=`${xt.id}.${Gt.id}`,ze=Pt[Kn];if(ze&&(Gt.type==="range"||Gt.type==="number")){let Rt=0;ze==="fps"?Rt=Me*.001*(Zn/60)%1:(ze==="timeline"||ze==="bpm")&&(Rt=Fe),Nt[Gt.id]=Gt.min+(Gt.max-Gt.min)*Rt}}),Oe.frames&&Oe.frames[Ge%Oe.frames.length]&&(g.current[Ve]=Oe.frames[Ge%Oe.frames.length])}}}),Vt&&!Xt.some(ce=>ce.workerId===Vt)){const ce=Vt;D.current[ce]||(D.current[ce]=Me);const tt=Me-D.current[ce];if(tt>=Je){const it=Math.floor(tt/Je);D.current[ce]=Me-tt%Je;const Oe=w.current[ce]||0;let Ve=Oe;if(nn&&(Ve=(Oe+it)%(Tr||1),w.current[ce]=Ve),ce.startsWith("generator-")){const ct=ce.split("-");if(ct.length===3){const Ke=parseInt(ct[1]),Ge=parseInt(ct[2]),Fe=ve.clipContents[Ke][Ge];Fe&&Fe.type==="generator"&&Fe.frames&&(g.current[ce]=Fe.frames[Ve%Fe.frames.length])}}else a.postMessage({type:"get-frame",workerId:ce,frameIndex:Ve})}}N=requestAnimationFrame(Or)},xi=Me=>{Me-de>Zt&&(A(Je=>Je+1),de=Me),G=requestAnimationFrame(xi)};return N=requestAnimationFrame(Or),G=requestAnimationFrame(xi),Nn?K=requestAnimationFrame(nr):cancelAnimationFrame(K),()=>{a.removeEventListener("message",B),cancelAnimationFrame(N),cancelAnimationFrame(K),cancelAnimationFrame(G)}},[a,Nr,Zn,C,nn,Xt,Nn,qt,ve.clipContents,Vt,Tr,m,ve.bpm]),L.useEffect(()=>{let B,N,K;return window.electronAPI&&(B=window.electronAPI.onClipContextMenuCommand((G,J,de)=>{if(console.log(`Clip context menu command received: ${G} for ${J}-${de}`),G==="update-thumbnail"){const Se=C[J][de];if(Se)if(Se.type==="ilda"&&Se.workerId&&a){const We=w.current[Se.workerId]||0;a.postMessage({type:"get-frame",workerId:Se.workerId,frameIndex:We,isStillFrame:!0,layerIndex:J,colIndex:de})}else Se.type==="generator"&&Se.generatorDefinition&&t&&va(J,de,Se.generatorDefinition,Se.currentParams)}else if(G==="clear-clip")P({type:"CLEAR_CLIP",payload:{layerIndex:J,colIndex:de}});else if(G==="rename-clip"){const Se=X[J][de];je({title:"Rename Clip",initialValue:Se,onSave:We=>P({type:"SET_CLIP_NAME",payload:{layerIndex:J,colIndex:de,name:We}})}),ge(!0)}else if(G==="copy-clip"){const Se={content:C[J][de],name:X[J][de]};P({type:"SET_CLIPBOARD",payload:Se}),Fn("Clip copied.")}else if(G==="cut-clip"){const Se={content:C[J][de],name:X[J][de]};P({type:"SET_CLIPBOARD",payload:Se}),P({type:"CLEAR_CLIP",payload:{layerIndex:J,colIndex:de}}),Fn("Clip cut.")}else if(G==="paste-clip")if(ve.clipClipboard){const{content:Se,name:We}=ve.clipClipboard;let Qe={...Se};Qe.type==="ilda"&&(Qe.workerId=null),P({type:"SET_CLIP_CONTENT",payload:{layerIndex:J,colIndex:de,content:Qe}}),P({type:"SET_CLIP_NAME",payload:{layerIndex:J,colIndex:de,name:We}}),Fn("Clip pasted."),setTimeout(()=>{const Zt=Qe;Zt.type==="generator"&&Zt.generatorDefinition&&va(J,de,Zt.generatorDefinition,Zt.currentParams)},100)}else Fn("Clipboard is empty.");else G==="set-trigger-style-normal"?P({type:"SET_CLIP_TRIGGER_STYLE",payload:{layerIndex:J,colIndex:de,style:"normal"}}):G==="set-trigger-style-toggle"?P({type:"SET_CLIP_TRIGGER_STYLE",payload:{layerIndex:J,colIndex:de,style:"toggle"}}):G==="set-trigger-style-flash"&&P({type:"SET_CLIP_TRIGGER_STYLE",payload:{layerIndex:J,colIndex:de,style:"flash"}})}),N=window.electronAPI.onLayerFullContextMenuCommand((G,J)=>{if(console.log(`Layer context menu command received: ${G} for ${J}`),G==="layer-rename"){const de=ne[J];je({title:"Rename Layer",initialValue:de,onSave:Se=>P({type:"SET_LAYER_NAME",payload:{index:J,name:Se}})}),ge(!0)}else G==="layer-clear-clips"&&P({type:"DEACTIVATE_LAYER_CLIPS",payload:{layerIndex:J}})}),K=window.electronAPI.onContextMenuActionFromMain(G=>{if(console.log("General context menu action received:",G),G.type==="rename-column"){const J=le[G.index];je({title:"Rename Column",initialValue:J,onSave:de=>P({type:"SET_COLUMN_NAME",payload:{index:G.index,name:de}})}),ge(!0)}else if(G.type==="rename-layer"){const J=ne[G.index];je({title:"Rename Layer",initialValue:J,onSave:de=>P({type:"SET_LAYER_NAME",payload:{index:G.index,name:de}})}),ge(!0)}})),()=>{B&&B(),N&&N(),K&&K()}},[C,X,ne,le,a,t,ve.clipClipboard]);const Gn=L.useRef(ie);L.useEffect(()=>{for(let B=0;B<ne.length;B++)for(let N=0;N<le.length;N++){const K=ie[B][N],G=Gn.current[B][N];if(K!==G){const J=C[B][N];J&&J.type==="ilda"&&J.workerId&&(console.log(`[App.jsx] Fetching new still frame for ${B}-${N} at index ${K}`),a.postMessage({type:"get-frame",workerId:J.workerId,frameIndex:K,isStillFrame:!0,layerIndex:B,colIndex:N}))}}Gn.current=ie},[ie,C,ne.length,le.length,a]),L.useEffect(()=>{!ve.projectLoadTimestamp||!a||!t||(console.log("Project loaded, regenerating content..."),C.forEach((B,N)=>{B.forEach((K,G)=>{K&&(K.type==="ilda"&&K.filePath&&!K.workerId?(console.log(`Reparsing ILDA file for clip ${N}-${G}: ${K.filePath}`),a.postMessage({type:"load-and-parse-ilda",fileName:K.fileName,filePath:K.filePath,layerIndex:N,colIndex:G})):K.type==="generator"&&K.generatorDefinition&&(console.log(`Regenerating generator clip ${N}-${G} on project load`),va(N,G,K.generatorDefinition,K.currentParams)))})}))},[ve.projectLoadTimestamp,a,t]),L.useEffect(()=>{let B,N,K,G,J;return window.electronAPI&&(B=window.electronAPI.on("new-project",()=>P({type:"RESET_STATE"})),N=window.electronAPI.on("open-project",()=>{}),K=window.electronAPI.on("save-project",()=>window.electronAPI.send("save-project",ve)),G=window.electronAPI.on("save-project-as",()=>window.electronAPI.send("save-project-as",ve)),J=window.electronAPI.on("load-project-data",de=>{P({type:"LOAD_PROJECT",payload:de})})),()=>{B&&B(),N&&N(),K&&K(),G&&G(),J&&J()}},[ve]),L.useEffect(()=>{let B,N;return(async()=>{if(window.electronAPI&&window.electronAPI.getAllSettings){const G=await window.electronAPI.getAllSettings();G&&(G.shortcutsState&&xe(G.shortcutsState),P({type:"LOAD_SETTINGS",payload:G}))}})(),window.electronAPI&&(B=window.electronAPI.onMenuAction(G=>{if(console.log("Menu action received:",G),G.startsWith("set-theme-")){const J=G.split("set-theme-")[1];P({type:"SET_THEME",payload:J})}else if(G==="shortcuts-window"||G.startsWith("open-")&&G.endsWith("-settings"))W(!0);else if(G.startsWith("toggle-")){const J=G.split("-");if(J.length===3){const de=J[1],Se=J[2]==="true";xe(We=>({...We,[de]:Se}))}}}),N=window.electronAPI.onRenderSettingsCommand(G=>{console.log("Render settings command received:",G),P({type:"SET_RENDER_SETTING",payload:{setting:G.setting,value:G.value}})})),()=>{B&&B(),N&&N()}},[]),L.useEffect(()=>{if(!a)return;const B=async N=>{if(N.data.type==="request-file-content"){const{filePath:K,requestId:G}=N.data;try{const J=await window.electronAPI.readFileForWorker(K);a.postMessage({type:"file-content-response",requestId:G,arrayBuffer:J},[J])}catch(J){console.error(`Renderer: Failed to read file for worker: ${K}`,J),a.postMessage({type:"file-content-response",requestId:G,error:J.message})}}else if(N.data.type==="parsing-status"){const{layerIndex:K,colIndex:G,status:J}=N.data;P({type:"SET_CLIP_PARSING_STATUS",payload:{layerIndex:K,colIndex:G,status:J}})}};return a.addEventListener("message",B),()=>{a.removeEventListener("message",B)}},[a]);const Rr=L.useMemo(()=>be!==null&&fe!==null?C[be][fe]?.effects||[]:[],[be,fe,C]),Ja=L.useCallback((B,N,K,G,J)=>{P({type:"UPDATE_EFFECT_PARAMETER",payload:{layerIndex:B,colIndex:N,effectIndex:K,paramName:G,newValue:J}})},[]);L.useEffect(()=>{if(!t)return;const B=N=>{if(N.data.success){const{layerIndex:K,colIndex:G,frames:J,generatorDefinition:de,currentParams:Se}=N.data,We=ve.clipContents[K][G]||{},Qe={...We,type:"generator",generatorDefinition:de,frames:J,currentParams:Se,playbackSettings:We.playbackSettings||{mode:"fps",duration:J.length/60,beats:8,speedMultiplier:1}};P({type:"SET_CLIP_CONTENT",payload:{layerIndex:K,colIndex:G,content:Qe}});const Zt=`generator-${K}-${G}`;g.current[Zt]=J[0]}else Fn(`Error generating frames: ${N.data.error}`)};return t.addEventListener("message",B),()=>{t.removeEventListener("message",B)}},[t,ve.clipContents]);const tu=L.useCallback((B,N,K)=>{console.log("[App.jsx] handleDropGenerator - Received generatorDefinition:",K),t&&(console.log("[App.jsx] handleDropGenerator - Using new regenerateGeneratorClip function"),va(B,N,K,K.defaultParams))},[t]),va=async(B,N,K,G)=>{const J={...K.defaultParams,...G};let de=null;if(K.id==="text"){const We="src/fonts/arial.ttf";let Qe=J.fontUrl;["https://raw.githubusercontent.com/google/fonts/main/ofl/roboto/Roboto-Regular.ttf","https://raw.githubusercontent.com/googlefonts/roboto-2/main/src/hinted/Roboto-Regular.ttf"].includes(Qe)&&(Qe=We);try{if(Qe.startsWith("http"))if(window.electronAPI&&window.electronAPI.fetchUrlAsArrayBuffer)de=await window.electronAPI.fetchUrlAsArrayBuffer(Qe);else throw new Error("URL fetching API is not available.");else if(window.electronAPI&&window.electronAPI.readFileForWorker)de=await window.electronAPI.readFileForWorker(Qe);else throw new Error("File reading API is not available.")}catch(vn){console.error(`Failed to load font for text generator at ${B}-${N}:`,vn),Fn(`Font error: ${vn.message}`);return}}const Se={type:"generate",layerIndex:B,colIndex:N,generator:K,params:J,fontBuffer:de};de?t.postMessage(Se,[de]):t.postMessage(Se)},wn=L.useCallback(B=>{l(B),P({type:"DEACTIVATE_LAYER_CLIPS",payload:{layerIndex:B}})},[l]),$a=L.useCallback(()=>{h(),P({type:"CLEAR_ALL_ACTIVE_CLIPS"})},[h]),Qn=L.useCallback(()=>{o(),ne.forEach((B,N)=>{const K=tn[N];if(K!==null){const G=C[N][K];G&&G.audioFile&&!m(N)&&r(N,G.audioFile.path,!0)}}),P({type:"SET_IS_PLAYING",payload:!0}),P({type:"SET_IS_STOPPED",payload:!1})},[o,ne,tn,C,m,r]),vi=L.useCallback(()=>{u(),P({type:"SET_IS_PLAYING",payload:!1}),P({type:"SET_IS_STOPPED",payload:!1})},[u]),wr=L.useCallback(()=>{p(),u(),P({type:"SET_IS_PLAYING",payload:!1}),P({type:"SET_IS_STOPPED",payload:!0}),w.current={}},[p,u]),er=L.useCallback((B,N,K=!0)=>{const G=C[B][N];if(!G){K&&(tr(B,N),wn(B));return}const J=G.triggerStyle||"normal",de=tn[B];if(J==="normal"){if(!K)return}else if(J==="toggle"){if(!K)return;if(de===N){wn(B);return}}else if(J==="flash"&&!K){de===N&&wn(B);return}if(G&&G.type==="generator"&&G.frames){const Se=`generator-${B}-${N}`;g.current[Se]=G.frames[0],D.current[Se]=performance.now(),w.current[Se]=0}else G&&G.type==="ilda"&&G.workerId&&(D.current[G.workerId]=performance.now(),w.current[G.workerId]=0);G&&G.audioFile?r(B,G.audioFile.path,nn):l(B),P({type:"SET_ACTIVE_CLIP",payload:{layerIndex:B,colIndex:N}})},[C,tn,wn,r,nn,l]),gi=L.useCallback((B,N,K)=>{P({type:"ADD_CLIP_EFFECT",payload:{layerIndex:B,colIndex:N,effect:K}})},[]),yi=L.useCallback((B,N,K)=>{console.trace("App.jsx: handleDropDac received dacData:",K),P({type:"SET_CLIP_DAC",payload:{layerIndex:B,colIndex:N,dac:K}})},[]),tr=L.useCallback((B,N)=>{P({type:"SET_SELECTED_CLIP",payload:{layerIndex:B,colIndex:N}});const K=C[B][N];if(K&&K.type==="ilda")P({type:"SET_SELECTED_ILDA_DATA",payload:{workerId:K.workerId,totalFrames:K.totalFrames,generatorId:null,generatorParams:{}}});else if(K&&K.type==="generator"){const G=`generator-${B}-${N}`;P({type:"SET_SELECTED_ILDA_DATA",payload:{workerId:G,generatorId:K.generatorDefinition.id,generatorParams:K.currentParams,totalFrames:K.frames.length}}),console.log(`[App.jsx] handleClipPreview - Dispatched SET_SELECTED_ILDA_DATA for generator. workerId: ${G}`)}else P({type:"SET_SELECTED_ILDA_DATA",payload:{workerId:null,totalFrames:0,generatorId:null,generatorParams:{}}})},[C]),nu=B=>{window.electronAPI&&window.electronAPI.showLayerFullContextMenu&&window.electronAPI.showLayerFullContextMenu(B)},zn=B=>{window.electronAPI&&window.electronAPI.showColumnContextMenu&&window.electronAPI.showColumnContextMenu(B)},yt=B=>{ne.forEach((N,K)=>{const G=C[K][B];G&&(G.type==="ilda"||G.type==="generator")?er(K,B):wn(K)})},Ft=L.useCallback(B=>{P({type:"SET_SELECTED_DAC",payload:B})},[]),ga=L.useCallback(B=>{P({type:"SET_DACS",payload:B})},[]),bi=(B,N)=>{if(be!==null&&fe!==null){const K=C[be][fe];if(!K||!K.generatorDefinition)return;const G={...K.currentParams,[B]:N};P({type:"UPDATE_GENERATOR_PARAM",payload:{layerIndex:be,colIndex:fe,paramName:B,newValue:N}}),va(be,fe,K.generatorDefinition,G)}},Ol=be!==null&&fe!==null?C[be][fe]:null,Dl=Ol?be:null,mn=(Dl!==null?T[Dl]:1)*ae,Si=L.useMemo(()=>{const B=g.current[Vt]||null;return B&&mn!==1?{...B,points:B.points.map(N=>({...N,r:Math.round(N.r*mn),g:Math.round(N.g*mn),b:Math.round(N.b*mn)}))}:B},[S,Vt,mn]),ya=L.useMemo(()=>{const B={};return Xt.forEach(N=>{N&&N.workerId&&g.current[N.workerId]&&(B[N.workerId]={frame:g.current[N.workerId],effects:N.effects||[],layerIndex:N.layerIndex})}),B},[Xt,S]),ba=L.useMemo(()=>{const B=$.some(N=>N);return T.map((N,K)=>{if(se)return 0;if(B){if(!$[K]||z[K])return 0}else if(z[K])return 0;return N})},[T,z,$,se]),Sa=L.useCallback((B,N,K=127,G="noteon")=>{if(N===0&&!B.endsWith("_intensity")&&B!=="master_intensity"&&B!=="master_speed"&&!B.startsWith("clip_")&&B!=="bpm_value"&&B!=="bpm_fine_up"&&B!=="bpm_fine_down")return;const J=N/K;switch(B){case"transport_play":N>0&&Qn();break;case"transport_pause":N>0&&vi();break;case"transport_stop":N>0&&wr();break;case"comp_blackout":N>0&&P({type:"TOGGLE_GLOBAL_BLACKOUT"});break;case"comp_clear":N>0&&$a();break;case"master_intensity":P({type:"SET_MASTER_INTENSITY",payload:J});break;case"master_speed":const de=Math.max(1,Math.round(J*120));mi(de);break;case"laser_output":N>0&&P({type:"TOGGLE_WORLD_OUTPUT_ACTIVE"});break;case"bpm_value":if(G==="controlchange"){let Se=0;N<=10?Se=N:N>=118&&(Se=N-128),Se!==0&&P({type:"SET_BPM",payload:Math.max(1,Math.min(999,(ve.bpm||120)+Se))})}break;case"bpm_fine_up":N>0&&P({type:"SET_BPM",payload:Math.min(999,(ve.bpm||120)+.1)});break;case"bpm_fine_down":N>0&&P({type:"SET_BPM",payload:Math.max(1,(ve.bpm||120)-.1)});break;case"bpm_tap":break;default:if(B.startsWith("layer_")){const Se=B.split("_"),We=parseInt(Se[1]),Qe=Se[2];Qe==="blackout"&&N>0?P({type:"TOGGLE_LAYER_BLACKOUT",payload:{layerIndex:We}}):Qe==="solo"&&N>0?P({type:"TOGGLE_LAYER_SOLO",payload:{layerIndex:We}}):Qe==="intensity"?P({type:"SET_LAYER_INTENSITY",payload:{layerIndex:We,intensity:J}}):Qe==="clear"&&N>0&&wn(We)}else if(B.startsWith("clip_")){const Se=B.split("_"),We=parseInt(Se[1]),Qe=parseInt(Se[2]);Se[3]==="preview"?N>0&&tr(We,Qe):er(We,Qe,N>0)}else if(B.startsWith("column_")){const Se=B.split("_"),We=parseInt(Se[1]);N>0&&yt(We)}}},[Qn,vi,wr,$a,wn,mi,ve.bpm,tr,er,yt]);return b.jsx(hg,{onMidiCommand:Sa,children:b.jsxs(pg,{onArtnetCommand:(B,N)=>Sa(B,N,255),children:[b.jsx(tx,{isPlaying:nn,globalBlackout:se,layerBlackouts:z,layerSolos:$,isWorldOutputActive:Nn,clipContents:C,activeClipIndexes:tn,theme:Mr,bpm:ve.bpm}),b.jsx(ty,{}),b.jsx("div",{className:"app",children:b.jsxs(Xg,{children:[b.jsx(Fg,{message:qe.message,visible:qe.visible}),b.jsx(Vg,{show:Ee,title:we.title,initialValue:we.initialValue,onSave:we.onSave,onClose:()=>W(!1)||ge(!1)}),b.jsxs("div",{className:"main-content",children:[b.jsxs("div",{className:"top-bar-left-area",children:[b.jsx(vg,{masterIntensity:ve.masterIntensity,onMasterIntensityChange:B=>P({type:"SET_MASTER_INTENSITY",payload:B}),onClearAllActive:$a,isGlobalBlackout:se,onToggleGlobalBlackout:()=>P({type:"TOGGLE_GLOBAL_BLACKOUT"})}),b.jsx($S,{isWorldOutputActive:Nn,onToggleWorldOutput:()=>P({type:"TOGGLE_WORLD_OUTPUT_ACTIVE"})})]}),b.jsxs("div",{className:"layer-controls-container",children:[ne.map((B,N)=>{const K=Xt.find(J=>{const de=tn[N];if(de===null)return!1;const Se=C[N][de];return Se?Se.type==="ilda"?J.workerId===Se.workerId:Se.type==="generator"?J.workerId===`generator-${N}-${de}`:!1:!1})||null,G=K?g.current[K.workerId]:null;return b.jsx(yg,{layerName:B,index:N,layerEffects:Te[N],activeClipData:K,liveFrame:G,thumbnailRenderMode:pi,intensity:ve.layerIntensities[N],onIntensityChange:J=>P({type:"SET_LAYER_INTENSITY",payload:{layerIndex:N,intensity:J}}),onDeactivateLayerClips:()=>wn(N),onShowLayerFullContextMenu:()=>nu(N),isBlackout:z[N],isSolo:$[N],onToggleBlackout:()=>P({type:"TOGGLE_LAYER_BLACKOUT",payload:{layerIndex:N}}),onToggleSolo:()=>P({type:"TOGGLE_LAYER_SOLO",payload:{layerIndex:N}})},N)}),"          "]}),b.jsx("div",{className:"clip-deck-container",children:b.jsxs("div",{className:"clip-deck",children:[b.jsx("div",{className:"column-headers-container",children:le.map((B,N)=>b.jsx(gg,{name:B,index:N,onTrigger:()=>yt(N),onShowColumnHeaderContextMenu:()=>zn(N)},N))}),ne.map((B,N)=>b.jsx("div",{className:"layer-row",children:le.map((K,G)=>{const J=C[N][G];let de=null;J&&J.type==="ilda"?de=J.workerId:J&&J.type==="generator"&&(de=`generator-${N}-${G}`);const Se=de?g.current[de]:null,We=J&&J.type==="ilda"?J.stillFrame:J&&J.type==="generator"?J.frames[0]:null;return b.jsx(wg,{layerIndex:N,colIndex:G,clipName:X[N][G],clipContent:J,thumbnailFrameIndex:ie[N][G],thumbnailRenderMode:pi,liveFrame:Se,stillFrame:We,onActivateClick:Qe=>er(N,G,Qe),isActive:tn[N]===G,onUnsupportedFile:Fn,onDropEffect:Qe=>gi(N,G,Qe),onDropGenerator:tu,onDropDac:(Qe,Zt,vn)=>{console.log("App.jsx: Lambda dacData from Clip:",vn),yi(Qe,Zt,vn)},onLabelClick:()=>tr(N,G),isSelected:be===N&&fe===G,ildaParserWorker:a},G)})},N))]})}),b.jsxs("div",{className:"side-panel",children:[b.jsxs("div",{className:"thumbnail-render-mode-selector",children:[b.jsx("label",{htmlFor:"thumbnailRenderMode",children:"Thumbnail Mode:"}),b.jsxs("select",{id:"thumbnailRenderMode",value:pi,onChange:B=>P({type:"SET_THUMBNAIL_RENDER_MODE",payload:B.target.value}),children:[b.jsx("option",{value:"still",children:"Still Frame"}),b.jsx("option",{value:"active",children:"Live Render"})]})]}),b.jsx(Hg,{frame:Si,effects:Rr,showBeamEffect:Ar,beamAlpha:Cr,fadeAlpha:Nl,previewScanRate:en,beamRenderMode:Rl,intensity:mn}),b.jsx(jg,{activeFrames:ya,showBeamEffect:Ar,beamAlpha:Cr,fadeAlpha:Nl,previewScanRate:en,beamRenderMode:Rl,layerIntensities:ba,masterIntensity:ae})]}),b.jsxs("div",{className:"middle-bar",children:[b.jsx("div",{className:"middle-bar-left-area",children:b.jsx(Pg,{bpm:ve.bpm,onBpmChange:B=>P({type:"SET_BPM",payload:B})})}),b.jsxs("div",{className:"middle-bar-mid-area",children:[b.jsx(Yg,{onPlay:Qn,onPause:vi,onStop:wr,isPlaying:nn,isStopped:ve.isStopped}),b.jsx(JS,{playbackFps:Zn,onSpeedChange:mi})]}),"          			",b.jsx("div",{className:"middle-bar-right-area",children:b.jsx("p",{children:" Right Section of Middle-Bar"})})]}),"          ",b.jsxs("div",{className:"bottom-panel",children:[b.jsx(Og,{onDropIld:(B,N,K)=>a.postMessage({type:"parse-ilda",file:K,layerIndex:B,colIndex:N})}),b.jsx(Dg,{}),b.jsx(_g,{}),b.jsx(Ug,{dacs:Pe,onDacSelected:Ft,onDacsDiscovered:ga}),b.jsx(Ig,{selectedLayerIndex:be,selectedColIndex:fe,clip:Ol,audioInfo:m(be),onAssignAudio:async()=>{const B=await window.electronAPI.showAudioFileDialog();if(B){const N=B.split(/[\\/]/).pop();P({type:"SET_CLIP_AUDIO",payload:{layerIndex:be,colIndex:fe,audioFile:{path:B,name:N}}})}},onRemoveAudio:()=>P({type:"REMOVE_CLIP_AUDIO",payload:{layerIndex:be,colIndex:fe}}),onUpdatePlaybackSettings:(B,N,K)=>P({type:"UPDATE_CLIP_PLAYBACK_SETTINGS",payload:{layerIndex:B,colIndex:N,settings:K}}),onSetParamSync:(B,N)=>P({type:"SET_CLIP_PARAM_SYNC",payload:{layerIndex:be,colIndex:fe,paramId:B,syncMode:N}}),onToggleDacMirror:(B,N,K,G)=>P({type:"TOGGLE_CLIP_DAC_MIRROR",payload:{layerIndex:B,colIndex:N,dacIndex:K,axis:G}}),onRemoveDac:B=>P({type:"REMOVE_CLIP_DAC",payload:{layerIndex:be,colIndex:fe,dacIndex:B}}),onRemoveEffect:(B,N,K)=>P({type:"REMOVE_CLIP_EFFECT",payload:{layerIndex:B,colIndex:N,effectIndex:K}}),onParameterChange:Ja,onGeneratorParameterChange:bi}),b.jsx(qg,{enabledShortcuts:oe})]})]})]})})]})})}rg.createRoot(document.getElementById("root")).render(b.jsx(Gg,{children:b.jsx(Qg,{children:b.jsxs(Kg,{children:[" ",b.jsx(nx,{})]})})}));
